<!doctype html>
<html lang="zh-CN" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Blog | Nacos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://nacos.io/zh-cn/img/nacos_colorful.png"><meta data-rh="true" name="twitter:image" content="https://nacos.io/zh-cn/img/nacos_colorful.png"><meta data-rh="true" property="og:url" content="https://nacos.io/zh-cn/blog"><meta data-rh="true" name="docusaurus_locale" content="zh-cn"><meta data-rh="true" name="docsearch:language" content="zh-cn"><meta data-rh="true" name="keywords" content="Nacos"><meta data-rh="true" property="og:title" content="Blog | Nacos"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"><link data-rh="true" rel="canonical" href="https://nacos.io/zh-cn/blog"><link data-rh="true" rel="alternate" href="https://nacos.io/en/blog" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://nacos.io/zh-cn/blog" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://nacos.io/blog" hreflang="default"><link data-rh="true" rel="alternate" href="https://nacos.io/blog" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/zh-cn/blog/rss.xml" title="Nacos RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-cn/blog/atom.xml" title="Nacos Atom Feed">




<link rel="stylesheet" href="//g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.css">
<script src="//g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.js"></script>
<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-YHS75WKFBR" async></script><link rel="stylesheet" href="/zh-cn/assets/css/styles.9dcd008d.css">
<link rel="preload" href="/zh-cn/assets/js/runtime~main.2794f8b4.js" as="script">
<link rel="preload" href="/zh-cn/assets/js/main.c8f69a37.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-cn/"><div class="navbar__logo"><img src="/zh-cn/img/nacos_colorful.png" alt="Nacos Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh-cn/img/nacos_colorful.png" alt="Nacos Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/zh-cn/">首页</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" docid="/what-is-nacos" href="/zh-cn/docs/v2/what-is-nacos">2.X（推荐）</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh-cn/docs/next/v2/what-is-nacos">用户文档</a></li><li><a class="dropdown__link" href="/zh-cn/docs/v2/what-is-nacos">2.X（推荐）</a></li><li><a class="dropdown__link" href="/zh-cn/docs/1.X/v2/what-is-nacos">1.X</a></li></ul></div><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">企业版NACOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://developer.aliyun.com/ebook/36?spm=a2c6h.20345107.ebook-index.18.152c2984fsi5ST" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">NACOS架构与原理<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-cn/blog">博客</a><a class="navbar__item navbar__link" href="/zh-cn/community">社区</a><a href="http://console.nacos.io/nacos/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">控制台样例<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中</a><ul class="dropdown__menu"><li><a href="/en/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">En</a></li><li><a href="/zh-cn/blog" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">中</a></li></ul></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">所有文章</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/1.4.0-release">双十一购物节，Nacos 1.4.0 + Go SDK 1.0.1发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/2.0.1-release">Nacos 2.0.1 + 1.4.2 Release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/2.0.3-release">Nacos 2.0.3版本发布，继续提升集群稳定性及升级稳定性</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/2.1.0-release">Nacos 2.1.0版本发布，支持鉴权及加解密插件</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/2.1.1-release">Nacos 四周年，2.1.1 及 1.4.4 版本同时发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/2.2.0-release">Nacos 2.2.0 版本发布，新增多种插件支持</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/2.2.1-release">Nacos 多个新版本发布，rust-sdk完全适配完成</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/2.2.2-release">Nacos 2.2.2发布，优化启动体验和鉴权提示</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/212-and-220beta-release">Nacos 2.1.2、2.2.0-BETA及go-sdk 2.1.1 版本同时发布，多语言生态再添大将</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/5w1h-what">Nacos 帮我们解决什么问题？—— 配置管理篇</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/5w1h-where">Nacos 有哪些典型的应用场景？—— 配置管理篇</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/access control design">Nacos权限控制设计方案</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/address-server">Nacos环境隔离</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/alibaba-configserver">阿里巴巴服务注册中心产品ConfigServer 10年技术发展回顾</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/announcement-token-secret-key">关于Nacos默认token.secret.key及server.identity风险说明及解决方案公告</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/apisix">Apache APISIX 基于 Nacos 实现服务发现</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/chengdu-dubbo">Nacos 计划发布v0.2版本，进一步融合Dubbo和SpringCloud生态</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/cmdb">Nacos打通CMDB实现就近访问</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/cncf">Nacos 进入CNCF landscape</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/consul-k8s">Consul与kubernetes整合公告[翻译]</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/csharp-0.5.0">Nacos-sdk-csharp 0.5.0正式发布，功能与Java版本对齐！</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/discovery-console">Nacos服务发现控制台预览</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/dns-sd">微服务架构中基于DNS的服务注册与发现</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/dynamic-route-zuul-nacos">使用Nacos实现Spring Cloud Zuul的动态路由</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/eureka2">Eureka 2.0 开源工作宣告停止？别担心，ANS 即将 C位强势出道！</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/feeling-of-ASoC-2019">参与开源，Offer拿到手软 -- 来自一名2019阿里巴巴编程之夏同学的亲述</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/huya-nacos">虎牙直播共建Nacos生态</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/huya-practice">虎牙直播在微服务改造方面的实践和总结</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/iscas2021">Nacos 开源之夏2021活动 报名正式开启</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/iscas2022">Nacos开源之夏2022，贡献社区赢取12000奖金</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/iscas2023">Nacos开源之夏2023，贡献社区赢取12000奖金</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos 1.1.0">Nacos 1.1.0发布，支持灰度配置和地址服务器模式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos 1.1.4">Nacos 1.1.4发布，业界率先支持Istio MCP协议</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos 1.2.0 guide">Nacos 1.2.0 权限控制介绍和使用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos-1.3.0-design">Nacos 1.3.0 全新内核构建过程</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos-2nd-anniversary">Nacos 两周年献礼，Nacos 1.3.2 + Go SDK 1.0.0发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos-confd">nacos-confd</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos-distro-mechanism">Nacos 的 Distro 一致性协议</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos-is-coming">支持Dubbo生态发展，阿里巴巴启动新的开源项目 Nacos</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos-reigster-mechanism">Nacos 的一条注册请求会经历什么？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos-roadmap">Nacos Roadmap：Nacos GA后会有哪些大动作？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos">Nacos 0.1.0 版本Review 活动设计</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos0.5">Nacos0.5发布，支持DNS-based Service Discovery，JAVA 11</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos0.6">Nacos 0.6版本发布，支持Dubbo生态并且支持Docker部署</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos0.8">Nacos 0.8.0版本进行发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos0.9-intro">Nacos 0.9.0版本进行发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos0.9.0">Nacos 0.9.0版本进行发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos1.0.0">Nacos 发布 1.0.0 版本，可大规模投入到生产环境中</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/nacos3.0-is-coming">我们总结了3大使用建议，并首次公开 Nacos3.0 规划图 | Nacos 开源4周年</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/namespace-endpoint-best-practices">Namespace,endpoint 最佳实践</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/performance-compare">Nacos 2.0 升级前后性能对比压测</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/pilot mcp">Pilot MCP协议介绍</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/springboot-0.2.10">Nacos-spring-boot0.2.10发布，全面支持Nacos2.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/up-to-2w-star">双十一献礼 | Nacos Star破两万的回顾与展望</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/use-nacos-with-rainbond">在 Rainbond 中一键安装高可用 Nacos 集群</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/xiaomi-scale">小米Nacos2.0扩缩容最佳实践</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-cn/blog/higress">Higress + Nacos 微服务网关最佳实践</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="双十一购物节，Nacos 1.4.0 + Go SDK 1.0.1发布"><meta itemprop="keywords" content="开源,1.4.0,Go 1.0.1"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/1.4.0-release">双十一购物节，Nacos 1.4.0 + Go SDK 1.0.1发布</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 7 分钟</div></header><div class="markdown" itemprop="articleBody"><p>一年一度的双十一购物节又来了，不知道小伙伴们有没有抢到想要的商品呢？
无论您是否“剁手”成功，Nacos都为社区的各位奉上礼物庆祝双十一 -- <code>Nacos 1.4.0</code>和<code>nacos-sdk-go 1.0.1</code>正式发布。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-140">Nacos 1.4.0<a href="#nacos-140" class="hash-link" aria-label="Nacos 1.4.0的直接链接" title="Nacos 1.4.0的直接链接">​</a></h2><p>这个版本主要变更为：</p><ol><li>重构了naming模块的distro协议，并且下沉到了nacos-core模块。</li><li>使用了jraft对旧的自实现raft协议进行了替换，提高性能和raft语义的准确性。</li><li>对nacos所使用的http客户端进行了完全地统一，并优化了一些http客户端的使用，减少了连接损耗，特别是CLOSE_WAIT连接的数量。</li><li>添加了一个单独修改服务元数据的BETA接口。</li><li>修复了一些旧版本的bug并优化了控制台使用。</li></ol><p>具体的变更列表如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[#1654] 修复内容高亮在配置详情页面无效的问题.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#2792] 记录操作时的用户信息当打开权限功能后。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#2835] 修复控制台不停loading如果没有该namespace的权限。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#2866] 修复客户端没有访问 /nacos/v1/ns/operator/metrics权限的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3117] 优化内部事件机制并下沉到nacos-common模块。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3192] 统一nacos服务端的http客户端使用。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3315] nacos客户端支持https。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3397] 修复一些关于启动脚本的错误。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3384] 修复控制台关于raft信息显示不同步的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3500] 统一控制台中服务治理和配置管理的分页列表。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3509] 修复使用地址服务器模式获取nacos集群地址时无法获取nacos配置文件的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3518] 在绑定角色的时候用户列表改成下拉选中的模式。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3530] 在控制台的页面中添加刷新按钮来刷新列表。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3533] 修改客户端缓存目录配置。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3515][#3536][#3899] 升级依赖修复安全漏洞。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3528] 修复客户端会获取到无效的project.version。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3550] 修复服务端无法创建raft协议的持久化文件的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3560] 修改浏览器标签页上的nacos logo。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3566] 从nacos-config模块中下沉权限相关内容到nacos-auth模块。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3576] 给NamingMaintainService添加生命周期相关接口。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3592] 修复修复访问无权限的名称空间时的错误提示。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3628] 优化客户端更新不存在的订阅服务的频率。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3635] 在nacos-naming模块使用Jraft替换自研raft协议。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3651] 优化nacos服务端对http-client的使用以减少CLOSE_WAI连接的数量。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3661] 优化使用Jraft时更新raft group的更新逻辑。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3671] 移动部分工具类到nacos-common模块复用。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3676] 修复还原块在“内容比较”页面中不起作用。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3692] 重构nacos-naming模块中的Distro协议。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3687] 校验服务名格式为Group@@ServiceName。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3710] 修复发布服务会导致丢失元数据中带有特殊字符的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3781] 修复服务实例可能间歇性掉线的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3790] 修复客户端可能发生的配置乱码问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3815] 修复当客户端缓存存在中文时可能被截断的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3833] 修复新消息通知系统在没有订阅者的时候抛空指针异常的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3855] 在控制台查看配置详情页面里添加上版本改动的展示。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3904] 支持单独修改服务元数据内容的功能。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3909] 修复nacos服务端无法配置域名的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3973] 修复首次运行时，导入配置失败的问题。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4110] 修复扩容集群时raft协议服务更新新节点的问题。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-go-sdk-101">Nacos Go SDK 1.0.1<a href="#nacos-go-sdk-101" class="hash-link" aria-label="Nacos Go SDK 1.0.1的直接链接" title="Nacos Go SDK 1.0.1的直接链接">​</a></h2><p>这个版本主要是修复了一些旧版本的bug以及增加客户端对于https的支持等等。</p><p>详细的变更列表请查看 <a href="https://github.com/nacos-group/nacos-sdk-go/releases/tag/v1.0.1" target="_blank" rel="noopener noreferrer">https://github.com/nacos-group/nacos-sdk-go/releases/tag/v1.0.1</a>  </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="社区的直接链接" title="社区的直接链接">​</a></h2><p>随着Nacos 1.4.0的发布， Nacos社区又新增了两位Committer：Maijh97 和 wangweizZZ。
两位分别在统一http client使用，下沉auth模块，客户端的https功能，重构部分服务端线程池和修复bug等内容中作出许多贡献，并积极参与社区讨论。</p><p>Nacos社区欢迎更多愿意参与共建的小伙伴加入，包括但不限于：</p><ul><li>源代码</li><li>文档</li><li>社区讨论</li><li>多语言实现</li><li>周边生态产品结合</li></ul><p>积极参与将可以获得Nacos社区赠送的精美小礼品～</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="结尾">结尾<a href="#结尾" class="hash-link" aria-label="结尾的直接链接" title="结尾的直接链接">​</a></h2><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p><p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 2.0.1 + 1.4.2 Release"><meta itemprop="keywords" content="2.0.1,1.4.2"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/2.0.1-release">Nacos 2.0.1 + 1.4.2 Release</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 6 分钟</div></header><div class="markdown" itemprop="articleBody"><p>Nacos是阿里巴巴开源的服务发现与配置管理项目，本次同时发布两个版本：</p><ol><li>发布2.0.1版本，主要致力于支持MCP-OVER-XDS协议，解决Nacos与Istio数据服务同步问题。</li><li>发布1.4.2版本，极大增强k8s环境中JRaft集群Leader选举的稳定性。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-201">Nacos 2.0.1<a href="#nacos-201" class="hash-link" aria-label="Nacos 2.0.1的直接链接" title="Nacos 2.0.1的直接链接">​</a></h2><p>2.0.1主要变更为：</p><ol><li>在nacos-istio插件及模块中，支持MCP-OVER-XDS协议，解决Nacos与Istio数据服务同步问题。</li><li>增强了Jraft协议在k8s环境中的Leader选举的稳定性。</li><li>修复了频繁抛出Server is Down错误的问题。</li></ol><p>具体变更为：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[#3484] Support ldap login.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4856] Support mcp over xds.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5137] Support service list add view subscriber.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5367] Support client encryption plugin for nacos 2.0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5307] Push support config some parameters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5334] Fix Server is Down problem in k8s environment.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5361] Check isUseGrpcFeatures() when register instance using GRPC protocol.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5486] Refactor Distro Config as singleton and replace GlobalConfig.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5169] Fix instance beat run only by responsible server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5175] Fix publishConfig lost type.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5178] Fix NPE when init server list failed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5182] Fix throw NoSuchFieldException in ConfigController when service connect to nacos.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5204] Fix query error when pageNo is larger than service number.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5268] Fix subscriber app unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5327] Fix ThreadPool usage problem and add some monitor for distro.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5384] Fix the problem of unable to shutdown NacosConfigService.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5404] Fix frequently udp push for client 1.X.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5419] Fix Nacos 2.0 client auth may invalid for non public namespace.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5442] change state to UP when received status form old version server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5096] Add unit tests in nacos 2.0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5171][#5421][#5436][#5450][#5464] Fix IT for nacos 2.0.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-142">Nacos 1.4.2<a href="#nacos-142" class="hash-link" aria-label="Nacos 1.4.2的直接链接" title="Nacos 1.4.2的直接链接">​</a></h2><ol><li>该版本优化了JRaft模块，与最新的nacos-k8s项目配合使用，极大增强集群选主的稳定性。</li><li>另外，该版本了修复有关“Server is Down”问题的提示及众多1.4.1版本中的Bug。</li></ol><p>具体变更为：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[#4452] Add config compare features.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4602] Add new way for export config.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4996] Make log level changeable for nacos-core module.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5367] Add pre-plugin in client for encrypting config.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3922] Method createServiceIfAbsent in ServiceManager require sync.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4274] skip master-select task when db.num is 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4753] Use SafeConstructor to parse yaml configuration.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4762] Naming health check thread num support user define it by self.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4770] Beta publish: change the way of select betaIps, from input to select.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4778] Make SecurityProxy.accessToken threadsafe in single writer multi reader.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4903] Add securuty hint for login page.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4917] Raft ops interface add auth.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4980] Log4J2NacosLogging.loadConfiguration() return directly When location is blank.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5010] Fix the usage of TemplateUtils.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5190] Add some hint log when login failed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5234] Solve the problem that page can be edited while publishing-config request is processing.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5331] Fix the mouse hovers over the margin in a pointer state and cannot be clicked.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5350] Add hint and detail reason for consistence status Down.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5439] Support specified naming UDP push port for client.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5434] Optimize the ConfigType.isValidType method.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3779] Check groupName can&#x27;t be empty.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4661] ConfigServletInner#doGetConfig code optimization.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3610] Fix the press F1 to full screen issue in new config page.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3876] Fix push empty service name.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4306] Fix search service by group error problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4573,#4629] Jraft leader status check error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4672] Fix cloning configuration lost description.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4699] Fix metadata batch operation may delete instance problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4756] Fix config list sort and search problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4787] Losting member if parsing host throw UnknownHostException.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4806] Fix addListener method comment.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4829] Remove instance when distro and raft remove instances data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4852] Fix main.js is too large problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4854] Modify Header to support Keys Ignore Case.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4898] Fix instance list page bug.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4925] Fix member list change will cover member status and metadata problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5078] Fix the problem of inconsistent results for querying subscriber list data multiple times.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5026] Fix MetricsHttpAgent metrics twice.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5018] Check group and dataId in groupKey.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5114] ConcurrentHashSet.java is not compatible with jdk1.6 or 1.7.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5253] Fix missing auth identity header error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5291] Fix Beat task will stop when throw unexpected exception.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5301] Respond all kinds of collections for istio&#x27;s request.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5351] Fix Consistence status can&#x27;t switch to UP after Jraft election.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5390] Fix ip verify error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5427] Fix NPE if Jraft leader is null in CurcuitFilter.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5437] Fix config beta feature will lost dump event problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5451] Fix the tag can&#x27;t be removed problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4822][#4823][#4824][#4825][#4979][#5506] Fix dependency security problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5277] Subscriber list servername add required.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5380][#5418] Add and enhance unit test.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="社区的直接链接" title="社区的直接链接">​</a></h2><p>随着Nacos 2.0.1及1.4.2的发布， Nacos社区又新增了一位Committer：haoyann，这位同学在推进多数据源支持、鉴权及安全性、配置模块优化与完善等内容中作出许多贡献，并积极参与社区讨论。</p><p><img loading="lazy" alt="haoyann_commiter.jpg" src="/zh-cn/assets/images/haoyann_commiter-f24a2de2a7868f5423a554fc13a36ad9.jpg" width="4032" height="3024" class="img_ev3q"></p><p>Nacos社区欢迎更多愿意参与共建的小伙伴加入，包括但不限于：</p><ul><li>源代码</li><li>文档</li><li>社区讨论</li><li>多语言实现</li><li>周边生态产品结合</li></ul><p>积极参与将可以获得Nacos社区赠送的精美小礼品～</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="About Nacos的直接链接" title="About Nacos的直接链接">​</a></h2><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p><p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 2.0.3版本发布，继续提升集群稳定性及升级稳定性"><meta itemprop="keywords" content="2.0.1"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/2.0.3-release">Nacos 2.0.3版本发布，继续提升集群稳定性及升级稳定性</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 7 分钟</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-203">Nacos 2.0.3<a href="#nacos-203" class="hash-link" aria-label="Nacos 2.0.3的直接链接" title="Nacos 2.0.3的直接链接">​</a></h2><p>Nacos2.0.3 中，Nacos社区继续针对1.X到2.0.X升级的健壮性和高可用做了充分优化，扫除上生产的稳定性忧虑；Java/Spring-boot/Golang/C#/Cpp多语言客户端也全面支持Nacos2.0，拉齐多语言代差；并且优化了大量控制台UI的易用功能，提升用户使用效率。</p><p>主要变更内容如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## Features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6384] Add redo feature for nacos client naming.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Enhancement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#1469] Add cluster delete button.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5884] Add the permission for history config.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5909] Enhance LADP auth log print out when auth check failed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5999] Adpat nacos endpoint in AddressServerMemberLookup.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6100] Enhance config managerment UI.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6129] Add ServerConfigChangeEvent when config file changed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6142] Redo register and subscribe when reconnection auth check failed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6160] Optimization of IP address acquisition method in nacos client.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6175] If the client already disconnect, ignore this request to avoid NPE.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6178] Unified configuration page style</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6204] Get data from database if user or role info not found in cache.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6367] Add IOReactorExceptionHandler to avoid IOReactor out of loop when meet unknown Network error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6386] Stop v1 distro verification when cluster upgraded to v2.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6403] Make the expired time of naming client be configurable in nacos-server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## BugFix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6107] Fix Chinese account show with gibber in home page.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6109] Fix get InstanceUpgradeHelper instance error for double write service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6116] Fix unable to check client beats when register same ip and port in old clients with high concurrent.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6169] Fix cluster page internationalization.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6198] Fix NPE when use StringUtils.join illegal.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6295] Fix instance metadata will not be removed for ip port client.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6335] Fix startup error when the JAVA_HOME path contains spaces under Linux/Unix/Mac system.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6382][#6476] Fix nacos-istio serviceInfo.getChecksum() always is empty.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6423] Fix yaml parse concurrent problem.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>完整的Release Note请查看 <a href="https://github.com/alibaba/nacos/releases/tag/2.0.3" target="_blank" rel="noopener noreferrer">2.0.3</a> 。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="从nacos1x升级nacos20x">从Nacos1.X升级Nacos2.0.X<a href="#从nacos1x升级nacos20x" class="hash-link" aria-label="从Nacos1.X升级Nacos2.0.X的直接链接" title="从Nacos1.X升级Nacos2.0.X的直接链接">​</a></h2><p>Nacos服务端支持从1.X平滑升级到Nacos2.0.X；由于Nacos2.0对服务发现的数据结构进行了重构，因此升级过程中会采用异步双写数据的功能，在升级到2.0模式前，对数据进行校验，保证升级过程中的稳定运行。</p><p>在集群所有节点都升级到Nacos2.0.X版本之后，集群中的每一台节点都将开启自检，检查Nacos1.X模式下的数据是否和Nacos2.0模式下的数据一致，主要对比的是两个模式下的服务数及实例数是否相等，以及是否还有双写任务。
只有服务数及实例数相等，且没有双写任务之后，Nacos节点才会判定自身节点已经准备好升级到2.0模式，可以通过控制台的集群管理中节点元数据的<code>readyToUpgrade</code>字段来判断该节点是否准备完成。</p><p>当集群中所有节点都完成准备后，集群节点将会切换运行模式到2.0模式，此时请求流量将会切换至2.0模式运行，且开始接受gRPC的请求。如果未切换时，来自gRPC的请求将会提示<code>Nacos cluster is running with 1.X mode, can&#x27;t accept gRPC request temporarily. Please check the server status or close Double write to force open 2.0 mode.</code></p><p>另外，从Nacos2.0.2版本开始，Nacos为升级添加了一些接口方便用户检查升级状态，找到升级到2.0模式不成功的原因，并且在特殊情况下能够进行主动补偿。</p><p>比如接口<code>/nacos/v1/ns/upgrade/ops/metrics</code>， 可以快速的查看到当前节点的状态，如当前1.X模式的服务数，实例数；2.0模式的服务数，实例数；双写任务遗留量；对应模式缺失的服务名等等内容，帮助用户快速定位升级问题。</p><p>更多升级相关信息请查看 <a href="https://nacos.io/zh-cn/docs/2.0.0-upgrading.html" target="_blank" rel="noopener noreferrer">Nacos 2.0 升级文档</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="客户端支持20">客户端支持2.0<a href="#客户端支持20" class="hash-link" aria-label="客户端支持2.0的直接链接" title="客户端支持2.0的直接链接">​</a></h2><p>目前Golang、C#、Cpp、nacos-spring-boot，客户端已经支持了nacos2.0的grpc能力，欢迎大家试用
​</p><ul><li><a href="https://github.com/nacos-group/nacos-spring-boot-project/releases/tag/0.1.10" target="_blank" rel="noopener noreferrer">nacos-spring-boot v0.1.10</a></li><li><a href="https://github.com/nacos-group/nacos-spring-boot-project/releases/tag/0.2.10" target="_blank" rel="noopener noreferrer">nacos-spring-boot v0.2.10</a></li><li><a href="https://github.com/nacos-group/nacos-sdk-go/releases/tag/v2.0.0-Alpha.1" target="_blank" rel="noopener noreferrer">nacos-sdk-go v2.0.0-Alpha.1</a></li><li><a href="https://github.com/nacos-group/nacos-sdk-csharp/releases/tag/v1.1.0" target="_blank" rel="noopener noreferrer">nacos-sdk-csharp v1.1.0</a></li><li><a href="https://github.com/nacos-group/nacos-sdk-cpp/releases/tag/1.0.8" target="_blank" rel="noopener noreferrer">nacos-sdk-cpp v1.0.8</a></li></ul><p>Python的多语言客户端正在紧张开发中，相信很快能与大家见面。 Nodejs部分欢迎社区小伙伴一起参与建设~</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="21版本预告">2.1版本预告<a href="#21版本预告" class="hash-link" aria-label="2.1版本预告的直接链接" title="2.1版本预告的直接链接">​</a></h2><p>自2.0版本12月初社区发布后，经过数个版本的优化，功能和性能趋于稳定；因此社区开始规划2.1版本。</p><p>在Nacos2.1版本中，我们计划移除对Nacos1.X服务端的升级支持，以移除1.X模式及双写等冗余代码，提升代码质量及可读性，用户仍可以从2.0.X版本进行升级。</p><p>在功能上，Nacos2.1版本将会开放部分功能的插件化能力，如已经在进行的Selector插件，鉴权插件及配置加解密插件。</p><p>另外，我们会对Nacos2.0的第三方依赖进行一些精简，减少用户使用过程中依赖冲突的问题。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="社区的直接链接" title="社区的直接链接">​</a></h2><p>感谢来自社区同学们的持续贡献，正是有了大家的共同努力，Nacos才能变得越来越完善。</p><p>在此郑重感谢对本次Release有卓越贡献的社区同学（根据字母顺序）：</p><ul><li><a href="https://github.com/brotherlu-xcq" target="_blank" rel="noopener noreferrer">brotherlu-xcq</a></li><li><a href="https://github.com/MajorHe1" target="_blank" rel="noopener noreferrer">MajorHe1</a></li><li><a href="https://github.com/pixystone" target="_blank" rel="noopener noreferrer">pixystone</a></li><li><a href="https://github.com/shalk" target="_blank" rel="noopener noreferrer">shalk</a></li><li><a href="https://github.com/SunJiFengPlus" target="_blank" rel="noopener noreferrer">SunJiFengPlus</a></li><li><a href="https://github.com/zzq1314zll" target="_blank" rel="noopener noreferrer">zzq1314zll</a></li></ul><p>期待各位成为Nacos committer。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="About Nacos的直接链接" title="About Nacos的直接链接">​</a></h2><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p><p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 2.1.0版本发布，支持鉴权及加解密插件"><meta itemprop="keywords" content="2.1.0"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/2.1.0-release">Nacos 2.1.0版本发布，支持鉴权及加解密插件</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 12 分钟</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="210">2.1.0<a href="#210" class="hash-link" aria-label="2.1.0的直接链接" title="2.1.0的直接链接">​</a></h2><p>在社区和开源之夏的导师同学的共同努力下，2.1.0版本的主要目标已经基本完成，经过了近1个月的Beta测试后，在51劳动节，Nacos社区发布2.1.0版本作为给所有社区参与者的劳动节礼物。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="新版本内容">新版本内容<a href="#新版本内容" class="hash-link" aria-label="新版本内容的直接链接" title="新版本内容的直接链接">​</a></h3><p>2.1.0版本主要增加了认证插件和配置加密插件能力。 并关闭默认支持服务端从 1.X 版本升级的能力，若需要使用平滑升级能力，需要在配置文件中开启此功能。
对于客户端，此版本重构了类扫描逻辑并删除了 org.reflections 依赖，以解决 org.reflections 冲突时的不兼容问题。
最后，这个版本做了一些控制台优化并修复了 2.0.4 中发现的一些问题。
详细变更日志如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## Features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5695] Add a plugin SPI for configuration encryption and decryption for Nacos 2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5696] Add a plugin SPI for authentication for Nacos 2.0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7930] Default close support upgrade from 1.X feature.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7992] Support cluster grpc client to set thread pool size.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8220] Add reset raft cluster operation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Enhancement &amp; Refactor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7487] Add generics for the CacheBuilder.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7879] Refactor destroy method of AbstractMemberLookup.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7924][#8214] Add ldap auth plugin.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7952] Ignore read request for raft follower&#x27;s state machine to enhance raft stability.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7966] Add more information in Auth/Distro/Curcuit-Filter when cause some server error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7971] Stop version judge Task and release thread after upgrade completely.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8072] Enhance memory cost in DistroProtocol initialization.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8107] Enhance console change password operation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8156] Support js and css of console auto-upgrade. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## BugFix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#1717][#7359] Fix XSS vulnerabilities.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6273] Fix loop request for offline server nodes API.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6999] Fix Nacos client does not support logback overload log configuration.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7757] Fix jraft read request deserialize to write request problem. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7780] Fix config a-b-a problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7941] Fix version comparison error in Config Detail page.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8087] Fix text out of box in configuration manager.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8108] Fix throw NPR for health check for v2.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8050] Fix configuration about Distro changes could not take effect.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8161] Fix console can&#x27;t use relative path problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8163] Fix multi-instance share the same local snapshot.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8196] Fix subscriber api without count when the query number is more than subscriber count.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7758] Update module nacos-consistency protobuf-maven-plugin version to 0.6.1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7886] Enhance package scan logic and remove org.reflections dependency.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4981] Add much unit test.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8009] Fix NPE of unit test. </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="插件化">插件化<a href="#插件化" class="hash-link" aria-label="插件化的直接链接" title="插件化的直接链接">​</a></h3><p>支持插件化是2.1.0版本的主要改动之一。Nacos通过<a href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html" target="_blank" rel="noopener noreferrer">SPI</a> 的方式，允许用户和开发者实现自己的对应功能插件使用；目前Nacos已经支持鉴权和加解密的插件化能力。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="鉴权">鉴权<a href="#鉴权" class="hash-link" aria-label="鉴权的直接链接" title="鉴权的直接链接">​</a></h4><p>自从Nacos 1.2 版本加入鉴权功能后，社区对鉴权功能的讨论一直持续。原因是Nacos目前的鉴权系统设计为防止错用及用户隔离。但社区中对鉴权能力的要求不局限于此，为了满足不同的用户对鉴权程度的不同要求。Nacos社区希望设计一套用于鉴权的API，并将其注入到网络请求的流程中。
Nacos目前的鉴权实现也已经重构成默认的鉴权插件，社区所贡献的LADP也已改造完成，使用方式和以前一致；如果需要开发自定义的鉴权插件，可以参考文档<a href="https://nacos.io/zh-cn/docs/auth-plugin.html" target="_blank" rel="noopener noreferrer">鉴权插件</a>实现。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="加解密">加解密<a href="#加解密" class="hash-link" aria-label="加解密的直接链接" title="加解密的直接链接">​</a></h4><p>在Nacos社区中，许多用户关注配置中某些敏感信息的安全性问题。除了通过鉴权，社区也希望能对配置内容中的敏感信息进行加密。由于用户和开发者所使用或对接的算法和加解密系统可能不同，因此Nacos社区设计了一套用于加解密的API，并将其注入到发布和查询配置的工作流程中。 更多加解密插件的细节可以参考文档<a href="https://nacos.io/zh-cn/docs/config-encryption.html" target="_blank" rel="noopener noreferrer">配置加密插件</a>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="默认关闭兼容1x服务端升级">默认关闭兼容1.X服务端升级<a href="#默认关闭兼容1x服务端升级" class="hash-link" aria-label="默认关闭兼容1.X服务端升级的直接链接" title="默认关闭兼容1.X服务端升级的直接链接">​</a></h3><p>默认关闭支持服务端从 1.X 版本升级的能力是Nacos2.1.0版本的另一个重要改动。在2.0.X版本中，数据结构进行了一些重新设计，导致和1.X的数据无法直接兼容，为了方便社区用户从1.X平滑升级到Nacos2.0版本，Nacos2.0版本除了兼容1.X的openAPI外，还新增了双写数据等逻辑；但这部分逻辑对系统资源有较大的损耗，并且由于机制较为复杂，导致部分直接使用2.0版本的用户可能会遇到一些版本切换的疑问。因此在Nacos2.1版本中，我们默认关闭了兼容1.X服务端平滑升级能功能，关闭该功能后直接部署2.1版本将不会再从1.X模式进行检测和升级，而是直接运行在2.X的数据模式下，同时也支持2.0版本直接升级2.1版本。
若是希望从Nacos1.X直接升级到Nacos2.1.0版本，则需要在application.properties文件中设置配置<code>nacos.core.support.upgrade.from.1x=true</code>，此时Nacos2.1版本会和Nacos2.0版本一样，以1.X的数据模式启动，并开始自动升级检测，待全集群数据一致，且准备完毕后，切换至2.0数据模式，更多升级相关的内容，请参考文档<a href="https://nacos.io/zh-cn/docs/2.0.0-upgrading.html" target="_blank" rel="noopener noreferrer">升级文档</a>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="社区的直接链接" title="社区的直接链接">​</a></h2><p>在过去的一年里，社区内涌现出大量优秀的贡献者，他们为Nacos社区持续不断的注入活力和内容；正是有你们的关注和贡献，Nacos才能在2021年获得开源中国最受欢迎项目的奖项，在此郑重感谢去年参与社区贡献的Contributor，Committer和PMC同学，以及其他通过各种方式参与到社区的同学。
感谢同学们的持续贡献，正是有了大家的共同努力，Nacos才能变得越来越完善。
<img loading="lazy" alt="OSCHINA-Nacos.jpg" src="/zh-cn/assets/images/OSCHINA-Nacos-c0f45767945adb99c40d288571859928.jpg" width="425" height="374" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="新pmccommitter">新PMC&amp;Committer<a href="#新pmccommitter" class="hash-link" aria-label="新PMC&amp;Committer的直接链接" title="新PMC&amp;Committer的直接链接">​</a></h3><p>Nacos社区新晋级了一位PMC同学和两位Committer同学。
来自滴滴出行的<a href="https://github.com/sanxun0325" target="_blank" rel="noopener noreferrer">sanxun0325</a>同学作为Nacos，Dubbo Go，Sentinal的Committer，在社区十分活跃，在过去的2021年也是为Nacos社区的go-sdk做出了大量贡献，并主导着Nacos-go-sdk社区的发展；因此提名为Nacos社区的PMC。</p><p>另外，来自微众银行<a href="https://github.com/MajorHe1" target="_blank" rel="noopener noreferrer">MajorHe1</a>和小米科技<a href="https://github.com/hujun-w-2" target="_blank" rel="noopener noreferrer">hujun-w-2</a>同学，鉴于持续的大量社区贡献，经社区PMC及Committer的投票表决，提名为Nacos社区的Committer，希望二位能继续保持活跃，为Nacos社区添砖加瓦。</p><table><thead><tr><th><img loading="lazy" alt="MajorHe1-committer.jpg" src="/zh-cn/assets/images/MajorHe1-committer-4038e3a71272e268c19a01ce28f8c42a.jpg" width="1280" height="960" class="img_ev3q"></th><th><img loading="lazy" alt="hujun-w-2-committer.jpg" src="/zh-cn/assets/images/hujun-w-2-committer-08d24acd7489c375fc46b90cd39eed9e.jpg" width="1280" height="960" class="img_ev3q"></th></tr></thead></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="年度优秀committer">年度优秀Committer<a href="#年度优秀committer" class="hash-link" aria-label="年度优秀Committer的直接链接" title="年度优秀Committer的直接链接">​</a></h3><p>2021年度，Nacos社区有许多Committer利用自己的业余时间，持续的贡献者Nacos社区。为了感谢，Nacos社区评选出了12位2021年度优秀Committer，并特意制作了奖杯及卫衣，希望在2022年度，仍然能看到你们的身影。
这12位优秀Committer分别是（根据字母顺序）：</p><ul><li><a href="https://github.com/brotherlu-xcq" target="_blank" rel="noopener noreferrer">brotherlu-xcq</a></li><li><a href="https://github.com/catcherwong" target="_blank" rel="noopener noreferrer">catcherwong</a></li><li><a href="https://github.com/haoyann" target="_blank" rel="noopener noreferrer">haoyann</a></li><li><a href="https://github.com/horizonzy" target="_blank" rel="noopener noreferrer">horizonzy</a></li><li><a href="https://github.com/KomachiSion" target="_blank" rel="noopener noreferrer">KomachiSion</a></li><li><a href="https://github.com/li-xiao-shuang" target="_blank" rel="noopener noreferrer">li-xiao-shuang</a></li><li><a href="https://github.com/paderlol" target="_blank" rel="noopener noreferrer">paderlol</a></li><li><a href="https://github.com/realJackSun" target="_blank" rel="noopener noreferrer">realJackSun</a></li><li><a href="https://github.com/sanxun0325" target="_blank" rel="noopener noreferrer">sanxun0325</a></li><li><a href="https://github.com/shiyiyue1102" target="_blank" rel="noopener noreferrer">shiyiyue1102</a></li><li><a href="https://github.com/TTTTTAAAAAKKKKEEEENNNN" target="_blank" rel="noopener noreferrer">TTTTTAAAAAKKKKEEEENNNN</a></li><li><a href="https://github.com/xuechaos" target="_blank" rel="noopener noreferrer">xuechaos</a></li></ul><p>没有被选中的Committer同学也不要担心，2022年度我们仍然会保持这个活动，希望2022年度优秀Committer有你们的名字。
<img loading="lazy" alt="2021-committer-rewards.JPG" src="/zh-cn/assets/images/2021-committer-rewards-b1f798cc68b22efce3354e422840fe7a.JPG" width="567" height="756" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="贡献者激励活动">贡献者激励活动<a href="#贡献者激励活动" class="hash-link" aria-label="贡献者激励活动的直接链接" title="贡献者激励活动的直接链接">​</a></h3><p>相信很多贡献者都已经收到了Nacos寄出的小礼物了，此类的活动Nacos社区会持续进行，只需要您持续关注社区，积极参与社区共建，就能够获得哦。
<img loading="lazy" alt="Nacos-cup.jpg" src="/zh-cn/assets/images/Nacos-cup-4921e262dbf2a53cb64dc3096f5b454f.jpg" width="425" height="567" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="代码贡献活动">代码贡献活动<a href="#代码贡献活动" class="hash-link" aria-label="代码贡献活动的直接链接" title="代码贡献活动的直接链接">​</a></h4><p>Nacos社区预计在7月会再次进行贡献者的激励活动，届时会统计并评选出数十位2022年7月前较为活跃的贡献者（不仅是Nacos的主干仓库，也包含了nacos-group下的各个仓库），并寄出新的社区纪念礼品；下期的贡献者礼品是雨伞，赶紧进行贡献获取吧。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="优秀社区文章活动">优秀社区文章活动<a href="#优秀社区文章活动" class="hash-link" aria-label="优秀社区文章活动的直接链接" title="优秀社区文章活动的直接链接">​</a></h4><p>Nacos社区的贡献并不只包含代码，社区也欢迎广大用户或开发者发表技术文章来和大家分享关于Nacos的技术心得；其中包括但不限于：Nacos的应用、源码解析、产品融合和社区合作等。欢迎大家提交文章到Nacos官方文档的博客栏目中，或发布在自己的微信公众号及博客中；对于优秀的社区文章，Nacos社区会收录到博客栏目及阿里开源的官方网站中，并会给文章作者寄送相应的礼物。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="开源之夏2022">开源之夏2022<a href="#开源之夏2022" class="hash-link" aria-label="开源之夏2022的直接链接" title="开源之夏2022的直接链接">​</a></h4><p>在2021年，Nacos社区参与了由ISCAS（中国科学院软件研究所）和openEuler社区托管的开源之夏2021活动，在导师、高校同学和主办方的共同努力下，完成了数个意义非凡的课题，其中就包括本次发版中最关键的两个改动：鉴权插件及配置加密插件。
今年，开源之夏2022如期而至，Nacos社区也再次参与活动，并制定了6个课题，欢迎关注<a href="https://summer-ospp.ac.cn/nacos.io" target="_blank" rel="noopener noreferrer">开源之夏2022</a> ，参与Nacos的开源之夏2022。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="About Nacos的直接链接" title="About Nacos的直接链接">​</a></h3><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。
Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="为了庆祝 Nacos 开源四周年，我们同时推出 2.1.1 和 1.4.4 两个新版本，回馈小伙伴们的信任！"><meta itemprop="keywords" content="2.1.1,1.4.4"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/2.1.1-release">Nacos 四周年，2.1.1 及 1.4.4 版本同时发布</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 11 分钟</div></header><div class="markdown" itemprop="articleBody"><p>2022年7月， 为了庆祝 Nacos 开源四周年，我们同时推出 2.1.1 和 1.4.4 两个新版本，回馈小伙伴们的信任！</p><p>这四年，我们完成了 1.0，2.0 两个大版本演进，发布了46个版本，快速迭代，进入中国开源活跃项目TOP10！</p><p>这四年，我们完成了从Dubbo/Spring到服务网格生态的完整支持，生态繁荣，被4600+上下游项目依赖引用！</p><p>这四年，我们市场占有率提升到了 55% 以上，官网累计访问突破100万，《Nacos 架构与原理》 突破6w阅读！</p><p>这四年，我们吸引成千上万家数字化升级企业，打造虎牙、爱奇艺、好未来、掌门、小米、小鹏、蔚来等标杆！</p><p>这四年，我们吸引了246+ contributor，30+ committer，8+ PMC，分布各大头部厂商，发挥越来越大作用！</p><p>未来，我们将全面启动 Nacos 3.0 项目，统一控制面，加大生态集成，全面提升体验，尽情期待～</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="新版本发布">新版本发布<a href="#新版本发布" class="hash-link" aria-label="新版本发布的直接链接" title="新版本发布的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="211-版本特性">2.1.1 版本特性<a href="#211-版本特性" class="hash-link" aria-label="2.1.1 版本特性的直接链接" title="2.1.1 版本特性的直接链接">​</a></h3><p>该版本核心解决 Nacos 2.0 广泛使用暴露出的一些稳定性问题（包括默认实现鉴权插件、Grpc请求和distro一致性协议的性能等），另外Beta测试“批量注册服务”和“服务追踪事件”两个新功能。</p><p>具体变更内容可查看changeLog：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## Features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5863] (BETA) Support batch register service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7424] Add version data compare in the history list.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8305] (REMOVE) Remove leave nacos server nodes API temporarily.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8481] (BETA) Add TRACE Event to server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8755] Add default fuzzy search feature.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Enhancement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8099] Fast failure for distro sync task and verify task if cluster disconnect.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8150] Add the namespace description item to the namespace list page.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8345] Add validation for service cluster name.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8515] Optimize some code in InetUtils.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8561] Enhance default authentication plugin performance.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8574] Enhance filter service info for push callback.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8592] Ehhance GrpcUtil memory and cpu cost.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8622] Add NacosEnvironment and add some unit tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Refactor&amp;dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8369] Remove mina dependency.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8383] Upgrade jackson version to 2.12.6.1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8421] Remove commonOkHttp dependency.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8472] Remove useless dependency.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8479] Refactor singleton construction as private.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8540] Upgrade spring-boot version to 2.6.8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8594] Makes distro data load timeout can be configured.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8596] Explicitly specify spring-boot-maven-plugin version same as spring-boot.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8623] Upgrade mysql-connector-java to 8.0.28.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## BugFix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7039] Fix config encryptedData md5 calculation problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8153] Fix NPE for AutoExpireCache.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8243][#8653] Fix health check plugin problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8275] Fix can&#x27;t register service when use skywalking.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8295] Fix can&#x27;t login when use embedded storage in cluster model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8318] Fix findAllConfigInfoForDumpAll sql args error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8372] Fix client can&#x27;t use https connection.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8424] Fix cycle dependency problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8428] Fix naming subscribe bug when multiple NamingService.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8505] Fix log configuration conflict in spring-boot project.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8514][#8539] Fix prometheus api error in client.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8516] Fix the persistent instance becomes a temporary instance.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8602] Fix display error after delete current namespace.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8632] Fix subscribe disabled instance problem in the first time.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8635] Fix NPE when call the shutdown method.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8720] Fix the problem that config aspect invalid problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8742] Fix change instance metadata, the revision of service not change.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8784] Fix some bugs for Console UI.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8833] Fix import config failed when open auth.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8880] Fix constantly loading config when not read permission.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="批量注册服务----batchregister">批量注册服务 -- batchRegister<a href="#批量注册服务----batchregister" class="hash-link" aria-label="批量注册服务 -- batchRegister的直接链接" title="批量注册服务 -- batchRegister的直接链接">​</a></h4><p>批量注册服务的需求主要来自于Nacos社区的另一个组件 -- Nacos-Sync，Nacos-Sync作为一个支持多注册中心迁移的第三方工具，一直帮助社区用户平滑的从Eureka，Consul等其他注册中心迁移到Nacos中。</p><p>在Nacos2.0发布后，Nacos-Sync第一时间进行了更新。但在更新后，由于Nacos2.0的注册机制发生了一定的变化，同一个客户端针对同一个服务只能注册一个实例，这导致了Nacos-Sync这种代理服务模式无法使用同一个客户端进行同一个服务的多个实例的代理注册，易用性大大降低。</p><p>同时社区发现，有一些特殊的应用，如网关，proxy，dubbo3多协议支持等，也需要一些代理注册的能力，因此社区在进行数次方案讨论后，最终由社区同学<a href="https://github.com/chenhao26-nineteen" target="_blank" rel="noopener noreferrer">chenhao26-nineteen</a> 完成批量注册服务的功能开发，并在2.1.1版本进行beta测试。</p><p>批量注册服务功能主要用于代理注册的场景，允许应用使用同一个客户端对同一个服务进行多个实例的注册请求。大多数传统使用场景下，用户仍然使用registerService功能即可。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="服务追踪事件----trace-event">服务追踪事件 -- trace event<a href="#服务追踪事件----trace-event" class="hash-link" aria-label="服务追踪事件 -- trace event的直接链接" title="服务追踪事件 -- trace event的直接链接">​</a></h4><p>自从阿里云的<a href="https://www.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer">MSE</a> Nacos发布了关于<a href="https://developer.aliyun.com/article/982835?utm_content=m_1000348405" target="_blank" rel="noopener noreferrer">推送轨迹</a>相关的文章后，社区反响热烈，都希望能在开源添加对应的功能。</p><p><a href="https://www.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer">MSE</a>团队得知社区的强烈需求后，由<a href="https://github.com/scienceZ" target="_blank" rel="noopener noreferrer">scienceZ</a>同学完成对事件抽象剥离，并贡献到开源社区。</p><p>目前该功能同样属于beta测试，暂时只能通过在源码中订阅对应事件的方式进行追踪，后续版本同样会将该功能作为SPI插件的形式开放，方便社区同学按照自己的需求定制推送轨迹。</p><blockquote><p>注意： 上述两个功能均属于Beta测试阶段，其API，功能可能与后续正式发布时的有一定区别。</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="144-版本特性">1.4.4 版本特性<a href="#144-版本特性" class="hash-link" aria-label="1.4.4 版本特性的直接链接" title="1.4.4 版本特性的直接链接">​</a></h3><p>Nacos 1.X版本已经不再进行功能演进，只进行一些bugfix和优化，因此本次版本发布主要也是进行一些bug的修复和优化，并且将一些可能有问题的依赖进行升级；建议大家尽快升级到 Nacos 2.0，以便享受快速迭代红利！</p><p>具体变更内容可查看changeLog：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Enhancement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5344] Reset raft cluster ops for no leader by JRaft Api.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5884][#7810] Add the permission for history config.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7284] Enhance print exception details.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7799] Enhance console exception handler.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7802] Enhance thread pool manager.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7801] Enhance connection release timeout between server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7803] Apply some Jraft Enhancement from 2.X.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7925] Client stops the UpdateTask after a service is unsubscribed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8072] Reduce memory cost in DistroProtocol initialization to avoid OutOfMemoryError.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8144] Add volatile modifier to NamingProxy.serversFromEndpoint.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8203] Fix the concurrency problem about the iterator of ServerListManager.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8434] Enhance DistroConsistencyServiceImpl listen/unListen.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># BugFix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6198][#7809] Fix StringUtils.join throw NullPointerException.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6273] Fix loop leave server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7141][#7804] Fix the problem of the operator column being empty while configuring adding and deleting records.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7750][#7869] Fix bug in permissions management module, such as redundant &#x27;nacos,&#x27; when change password.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7757][#7761] Fix jraft request parse failed problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7807] Fix yaml parse concurrent problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7836] Fix nacos-client can&#x27;t parse `localhost` problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8012] Fix NPE in DistroConsistencyServiceImpl.Notifier.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8283] Fix thread safety problem when concurrently registering with the same cluster.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8428] Fix naming subscribe bug when multiple NamingService .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8539] Fix prometheus api error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7813] Upgrade log4j2 to 2.17.1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7813] Upgrade logback to 1.2.9.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7813] Upgrade Jraft to 1.3.9.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8421] Remove commonOkHttp dependency.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8169] Upgrade spring-boot version to 2.6.6.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="社区的直接链接" title="社区的直接链接">​</a></h2><p>随着社区不断壮大和发展，在2.1.1版本中社区小伙伴贡献了90%+代码，说明Nacos社区协作进入一个成熟阶段，相信很快会有一大批的新兴贡献者要加入Nacos Committer的行列，加速推动社区演进。同时我们也为社区小伙伴提供了丰富的礼物，期望更多小伙伴一起参与贡献～</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="贡献者激励活动">贡献者激励活动<a href="#贡献者激励活动" class="hash-link" aria-label="贡献者激励活动的直接链接" title="贡献者激励活动的直接链接">​</a></h3><p>在2.1.0版本发布时，许多小伙伴收到了Nacos社区的小礼品，随着2.1.1版本发布，又一期的礼品蓄势待&quot;发&quot;，本次礼品主要针对在4月初至6月底期间，为Nacos及其周边生态产品有所贡献的新贡献者以及保持持续贡献的优秀贡献者们。欢迎更多的新鲜贡献者加入Nacos社区，同时也欢迎获得了礼品的贡献者们可以继续贡献社区，激励活动会一直保持～期待收集齐所有的Nacos社区礼品哦～</p><p>本次的礼品将会是Nacos的长柄雨伞，请没留下联系方式的贡献者们尽快在github上添加，以免错过活动～</p><table><thead><tr><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/jpeg/1577777/1660125287464-ef4355fa-e7bb-46b2-a85b-c4ca5c909ceb.jpeg#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=1290&amp;id=u9a9fa905&amp;margin=%5Bobject%20Object%5D&amp;name=IMG_20220809_164412.jpg&amp;originHeight=2580&amp;originWidth=3071&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ude784ee7-53c4-4366-a506-2fc189a1c93&amp;title=&amp;width=1535.5" alt="umbrella.jpg" class="img_ev3q"></th></tr></thead></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="中间件开发者-meetup">中间件开发者 MeetUp<a href="#中间件开发者-meetup" class="hash-link" aria-label="中间件开发者 MeetUp的直接链接" title="中间件开发者 MeetUp的直接链接">​</a></h3><p>近期，阿里云在杭州举办了<a href="https://developer.aliyun.com/article/986002" target="_blank" rel="noopener noreferrer">中间件开发者 Meetup</a>，Nacos 也参加了该MeetUp的杭州站线下活动，并且有幸邀请到了禾连健康的CTO--邓志豪大佬来分享 Nacos微服务体系在禾连健康的落地应用。对杭州站有兴趣又没有在当时收看直播或到现场的同学，可以<a href="https://yqh.aliyun.com/live/detail/29133" target="_blank" rel="noopener noreferrer">查看回看</a>和<a href="https://github.com/mse-group/Slides" target="_blank" rel="noopener noreferrer">下载演讲PDF</a>。另外<a href="https://developer.aliyun.com/article/986002" target="_blank" rel="noopener noreferrer">中间件开发者 Meetup</a>会在其他城市相继举办，想要到现场参与或者分享的同学，可以积极参与～</p><table><thead><tr><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/jpeg/1577777/1660125286406-d088463e-20df-47e9-812b-58a58427be1f.jpeg#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=1302&amp;id=u690edac9&amp;margin=%5Bobject%20Object%5D&amp;name=THS6110.JPG&amp;originHeight=2603&amp;originWidth=3905&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=uaa7cd91f-70f5-4e4e-b84b-e78c882f6a7&amp;title=&amp;width=1952.5" alt="meetup1.JPG" class="img_ev3q"></th></tr></thead><tbody><tr><td><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/jpeg/1577777/1660125296258-b98425c3-478f-44e9-9736-0d1bb31ab7c1.jpeg#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=1368&amp;id=u862349c0&amp;margin=%5Bobject%20Object%5D&amp;name=THS6126.JPG&amp;originHeight=2735&amp;originWidth=4102&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u3414f330-5d2c-49a9-8569-01f045626d1&amp;title=&amp;width=2051" alt="meetup2.JPG" class="img_ev3q"></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="About Nacos的直接链接" title="About Nacos的直接链接">​</a></h2><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p><p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p><p>Nacos社区同时也开启了关于<a href="https://mp.weixin.qq.com/s/8UwwD_WxSJINP8Qr_1wogg" target="_blank" rel="noopener noreferrer">Nacos3.0</a>的畅想和规划，欢迎社区积极参与到新版本的建设中。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1577777/1660125280551-a2e881fe-d25e-4ebb-a28f-8e56683deef1.png#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=url&amp;id=Z9to1&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=185821&amp;status=done&amp;style=none&amp;taskId=u63849e10-1dae-45cb-b559-04d106ebe86&amp;title=" alt="image.png" class="img_ev3q"></p><p>最后欢迎大家扫码加入Nacos社区群
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1577777/1660125280778-c1822fb0-958b-4730-a6dc-0e92ba22f3f8.png#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=374&amp;id=u2619495f&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=923&amp;originWidth=765&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=338166&amp;status=done&amp;style=none&amp;taskId=u0690e9a0-6d58-4f72-82b1-7d4457a900e&amp;title=&amp;width=310" alt="image.png" class="img_ev3q"></p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 2.2.0 版本发布，新增多种插件支持！"><meta itemprop="keywords" content="2.2.0,plugins"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/2.2.0-release">Nacos 2.2.0 版本发布，新增多种插件支持</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 7 分钟</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="新版本发布">新版本发布<a href="#新版本发布" class="hash-link" aria-label="新版本发布的直接链接" title="新版本发布的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="220正式版-版本特性">2.2.0正式版 版本特性<a href="#220正式版-版本特性" class="hash-link" aria-label="2.2.0正式版 版本特性的直接链接" title="2.2.0正式版 版本特性的直接链接">​</a></h3><p>Nacos社区于10月分发布了2.2.0-BETA版本，根据近1个多月的社区反馈，2.2.0-BETA没有发现严重的核心功能问题，主要的反馈集中在数据库插件的优化修复以及一些小bug修复。</p><p>因此不再进行BETA2版本的发布，而直接发布2.2.0的GA正式版。</p><p><img loading="lazy" alt="2.2.0架构图" src="/zh-cn/assets/images/220-structure-c66bcd05e9bc221ef36ccdd0251f5184.png" width="1818" height="898" class="img_ev3q"></p><p>2.2.0版本是2.X中一个较为重要的版本，它包含了一些较为重大的改动：</p><p>首先，2.2.0将会删除旧的冗余代码，即1.X模式服务发现和双写相关代码。删除后，2.2.0版本将无法从Nacos 1.X服务器升级，只能从至少2.0.0版本升级。此更改不会影响对1.X客户端请求的适配，用户仍然可以使用1.X客户端链接2.2.0版本服务端。</p><p>其次，2.2.0添加了数个新的插件支持，例如 <a href="/zh-cn/docs/v2/plugin/datasource-plugin">数据源插件</a>、<a href="/zh-cn/docs/v2/plugin/custom-environment-plugin">自定义环境变量插件</a>和<code>限流管控插件</code>。</p><p>其中<a href="/zh-cn/docs/v2/plugin/custom-environment-plugin">自定义环境变量插件</a>是社区需求配置加密数据库密码的需求的升级抽象插件，允许通过插件的方式对nacos服务端启动时的配置进行特殊处理，比如可以配置数据库密码为密文，在插件中进行解密，以此来支持配置加密数据库密码以及后续可能有的其他关于配置特殊处理的需求。</p><p><code>限流管控插件</code>是将早期开源之夏项目中的连接限流模块进行插件化改造后的插件，可提供用户以扩展的方式编写限流管控能力，以保护Nacos服务端在高压下运行的稳定性。</p><blockquote><p>由于限流管控插件的改造还未完全完成，目前将不会发布插件SPI至maven仓库中，想要尝试的开发者或用户可以根据Nacos 源代码中 plugin/control 下的SPI先行拓展使用，帮助社区更早的发现问题。</p></blockquote><p>最后，2.2.0增强了在2.1.1版本被列为beta功能的<code>轨迹追踪插件</code>和<code>批量注册</code>，这使它们更易于使用。关于如何开发和使用<code>轨迹追踪插件</code>，可以参考<a href="/zh-cn/docs/v2/plugin/trace-plugin">插件文档</a>进行开发。</p><p>2.2.0 版本具体变更内容可参考变更日志：</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> feature</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">#5863</span><span class="token url" style="color:#36acaa">][</span><span class="token url variable" style="color:#36acaa">#9331</span><span class="token url" style="color:#36acaa">]</span><span class="token plain"> Support batch register and batch deregister service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8308] Add v2 openAPI for nacos 2.0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8312] Support datasource plugins.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8481] Support track tracing plugins.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8694] Support prometheus http service discovery(prometheus http sd).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9318] Support caseSentive for Ldap auth plugin.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9366] Support Ldaps authentication.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Enhancement&amp;Refactor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7930] Reomve old redundant codes about 1.x naming.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9391] Optimization Chooser.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9393] Make server stop auto when starting error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9414] Optimize fuzzy queries to make SQL more general.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">#9415</span><span class="token url" style="color:#36acaa">][</span><span class="token url variable" style="color:#36acaa">#9449</span><span class="token url" style="color:#36acaa">]</span><span class="token plain">[#9466][#9497] Enhancement datasource plugins.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9423] ExternalDataSourceProperties add isEmpty check to support external config.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9459] Modify the method modifier of NacosApplicationListener to default.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9471] Keep console query condition in configuration After return list config pages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9597] Keep console query condition in discovery After return list service pages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9615] Enhance client choose server node to request server more dispersed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9653] Refactor connection limit module to plugin.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> BugFix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9334] Fix group_id data length different in many tables.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9341] Fix can not create bean ldapAuthenticationProvider.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9351] Fix instance count error in prometheus metrics.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9367] Fix auth plugin&#x27;s property &#x27;token.secret.key&#x27; base64 decode error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">#9408</span><span class="token url" style="color:#36acaa">][</span><span class="token url variable" style="color:#36acaa">#9437</span><span class="token url" style="color:#36acaa">]</span><span class="token plain"> Fix console namespace list deploy problems.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9461] Fix ClientWorker NullPointer judgement order.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9474] Fix some instance is unhealthy after change to http health check.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9478] Fix the chooser bug when all instances have a zero weight.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9584] Fix console configuration query button overflow hidden problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9586] Fix problem of deregister instance failure after service expired metadata auto clean.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Dependency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9652] Upgrade ui dependencies to fix some depend vulnerability.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="社区的直接链接" title="社区的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="贡献者激励活动">贡献者激励活动<a href="#贡献者激励活动" class="hash-link" aria-label="贡献者激励活动的直接链接" title="贡献者激励活动的直接链接">​</a></h3><p>在2.1.1版本发布时，许多小伙伴收到了Nacos社区的小礼品，2.2.0版本发布后，又一期的礼品如期而至，本次礼品主要针对在7月初至12月初期间，为Nacos及其周边生态产品有所贡献的新贡献者以及保持持续贡献的优秀贡献者们。欢迎更多的新鲜贡献者加入Nacos社区，同时也欢迎获得了礼品的贡献者们可以继续贡献社区，激励活动会一直保持～期待收集齐所有的Nacos社区礼品哦～</p><p>本次的礼品将会是Nacos&amp;Seata&amp;Higress的帆布袋，请没留下联系方式的贡献者们尽快在github上添加，以免错过活动～</p><table><thead><tr><th><img loading="lazy" alt="bag_nacos.jpg" src="/zh-cn/assets/images/bag_nacos-26a0549ab3caa40d6fe278d3071a481a.jpg" width="960" height="1280" class="img_ev3q"></th><th><img loading="lazy" alt="bag_seata.jpg" src="/zh-cn/assets/images/bag_seata-6c5ed1e20952fee8f2782dcfb1ac91c6.jpg" width="960" height="1280" class="img_ev3q"></th></tr></thead></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="展望">展望<a href="#展望" class="hash-link" aria-label="展望的直接链接" title="展望的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2x-后续计划">2.X 后续计划<a href="#2x-后续计划" class="hash-link" aria-label="2.X 后续计划的直接链接" title="2.X 后续计划的直接链接">​</a></h3><p>从2021年3月 2.0.0正式版发布至今，2.X版本已经走了接近2年时间，如今2.2.0版本发布，说明2.X版本已经逐渐成熟稳定，在2.X的后续计划中，除了鼓励社区中提供和完善已有的插件多种实现以外，依旧会为其易用性和扩展性进一步增强，添加更多的插件功能：</p><ul><li>寻址插件</li><li>配置变更钩子插件</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="30-计划">3.0 计划<a href="#30-计划" class="hash-link" aria-label="3.0 计划的直接链接" title="3.0 计划的直接链接">​</a></h3><p>Nacos社区同时也开启了关于<a href="https://mp.weixin.qq.com/s/8UwwD_WxSJINP8Qr_1wogg" target="_blank" rel="noopener noreferrer">Nacos3.0</a>的畅想和规划，Nacos将会从统一控制面、支持国产化、存储计算分离等方向进一步演进Nacos的功能和架构，欢迎社区积极参与到新版本的建设中。
<img loading="lazy" alt="image.png" src="/zh-cn/assets/images/220-roadmap-4f6c43b09ff72f49d669db4d09a9634d.png" width="2308" height="792" class="img_ev3q">
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1577777/1660125280551-a2e881fe-d25e-4ebb-a28f-8e56683deef1.png#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=url&amp;id=Z9to1&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=185821&amp;status=done&amp;style=none&amp;taskId=u63849e10-1dae-45cb-b559-04d106ebe86&amp;title=#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=rUihF&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="About Nacos的直接链接" title="About Nacos的直接链接">​</a></h2><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p><p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p><p>最后欢迎大家扫码加入Nacos社区群</p><p><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1577777/1660125280778-c1822fb0-958b-4730-a6dc-0e92ba22f3f8.png#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=374&amp;id=u2619495f&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=923&amp;originWidth=765&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=338166&amp;status=done&amp;style=none&amp;taskId=u0690e9a0-6d58-4f72-82b1-7d4457a900e&amp;title=&amp;width=310" alt="image.png" class="img_ev3q"></p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 多个新版本发布，rust-sdk完全适配完成"><meta itemprop="keywords" content="2.2.1,rust-sdk"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/2.2.1-release">Nacos 多个新版本发布，rust-sdk完全适配完成</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 9 分钟</div></header><div class="markdown" itemprop="articleBody"><p>Nacos社区新年后好事不断，先是年初在电子标准院2022年度开源成熟度评估中被评为<code>优秀贰级</code>，同时获得了<code>CSDN年度开发者影响力项目</code>和<code>InfoQ 十大开源新锐项目</code>；随后又发布了许多新版本，其中包括Nacos 2.2.1、 1.4.5、rust-sdk 0.2.3 以及 go-sdk 2.2.0版本；在同学们的积极参与下，社区也是又增加了3位新的Committer。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="新版本发布">新版本发布<a href="#新版本发布" class="hash-link" aria-label="新版本发布的直接链接" title="新版本发布的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-221">Nacos 2.2.1<a href="#nacos-221" class="hash-link" aria-label="Nacos 2.2.1的直接链接" title="Nacos 2.2.1的直接链接">​</a></h3><p>Nacos 2.2.1版本主要针对Nacos社区于12月发布的2.2.0版本进行了一系列的升级以及修复，例如通过<a href="https://github.com/nacos-group/logback-adapter" target="_blank" rel="noopener noreferrer">logback-adapter</a>适配了新版本的logback、升级了grpc、jraft等依赖，从而升级了对应的netty和rocksdb版本，解决旧版本netty的安全漏洞和rocksdb对于ARM64、M1芯片架构的直接支持。
功能方面，新增一个Beta功能，支持Grpc的TLS功能，用户可在服务端和客户端分别加载CA文件，保证传输过程中的数据进行加密。</p><p>在客户端层面，新增了服务发现模块对Aliyun STS鉴权模式的支持，以及对GraalVM的支持。</p><p>插件方面，为多数据源插件添加了打印SQL的功能，方面插件开发者或使用者获得插件所生成的SQL，减少排查问题的时间；
同时对默认鉴权插件进行了一定重构，移除了对<code>jjwt</code>的依赖同时提升性能、移除<code>token.secret.key</code>、<code>nacos.core.auth.server.identity.key</code> 和 <code>nacos.core.auth.server.identity.value</code>的默认值并提醒用户配置自定义的<code>token.secret.key</code>、<code>nacos.core.auth.server.identity.key</code> 和 <code>nacos.core.auth.server.identity.value</code>以提高安全性，具体情况请查看<a href="https://nacos.io/zh-cn/blog/announcement-token-secret-key.html" target="_blank" rel="noopener noreferrer">风险公告</a>。</p><p>易用性方面，新增通过配置内容检索配置的功能，但该功能<strong>会损耗大量性能</strong>，因此从内部进行了限流，也请用户尽量避免使用。</p><p>2.2.1 版本更多具体变更内容可参考变更日志：</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> feature</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9276] Add search config by content.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9703] add catalog v2 API to support list instances which is un-enabled.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9710] Support prometheus-sd basic auth.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9888] Beta support Grpc TLS feature.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#10062] Naming support aliyun STS auth.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Enhancement&amp;Refactor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9510] Add sql log print function.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9646] Replace concatenated strings with placeholders.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9708] Clean expired and invalid connections for HTTP client.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9783] Handle public namespaceId as default namespaceId for publish and query config for V2 http api.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9837] Enhance Grpc connected time when cluster started to load snapshot quickly.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9859] Refactor default auth plugin, use custom JWT instead of jjwt.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9860] Adapt logback 1.4.5 by SPI.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9885] Add prometheus api exception handling.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9949] Use Grpc replace all Http request between servers.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9951] Judge the message whether </span><span class="token code-snippet code keyword" style="color:#00009f">`null`</span><span class="token plain"> for metadata processor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#10084] Client use Async appender to print log.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> BugFix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9621] Fix Config Client server check always up problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9728] Fix prometheus http sd only return public namespace problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9732] Fix namespace v2 api auth not work problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9734] Fix http login url without default port problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9795] Fix export config failure problem for non admin user after opening auth.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9816] Fix redo data is different from server when register and unregister service with concurrency.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9819] Fix update password failure problem after use nginx.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9825] Fix config histroy page paged problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9861] Fix auth check before distro filter.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9862] Fix LDAP login failed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9943] Fix Config cas update can&#x27;t work when using derby database.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#10014] Clear confused logic about namespace properties.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#10038] Fix load failover file failure.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Dependency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">#9504</span><span class="token url" style="color:#36acaa">][</span><span class="token url variable" style="color:#36acaa">#9767</span><span class="token url" style="color:#36acaa">]</span><span class="token plain"> Upgeade-spring-boot version to 2.6.14.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9789] Upgrade jraft version to 1.3.12.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9772] Upgrade Grpc version to 1.50.2.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9985] Replace flatten-maven-plugin with easyj-maven-plugin.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#10091] Upgrade snakeYaml to 2.0.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-145">Nacos 1.4.5<a href="#nacos-145" class="hash-link" aria-label="Nacos 1.4.5的直接链接" title="Nacos 1.4.5的直接链接">​</a></h3><p>Nacos 1.4.5版本基于1.4.4版本，将部分合并在2.X的问题和优化，同步到最新的1.X版本中，具体内容可查看变更日志：</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> Enhancement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9064] Enhance error message and error code by merging #9045 and #8881 into v1.x.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#10089] Enhance STS auth for naming and async client log into v1.x.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> BugFix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#3720] Fix not admin user can change others password by api.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8979] Fix some ui problem by merging #8787、#8156 and #7364 into the v1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9020] Fix startup failed without prefix CUSTOM_SEARCH_LOCATIONS.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> Dependency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8541] Upgrade spring-boot version to 2.6.8.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-rust-sdk-023">Nacos-Rust-SDK 0.2.3<a href="#nacos-rust-sdk-023" class="hash-link" aria-label="Nacos-Rust-SDK 0.2.3的直接链接" title="Nacos-Rust-SDK 0.2.3的直接链接">​</a></h3><p>Nacos-Rust-SDK 在年前已经完成了对配置中心的功能适配， 经过社区同学的积极贡献，<a href="https://github.com/nacos-group/nacos-sdk-rust/releases/tag/v0.2.3" target="_blank" rel="noopener noreferrer">Nacos-Rust-SDK 0.2.3</a>版本终于完成了所有功能的适配，同时还能够绑定到nodejs中使用。欢迎正在使用rust的同学使用，并反馈意见。</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> enhance: add some debug log by @onewe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> chore: some logic optimization. by @CherishCai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> add some unit tests by @onewe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> chore: Optimize and Unified code.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> ci: fix codecov tarpaulin with 0.22.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> chore: try exclude tls openssl by @CherishCai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> [ISSUES #100] Change: naming api register_instance/select_instances by @onewe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> doc: link to nacos-sdk-rust-binding-node by @CherishCai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> [ISSUES #102] fix naming changed service log by @onewe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> [ISSUES #101]  env cq count decrease to 1 by @onewe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> [ISSUES #107] Add asynchronous api by @onewe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> chore: upgrade version to 0.2.3 by @CherishCai</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-go-sdk-220">Nacos-Go-SDK 2.2.0<a href="#nacos-go-sdk-220" class="hash-link" aria-label="Nacos-Go-SDK 2.2.0的直接链接" title="Nacos-Go-SDK 2.2.0的直接链接">​</a></h3><p>Nacos-Go-SDK 2.2.0 支持了批量注册服务的<code>batchRegister</code>接口，同时修复了一些旧版本bug，具体内容可查看变更日志：</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> config center support for disable local cache by @wangdongyun in #565</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> support batch register by @binbin0325 in #573</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> refine grpc_client by @binbin0325 in #574</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> fix MaxInt64 overflows on ARM 32-bits by @bavelee in #575</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> fix panic for rpc errorResponse by @binbin0325 in #577</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> fix QueryInstancesOfService clusters by @binbin0325 in #578</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="社区的直接链接" title="社区的直接链接">​</a></h2><p>感谢社区小伙伴的积极参与和厚爱，Nacos社区在2022年收获了电子标准院2022年度开源成熟度评估<code>优秀贰级</code>、<code>CSDN年度开发者影响力项目</code>和<code>InfoQ 十大开源新锐项目</code>等殊荣，在2023年也希望有更多的小伙伴参与到Nacos社区中，让Nacos越变越好</p><table><thead><tr><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/png/1577777/1679042599739-e7841f31-4f74-427c-a6b1-15100019212b.png#averageHue=%23b8b5ae&amp;clientId=ue18ba04c-3f94-4&amp;from=paste&amp;height=640&amp;id=u5c52e5b6&amp;name=image.png&amp;originHeight=1280&amp;originWidth=960&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=1848649&amp;status=done&amp;style=none&amp;taskId=u85c6ed43-3b8b-4c06-bf69-f6002f5df35&amp;title=&amp;width=480" alt="image.png" class="img_ev3q"></th><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/png/1577777/1679042600206-e0890689-ef18-4dd4-95b6-c3d84375d5d0.png#averageHue=%238088b2&amp;clientId=ue18ba04c-3f94-4&amp;from=paste&amp;height=640&amp;id=ubb66c1c4&amp;name=image.png&amp;originHeight=1280&amp;originWidth=960&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=2119680&amp;status=done&amp;style=none&amp;taskId=u83afbd7b-d79b-47c9-b23f-79921c8cb8a&amp;title=&amp;width=480" alt="image.png" class="img_ev3q"></th><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/png/1577777/1679042599053-6d168221-bc17-4d88-bfde-bf69375783f8.png#averageHue=%23908a7e&amp;clientId=ue18ba04c-3f94-4&amp;from=paste&amp;height=640&amp;id=uf2bd9bae&amp;name=image.png&amp;originHeight=1280&amp;originWidth=960&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=1304756&amp;status=done&amp;style=none&amp;taskId=u9421b95d-37ea-46f2-a439-790f5893431&amp;title=&amp;width=480" alt="image.png" class="img_ev3q"></th></tr></thead></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="新committer">新Committer<a href="#新committer" class="hash-link" aria-label="新Committer的直接链接" title="新Committer的直接链接">​</a></h3><p>社区中新增了3位Committer，他们分别为Nacos-K8s、Nacos-Rust-SDK、以及多数据源插件作出了巨大贡献。同时，Nacos社区也迎来了第一位来自开源之夏的Committer同学。</p><table><thead><tr><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/png/1577777/1679042674946-33a8223a-0d8b-4672-813a-322ecf4eb5f8.png#averageHue=%23accae6&amp;clientId=ue18ba04c-3f94-4&amp;from=paste&amp;height=1130&amp;id=ubdd03bac&amp;name=image.png&amp;originHeight=2260&amp;originWidth=1500&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=3916282&amp;status=done&amp;style=none&amp;taskId=u476b8ac5-e0eb-482b-bcd4-cd7a3255abb&amp;title=&amp;width=750" alt="image.png" class="img_ev3q"></th><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1679042628935-5dd6dc8f-6a49-495c-89dc-cc8e9501f8e8.jpeg#averageHue=%23a1cae8&amp;clientId=ue18ba04c-3f94-4&amp;from=paste&amp;height=1130&amp;id=udfc8027f&amp;name=%E8%94%A1%E9%B8%BF%E6%96%87-%20%E4%BA%BA%E7%89%A9%E6%B5%B7%E6%8A%A5.jpg&amp;originHeight=2260&amp;originWidth=1500&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=2541050&amp;status=done&amp;style=none&amp;taskId=ud5808db0-3ff5-4d00-a136-300aae3292a&amp;title=&amp;width=750" alt="蔡鸿文- 人物海报.jpg" class="img_ev3q"></th><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1679042632980-5d760b63-97b7-4197-aba9-ec37542270c3.jpeg#averageHue=%239ec8e9&amp;clientId=ue18ba04c-3f94-4&amp;from=paste&amp;height=1130&amp;id=uc26a01a1&amp;name=%E9%BB%84%E4%B9%99%E8%BD%A9-%E4%BA%BA%E7%89%A9%E6%B5%B7%E6%8A%A5.jpg&amp;originHeight=2260&amp;originWidth=1500&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=2403876&amp;status=done&amp;style=none&amp;taskId=uf56dc19e-f032-4192-ada9-70722bd91d9&amp;title=&amp;width=750" alt="黄乙轩-人物海报.jpg" class="img_ev3q"></th></tr></thead></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="展望">展望<a href="#展望" class="hash-link" aria-label="展望的直接链接" title="展望的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2x-后续计划">2.X 后续计划<a href="#2x-后续计划" class="hash-link" aria-label="2.X 后续计划的直接链接" title="2.X 后续计划的直接链接">​</a></h3><p>从2021年3月 2.0.0正式版发布至今，2.X版本已经走了接近2年时间，如今2.2.1版本发布，说明2.X版本已经逐渐成熟稳定，在2.X的后续计划中，除了鼓励社区中提供和完善已有的插件多种实现以外，依旧会为其易用性和扩展性进一步增强，添加更多的插件功能：</p><ul><li>寻址插件</li><li>配置变更钩子插件</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="30-计划">3.0 计划<a href="#30-计划" class="hash-link" aria-label="3.0 计划的直接链接" title="3.0 计划的直接链接">​</a></h3><p>Nacos社区同时也开启了关于<a href="https://mp.weixin.qq.com/s/8UwwD_WxSJINP8Qr_1wogg" target="_blank" rel="noopener noreferrer">Nacos3.0</a>的畅想和规划，Nacos将会从统一控制面、支持国产化、存储计算分离等方向进一步演进Nacos的功能和架构，欢迎社区积极参与到新版本的建设中。</p><p><img loading="lazy" alt="image.png" src="/zh-cn/assets/images/220-roadmap-4f6c43b09ff72f49d669db4d09a9634d.png" width="2308" height="792" class="img_ev3q">
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1577777/1660125280551-a2e881fe-d25e-4ebb-a28f-8e56683deef1.png#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=url&amp;id=Z9to1&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=185821&amp;status=done&amp;style=none&amp;taskId=u63849e10-1dae-45cb-b559-04d106ebe86&amp;title=#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=rUihF&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="About Nacos的直接链接" title="About Nacos的直接链接">​</a></h2><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p><p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p><p>最后欢迎大家扫码加入Nacos社区群</p><p><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/png/1577777/1679276899363-83081d59-67c6-4501-9cf8-0d84ba7c6d7e.png#averageHue=%23c1c2c2&amp;clientId=u9dfeac18-3281-4&amp;from=paste&amp;height=551&amp;id=ubcf45e51&amp;name=image.png&amp;originHeight=1102&amp;originWidth=854&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=155261&amp;status=done&amp;style=none&amp;taskId=ud6bea1fe-b003-441b-a810-84435d2aeff&amp;title=&amp;width=427" alt="image.png" class="img_ev3q"></p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 2.2.2发布，优化启动体验和鉴权提示"><meta itemprop="keywords" content="2.2.2,auth"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/2.2.2-release">Nacos 2.2.2发布，优化启动体验和鉴权提示</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 9 分钟</div></header><div class="markdown" itemprop="articleBody"><p>Nacos社区近期发布了2.2.0.1和2.2.1版本，对默认鉴权插件做出了较大的改动，详情查看<a href="https://nacos.io/zh-cn/blog/announcement-token-secret-key.html" target="_blank" rel="noopener noreferrer">风险说明</a>及<a href="https://nacos.io/zh-cn/blog/2.2.1-release.html" target="_blank" rel="noopener noreferrer">2.2.1发布</a>。
由于Nacos默认控制台ui中默认依赖了<code>token.secret.key</code>，所以在移除了<code>token.secret.key</code>的默认值后，许多新部署或默认使用latest版本镜像的用户出现大量启动失败的情况，对用户的易用性造成了较大影响。
因此2.2.2版本主要针对该问题进行了优化。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="新版本发布">新版本发布<a href="#新版本发布" class="hash-link" aria-label="新版本发布的直接链接" title="新版本发布的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-222">Nacos 2.2.2<a href="#nacos-222" class="hash-link" aria-label="Nacos 2.2.2的直接链接" title="Nacos 2.2.2的直接链接">​</a></h3><p>Nacos于2.2.0.1和2.2.1版本时移除了3个和鉴权有关的默认值，以避免用户部署时因各种原因未修改而引入的撞库风险。但其中<code>token.secret.key</code>在Nacos默认控制台ui的登陆页中被强制依赖，因此使得很多使用默认配置或对安全性要求不那么高的环境无法直接启动运行，给大量用户造成了使用困扰。</p><p>所以2.2.2版本的主要改动就是在<strong>未开启鉴权</strong>的情况下，通过取消默认控制台ui中的登录要求，从而移除对<code>token.secret.key</code>的强制依赖；在<strong>开启鉴权</strong>的情况下，用户仍然需要设置自定义的<code>token.secret.key</code>、<code>nacos.core.auth.server.identity.key</code>和 <code>nacos.core.auth.server.identity.value</code>。
否则将导致节点无法启动、登录失败、鉴权无法通过。</p><p>2.2.2 版本更多具体变更内容可参考变更日志：</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Enhancement&amp;Refactor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#10153] Close console login page when auth.enabled is false.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#10276] Default close openssl for client.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> BugFix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#10208] Remove DefaultSettingPropertySource.java.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-go-sdk-221">Nacos-Go-SDK 2.2.1<a href="#nacos-go-sdk-221" class="hash-link" aria-label="Nacos-Go-SDK 2.2.1的直接链接" title="Nacos-Go-SDK 2.2.1的直接链接">​</a></h3><p>Nacos-Go-SDK 2.2.1 主要修复了2.2.0中一个错误的内存使用问题，同时也修复了其他的一些使用问题，更加稳定，欢迎使用。</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> update get cache config log print by @binbin0325 in #594</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> fixed memory usage problem caused by maxInt chan by @binbin0325 in #596</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> 调整 [INFO] logDir cacheDir 日志输出 by @Cotch22 in #590</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> 修复初始化并发读写的情况 by @tonglin96 in #591</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> grpc default port init by @binbin0325 in #598</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="社区的直接链接" title="社区的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2022年度优秀贡献者">2022年度优秀贡献者<a href="#2022年度优秀贡献者" class="hash-link" aria-label="2022年度优秀贡献者的直接链接" title="2022年度优秀贡献者的直接链接">​</a></h3><p>Nacos社区在2022年获得诸多成就，离不开社区同学的积极参与和贡献。为了感谢2022年度积极参与Nacos社区和贡献代码的同学，Nacos社区在按照<a href="https://github.com/alibaba/nacos/graphs/contributors" target="_blank" rel="noopener noreferrer">github仓库贡献统计</a>和<a href="https://opensource.alibaba.com/contribution_leaderboard/details?projectValue=nacos&amp;timeType=month&amp;time=1677600000000" target="_blank" rel="noopener noreferrer">阿里巴巴开源贡献榜</a>，设置多个奖项，并附赠奖杯和礼品。</p><ul><li>贡献之星：在Nacos仓库统计和开源贡献榜中均有较高贡献的同学。<ul><li><a href="https://github.com/chenhao26-nineteen" target="_blank" rel="noopener noreferrer">chenhao26-nineteen</a>、<a href="https://github.com/li-xiao-shuang" target="_blank" rel="noopener noreferrer">li-xiao-shuang</a>、<a href="https://github.com/hujun-w-2" target="_blank" rel="noopener noreferrer">hujun-w-2</a></li></ul></li><li>生态之星：在Nacos的group生态仓库中有持续参与且做出杰出贡献的同学。<ul><li><a href="https://github.com/catcherwong" target="_blank" rel="noopener noreferrer">catcherwong</a>、<a href="https://github.com/czy88840616" target="_blank" rel="noopener noreferrer">czy88840616</a>、<a href="https://github.com/binbin0325" target="_blank" rel="noopener noreferrer">binbin0325</a>、<a href="https://github.com/paderlol" target="_blank" rel="noopener noreferrer">paderlol</a></li></ul></li><li>代码之星：在Nacos仓库中密集且长期持续性进行代码贡献的同学。<ul><li><a href="https://github.com/onewe" target="_blank" rel="noopener noreferrer">onewe</a>、<a href="https://github.com/CherishCai" target="_blank" rel="noopener noreferrer">CherishCai</a></li></ul></li><li>未来之星：在2022年度中，新加入Nacos社区，且有较大贡献的同学。<ul><li><a href="https://github.com/wuchubuzai2018" target="_blank" rel="noopener noreferrer">wuchubuzai2018</a>、<a href="https://github.com/Oliverwqcwrw" target="_blank" rel="noopener noreferrer">Oliverwqcwrw</a>、<a href="https://github.com/liqipeng" target="_blank" rel="noopener noreferrer">liqipeng</a>、<a href="https://github.com/The-Gamer-01" target="_blank" rel="noopener noreferrer">The-Gamer-01</a></li></ul></li><li>进步之星：在2022年前已经加入Nacos社区贡献，且在2022年度中贡献程度进步较大的同学。<ul><li><a href="https://github.com/YunWZ" target="_blank" rel="noopener noreferrer">YunWZ</a>、<a href="https://github.com/karsonto" target="_blank" rel="noopener noreferrer">karsonto</a></li></ul></li></ul><blockquote><p>说明：以上排名不分先后。</p></blockquote><table><thead><tr><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1680852964284-2443605d-d594-4dc8-bb75-6da14cdd8f12.jpeg#averageHue=%23a07b5e&amp;clientId=udb7e5972-f7b4-4&amp;from=paste&amp;height=437&amp;id=u6436f8f0&amp;name=IMG_3466.HEIC.JPG&amp;originHeight=874&amp;originWidth=1166&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=264073&amp;status=done&amp;style=none&amp;taskId=u7e0f0ab0-a69e-47b3-ad71-b1f016221bf&amp;title=&amp;width=583" alt="IMG_3466.HEIC.JPG" class="img_ev3q"></th><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1680852964324-f149c75c-b204-445c-a3b4-24aff8b79b5b.jpeg#averageHue=%23586c77&amp;clientId=udb7e5972-f7b4-4&amp;from=paste&amp;height=437&amp;id=uc7c2a34e&amp;name=IMG_1181.HEIC.JPG&amp;originHeight=874&amp;originWidth=1166&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=247482&amp;status=done&amp;style=none&amp;taskId=u7dfe30f4-5949-49b8-8a86-5d19ccd7324&amp;title=&amp;width=583" alt="IMG_1181.HEIC.JPG" class="img_ev3q"></th><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1680852987035-7bb5cad5-fbb1-4764-8383-19ddd22fb996.jpeg#averageHue=%23929990&amp;clientId=udb7e5972-f7b4-4&amp;from=paste&amp;height=477&amp;id=uea2c475d&amp;name=mmexport1680323559666.jpg&amp;originHeight=954&amp;originWidth=1279&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=114898&amp;status=done&amp;style=none&amp;taskId=ub2325bbf-d12c-4937-96d2-fd0261d93c3&amp;title=&amp;width=639.5" alt="mmexport1680323559666.jpg" class="img_ev3q"></th><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1681263310705-6a4bc1b0-b17a-4d46-9a82-597401cda18b.jpeg#averageHue=%23b59584&amp;clientId=u0dc24e80-8387-4&amp;from=drop&amp;id=u054e0974&amp;name=1426060892935891238.jpg&amp;originHeight=874&amp;originWidth=1166&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=211224&amp;status=done&amp;style=none&amp;taskId=uee90003b-75bd-4847-a2fa-29e5b7523e6&amp;title=" alt="1426060892935891238.jpg" class="img_ev3q"></th></tr></thead></table><table><thead><tr><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1681263479015-956f234c-10dd-4150-acb1-f5aed470bd3a.jpeg#averageHue=%239b9e97&amp;clientId=ua7179cf3-e42b-4&amp;from=drop&amp;id=u92c70cc9&amp;name=-785282054-1335766433.jpeg&amp;originHeight=1166&amp;originWidth=1166&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=904298&amp;status=done&amp;style=none&amp;taskId=u87fee435-af68-44d7-928e-4fb0610365e&amp;title=" alt="-785282054-1335766433.jpeg" class="img_ev3q"></th><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1681263583874-fc2c0b22-0d8f-405b-847a-c0c6076b8cb6.jpeg#averageHue=%23a7aaa3&amp;clientId=u61417e98-ccbb-4&amp;from=drop&amp;id=u3d14b102&amp;name=mmexport1680336390244.jpg&amp;originHeight=1780&amp;originWidth=1162&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=118932&amp;status=done&amp;style=none&amp;taskId=ua477518c-0ee2-4ba8-bd7a-461c4a3f0e9&amp;title=" alt="mmexport1680336390244.jpg" class="img_ev3q"></th><th><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1681263589035-47d7ba3c-615a-4b17-a76d-df8c9f01c441.jpeg#averageHue=%23c4c2b8&amp;clientId=u61417e98-ccbb-4&amp;from=drop&amp;id=u24a8e681&amp;name=mmexport1680339291530.jpg&amp;originHeight=2066&amp;originWidth=1162&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=447708&amp;status=done&amp;style=none&amp;taskId=u01e12f78-7602-4938-a19f-93e79692b42&amp;title=" alt="mmexport1680339291530.jpg" class="img_ev3q"></th></tr></thead></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="阿里巴巴开源开发者回馈计划">阿里巴巴开源开发者回馈计划<a href="#阿里巴巴开源开发者回馈计划" class="hash-link" aria-label="阿里巴巴开源开发者回馈计划的直接链接" title="阿里巴巴开源开发者回馈计划的直接链接">​</a></h3><p>阿里巴巴开源发起了开源开发者回馈计划，希望在合理量化开发者们的贡献的基础上，进一步给到实质性的回馈。该计划使用了 X-lab 开放实验室提出的 OpenRank 算法，即一种基于全域协作网络的算法去度量每位开发者的贡献。该算法从 2023 年 1 月起在阿里巴巴的 20 个重点项目上开始试运行。</p><p>此次，阿里巴巴开源统计了这 20 个项目中从 2023 年第一季度 <a href="https://opensource.alibaba.com/contribution_leaderboard/details?projectValue=nacos&amp;timeType=month&amp;time=1677600000000" target="_blank" rel="noopener noreferrer">OpenRank</a> 排名最高的 30 位社区外部贡献者，并寄出第一波礼品。</p><p>其中Nacos项目在2023 年第一季度的OpenRank中，有11位同学荣获第一波礼品，本次回馈计划的礼品非常豪华，是一把<strong>人体工学椅</strong>。其他参与社区贡献的同学也不要灰心，只要继续保持社区参与和贡献，依旧能得到下一次的大礼。</p><p>阿里巴巴开源将持续统计社区贡献者们在每个月上的 OpenRank 值，并作为积分不断累积，在未来，社区贡献者们可以通过积分兑换的形式获得更多礼品。我们相信，开源世界中的每一份贡献都值得回报！</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="开源之夏2023">开源之夏2023<a href="#开源之夏2023" class="hash-link" aria-label="开源之夏2023的直接链接" title="开源之夏2023的直接链接">​</a></h3><p>一年一度的<a href="https://summer-ospp.ac.cn/org/orgdetail/ab188e59-fab8-468f-bc89-bdc2bd8b5e64" target="_blank" rel="noopener noreferrer">开源之夏</a>如期而至，Nacos社区今年也积极参与，目前暂定的课题有：</p><ul><li><p>为Nacos适配Oracle数据库插件</p></li><li><p>为Nacos适配达梦数据库插件</p></li></ul><p>欢迎社区同学积极提供课题，尝试成为导师，想要提交新课题的同学请在Github中以issue的形式提交，格式为<code>[Proposal][Summer 2023]+课题名</code>，导师申请请在对应课题下回复评论并留下联系方式。</p><ul><li><p>提案新课题尽量以新增独立功能或模块为主，需要参与同学进行一定的设计和一定实现的代码量。</p></li><li><p>导师要求对课题相关Nacos源代码有一定的了解，并对课题的设计和实现方向有清晰的认知和把控。</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="展望">展望<a href="#展望" class="hash-link" aria-label="展望的直接链接" title="展望的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2x-后续计划">2.X 后续计划<a href="#2x-后续计划" class="hash-link" aria-label="2.X 后续计划的直接链接" title="2.X 后续计划的直接链接">​</a></h3><p>从2021年3月 2.0.0正式版发布至今，2.X版本已经走了接近2年时间，如今2.2.1版本发布，说明2.X版本已经逐渐成熟稳定，在2.X的后续计划中，除了鼓励社区中提供和完善已有的插件多种实现以外，依旧会为其易用性和扩展性进一步增强，添加更多的插件功能：</p><ul><li>寻址插件</li><li>配置变更钩子插件</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="30-计划">3.0 计划<a href="#30-计划" class="hash-link" aria-label="3.0 计划的直接链接" title="3.0 计划的直接链接">​</a></h3><p>Nacos社区同时也开启了关于<a href="https://mp.weixin.qq.com/s/8UwwD_WxSJINP8Qr_1wogg" target="_blank" rel="noopener noreferrer">Nacos3.0</a>的畅想和规划，Nacos将会从统一控制面、支持国产化、存储计算分离等方向进一步演进Nacos的功能和架构，欢迎社区积极参与到新版本的建设中。</p><p><img loading="lazy" alt="image.png" src="/zh-cn/assets/images/220-roadmap-4f6c43b09ff72f49d669db4d09a9634d.png" width="2308" height="792" class="img_ev3q">
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1577777/1660125280551-a2e881fe-d25e-4ebb-a28f-8e56683deef1.png#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=url&amp;id=Z9to1&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=185821&amp;status=done&amp;style=none&amp;taskId=u63849e10-1dae-45cb-b559-04d106ebe86&amp;title=#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=rUihF&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="About Nacos的直接链接" title="About Nacos的直接链接">​</a></h2><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p><p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p><p>最后欢迎大家扫码加入Nacos社区群</p><p><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2023/png/1577777/1679276899363-83081d59-67c6-4501-9cf8-0d84ba7c6d7e.png#averageHue=%23c1c2c2&amp;clientId=u9dfeac18-3281-4&amp;from=paste&amp;height=551&amp;id=ubcf45e51&amp;name=image.png&amp;originHeight=1102&amp;originWidth=854&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=155261&amp;status=done&amp;style=none&amp;taskId=ud6bea1fe-b003-441b-a810-84435d2aeff&amp;title=&amp;width=427" alt="image.png" class="img_ev3q"></p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 2.1.2、2.2.0-BETA及go-sdk 2.1.1 版本同时发布，多语言生态再添大将。"><meta itemprop="keywords" content="2.1.2,2.2.0-BETA,go-sdk,rust-sdk"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/212-and-220beta-release">Nacos 2.1.2、2.2.0-BETA及go-sdk 2.1.1 版本同时发布，多语言生态再添大将</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 10 分钟</div></header><div class="markdown" itemprop="articleBody"><p>距离2.1.1版本发布2个月后，Nacos社区又迎来一波大更新。本次发布包含了2个server版本，1个go-sdk版本以及新语言sdk的预告。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-212">Nacos 2.1.2<a href="#nacos-212" class="hash-link" aria-label="Nacos 2.1.2的直接链接" title="Nacos 2.1.2的直接链接">​</a></h2><p>2.1.2 主要增强了控制台的UI效果，变更了控制台的样式，使得内容更加紧凑美观；</p><p>另外2.1.2对客户端大小进行了优化，大幅降低了客户端的jar包大小，同时还提供了纯净版java-client，方便没有依赖gRPC或希望使用非shaded版本客户端用户使用，可以到<a href="/zh-cn/docs/v2/guide/user/sdk">Java SDK</a>中查看纯净版使用方式。</p><p>最后2.1.2修复了许多旧版本的问题，提高了稳定性。具体变更内容可参考变更日志：</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Enhancement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6112] Unified derby-data variables.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7929] Reduce nacos-client jar size by minijar.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8941] Support Fuzzy Query in Authority Control--for api change.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8956] Internationalize product description content in nacos console.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8976] Create new namespace with duplicate namespace show name.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9091] build pure nacos-client when release.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9210] Naming Distro sync support revision.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Refactor&amp;dependency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8611] Close old datasource connection.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8650] Make cluster/report both receive and send metadata.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9013] refactor rpcClient and grpcClient to support set configuration.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9014] refactor TpsMonitorPoint.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9177] Upgrade org.yaml.snakeyaml version from 1.30 to 1.32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9325] Add switch for naming async query.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> BugFix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8882] Fix nacos-client 2.1.0 start error when using endpoint configuration.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8910] Fix calculate instance count error when using batch register.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8925] Fix the value of hasQueryString is always false.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8928] Fix the replaceAll operation is invalid for server list.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8931] Fix BatchInstanceData can&#x27;t serialize problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8934] Fix header lost when request retrying.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8947] Fix the authentication/encryption plugin are not loaded on the nacos server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9023] Fix corner case config dataId &#x27;cipher-&#x27; can&#x27;t be create.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9047] Fix ServerListMgr is not shutdown in nacos-client.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9060] Fix print logs for NamingTraceEvent continuously.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9062] Fix unsubscribe service failed problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9101] Fix the ConnectionTimeout property in the datasource connection is overwritten problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9227] Fix instance change event subscribe failed in 2.1.1 when no setting scope.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9230] Fix error event order for snapshot loading.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9269] Fix RpcClient parse ipv6 address error problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">#9271</span><span class="token url" style="color:#36acaa">][</span><span class="token url variable" style="color:#36acaa">#6876</span><span class="token url" style="color:#36acaa">]</span><span class="token plain"> Fix &#x27;JraftServer&#x27; NPE after server exceptionally shutdown.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9277] Fix ClientServiceIndex not clean when service removed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9305] Fix build resource with error dataId.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9311] Fix cache not removed when listener adding delay.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9323] Fix service checking problem in 1.x http openAPI.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="220-beta">2.2.0-BETA<a href="#220-beta" class="hash-link" aria-label="2.2.0-BETA的直接链接" title="2.2.0-BETA的直接链接">​</a></h2><p>2.2.0版本是2.X中一个较为重要的版本，它包含了一些较为重大的改动：</p><p>首先，2.2.0将会删除旧的冗余代码，即1.X模式服务发现和双写相关代码。删除后，2.2.0版本将无法从Nacos 1.X服务器升级，只能从至少2.0.0版本升级。此更改不会影响对1.X客户端请求的适配，用户仍然可以使用1.X客户端链接2.2.0版本服务端。</p><p>其次，2.2.0将会合并部分阿里巴巴编程之夏2022和开源之夏2022的课题结果，例如<a href="/zh-cn/docs/v2/guide/user/open-api">V2版本的 openAPI</a> 和 <a href="/zh-cn/docs/v2/plugin/datasource-plugin">数据源插件</a>。其他课题也将在未来版本中发布。</p><p>最后，2.2.0增强了在2.1.1版本被列为beta功能的<code>轨迹追踪插件</code>和<code>批量注册</code>，这使它们更易于使用。关于如何开发和使用<code>轨迹追踪插件</code>，可以参考<a href="/zh-cn/docs/v2/plugin/trace-plugin">插件文档</a>进行开发。</p><p>由于这个版本中有许多重要的变化，所以社区计划做一个预发布的BETA版本。根据BETA测试的结果，下一个版本计划是BETA2或GA版本，欢迎广大用户积极<a href="https://github.com/alibaba/nacos/releases/tag/2.2.0-BETA" target="_blank" rel="noopener noreferrer">下载</a>试用测试，帮助社区尽早发现问题。</p><blockquote><p>注意：2.2.0-BETA是一个预发布的beta版本，可能存在一些问题，请尽量避免在生产环境中使用。</p></blockquote><p>2.2.0-BETA版本具体变更内容可参考变更日志：</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> feature</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">#5863</span><span class="token url" style="color:#36acaa">][</span><span class="token url variable" style="color:#36acaa">#9331</span><span class="token url" style="color:#36acaa">]</span><span class="token plain"> Support batch register and batch deregister service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8308] Add v2 openAPI for nacos 2.0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8312] Support datasource plugins.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8481] Support track tracing plugins.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9366] Support Ldaps authentication.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Enhancement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7930] Reomve old redundant codes about 1.x naming.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> BugFix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9334] Fix group_id data length different in many tables.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9341] Fix can not create bean ldapAuthenticationProvider.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#9351] Fix instance count error in prometheus metrics.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="多语言sdk">多语言SDK<a href="#多语言sdk" class="hash-link" aria-label="多语言SDK的直接链接" title="多语言SDK的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="go">Go<a href="#go" class="hash-link" aria-label="Go的直接链接" title="Go的直接链接">​</a></h3><p>Nacos <a href="https://github.com/nacos-group/nacos-sdk-go/releases/tag/v2.1.1" target="_blank" rel="noopener noreferrer">Go SDK v2.1.1</a> 版本也在近期发布了正式版本，在v2.1.0带来大量新特性和改进的基础上，进一步加强了使用的稳定性，欢迎大家升级使用。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rust">Rust<a href="#rust" class="hash-link" aria-label="Rust的直接链接" title="Rust的直接链接">​</a></h3><p>Rust语言是最近非常如火如荼的新编程语言生态，Nacos社区的小伙伴第一时间加入了对rust生态的建设，目前<a href="https://github.com/nacos-group/nacos-sdk-rust" target="_blank" rel="noopener noreferrer">nacos-rust-sdk</a>已完成基础的功能建设工作，同时实现了配置中心的核心功能，已发布v0.1.1版本供社区试用。</p><p>随着社区小伙伴的逐渐完善和更多愿意贡献的贡献者加入，<a href="https://github.com/nacos-group/nacos-sdk-rust" target="_blank" rel="noopener noreferrer">nacos-rust-sdk</a>很快也能够支持注册中心的功能，发布1.0的正式版本，这里也欢迎更多对rust有兴趣，希望找个项目练手的小伙伴加入一起建设nacos-rust-sdk。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="php">PHP<a href="#php" class="hash-link" aria-label="PHP的直接链接" title="PHP的直接链接">​</a></h3><p>PHP语言作为老牌服务端编程语言，以往有不少用户询问关于PHP客户端的问题；虽然社区中有很多根据openAPI自行开发的PHP客户端，但一直没有功能较全的版本和愿意持续维护捐献的PHP客户端实现，导致社区中一直没有属于nacos-group的PHP客户端。</p><p>今年由<a href="https://github.com/huangwh2014" target="_blank" rel="noopener noreferrer">huangwh2014</a>贡献到社区的PHP客户端终于能够让PHP的项目能够接入Nacos，享受Nacos所带来的各种功能。</p><p>由于该版本的<a href="https://github.com/nacos-group/nacos-sdk-php" target="_blank" rel="noopener noreferrer">PHP客户端</a>仍然是基于openAPI进行开发的，因此不具备gRPC的能力，希望社区的各位小伙伴积极参与项目，早日让PHP客户端进入2.X的时代。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="社区的直接链接" title="社区的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="编程之夏开源之夏">编程之夏&amp;&amp;开源之夏<a href="#编程之夏开源之夏" class="hash-link" aria-label="编程之夏&amp;&amp;开源之夏的直接链接" title="编程之夏&amp;&amp;开源之夏的直接链接">​</a></h3><p>经历了6月-9月的夏日，Nacos的编程之夏和开源之夏活动也圆满结束。参与课题的9位同学也完成了他们的开源社区体验。
在此期间，有些同学完成了Nacos新openAPI，新插件的开发；有些同学完成了Nacos对K8S，Mesh化的探索；也有些同学深耕于Nacos客户端与服务端的协商机制。
根据当前功能的完成程度和Nacos社区的版本的规划，这些重要的改动会在后续版本中逐渐与大家见面。在这里感谢参加编程之夏与开源之夏的同学和导师们的热情付出，同时也感谢阿里巴巴和中科院举办的优秀的开源活动。期待明年再见。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="committer">Committer<a href="#committer" class="hash-link" aria-label="Committer的直接链接" title="Committer的直接链接">​</a></h3><p>Nacos社区新晋级了两位Committer同学。 </p><p>自由开发者<a href="https://github.com/onewe" target="_blank" rel="noopener noreferrer">onewe</a>同学主要优化统一了Nacos客户端的配置参数的加载逻辑，同时优化了LDAP鉴权插件和大量控制台使用内容，找到并修复了不少Nacos的问题。经社区PMC及Committer的投票表决，提名为Nacos社区的Committer。</p><table><thead><tr><th><img loading="lazy" alt="onewe_front.jpg" src="/zh-cn/assets/images/Onewe_front-73e1ceb81bff37ddb1963093dc3c1b88.jpg" width="567" height="854" class="img_ev3q"></th><th><img loading="lazy" alt="Onewe_bak.jpg" src="/zh-cn/assets/images/Onewe_bak-fbdadd10346ffc24f4c60d4df44a355d.jpg" width="567" height="802" class="img_ev3q"></th></tr></thead></table><p>另外来自小米科技的<a href="https://github.com/chenhao26-nineteen" target="_blank" rel="noopener noreferrer">chenhao26-nineteen</a>同学主要完成了Nacos批量注册的新功能，并且使用该新功能优化了Nacos-Sync的同步逻辑，极大提升了Nacos-Sync的性能，同时也修复了不少Nacos的问题。经社区PMC及Committer的投票表决，提名为Nacos社区的Committer。</p><table><thead><tr><th><img loading="lazy" alt="chenhao26-nineteen_front.jpg" src="/zh-cn/assets/images/chenhao26-nineteen_front-91468e978feae7d72900ae3ecd26c79e.jpg" width="567" height="854" class="img_ev3q"></th><th><img loading="lazy" alt="chenhao26-nineteen_bak.jpg" src="/zh-cn/assets/images/chenhao26-nineteen_bak-be4e2765bdbbcfd3c21f6b387a54ea64.jpg" width="567" height="802" class="img_ev3q"></th></tr></thead></table><p>期望更多小伙伴一起参与贡献～～</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="About Nacos的直接链接" title="About Nacos的直接链接">​</a></h2><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p><p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p><p>Nacos社区同时也开启了关于<a href="https://mp.weixin.qq.com/s/8UwwD_WxSJINP8Qr_1wogg" target="_blank" rel="noopener noreferrer">Nacos3.0</a>的畅想和规划，欢迎社区积极参与到新版本的建设中。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1577777/1660125280551-a2e881fe-d25e-4ebb-a28f-8e56683deef1.png#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=url&amp;id=Z9to1&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=185821&amp;status=done&amp;style=none&amp;taskId=u63849e10-1dae-45cb-b559-04d106ebe86&amp;title=" alt="image.png" class="img_ev3q"></p><p>最后欢迎大家扫码加入Nacos社区群
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1577777/1660125280778-c1822fb0-958b-4730-a6dc-0e92ba22f3f8.png#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=374&amp;id=u2619495f&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=923&amp;originWidth=765&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=338166&amp;status=done&amp;style=none&amp;taskId=u0690e9a0-6d58-4f72-82b1-7d4457a900e&amp;title=&amp;width=310" alt="image.png" class="img_ev3q"></p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 配置管理帮我们解决什么问题？"><meta itemprop="keywords" content="nacos"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/5w1h-what">Nacos 帮我们解决什么问题？—— 配置管理篇</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-12T09:42:31.000Z" itemprop="datePublished">2023年10月12日</time> · <!-- -->阅读需 10 分钟</div></header><div class="markdown" itemprop="articleBody"><blockquote><p>Authors: 何煦</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="概述">概述<a href="#概述" class="hash-link" aria-label="概述的直接链接" title="概述的直接链接">​</a></h2><p><a href="https://github.com/alibaba/nacos" target="_blank" rel="noopener noreferrer">Nacos</a> 是阿里巴巴今年7月份开源的项目，如其名， Naming and Configuration Service ，专注于服务发现和配置管理领域。本系列文章，将从 5W1H（What、Where、When、Who、Why、How）全面剖析 Nacos，希望对开发者们在服务发现和配置管理开源方案选型的时候，有所帮助。</p><p>本文作为 Nacos 系列文章的开篇，从 “What” 开始。我们开始关注一个开源项目的时候，通常最先冒出的 2 个问题是：</p><ul><li>它是什么？</li><li>它帮我们解决什么问题？</li></ul><p>Nacos 是什么？</p><p>Nacos 是一个更易于构建云原生应用的动态服务发现、配置管理和服务管理平台。</p><p>Nacos 能帮我们解决什么问题？</p><p>本文将先围绕其“配置管理”功能来解答。配置，作为代码如影随形的小伙伴，伴随着应用的整个生命周期，我们当然对它也非常的熟悉，想想配置一般都通过哪几种形式存在？</p><ul><li>硬编码</li><li>配置文件</li><li>DB 配置表</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="硬编码">硬编码<a href="#硬编码" class="hash-link" aria-label="硬编码的直接链接" title="硬编码的直接链接">​</a></h2><p>配置项作为类字段的形式存在，如：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class AppConfig {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int connectTimeoutInMills = 5000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int getConnectTimeoutInMills() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return connectTimeoutInMills;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void setConnectTimeoutInMills(int connectTimeoutInMills) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.connectTimeoutInMills = connectTimeoutInMills;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这种形式主要有三个问题：</p><p>如果配置是需要动态修改的话，需要当前应用去暴露管理该配置项的接口，至于是 Controller 的 API 接口，还是 JMX ，都是可以做到。</p><p>另外，配置变更都是发生在内存中，并没有持久化。因此，在修改配置之后重启应用，配置又会变回代码中的默认值了，这是一个坑啊，笔者就曾经掉进去过，爬了好一会才上岸。</p><p>最后一个问题，就是当你有多台机器的时候，要修改一个配置，每一台都得去操作一遍，运维成本可想而知，极其蛋疼。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置文件">配置文件<a href="#配置文件" class="hash-link" aria-label="配置文件的直接链接" title="配置文件的直接链接">​</a></h2><p>Spring 中常见的 properties、yml 文件，或其他自定义的，如，“conf”后缀等：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># application.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">connectTimeoutInMills=5000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>相比“硬编码”的形式，它解决了第二个问题，持久化了配置。但是，另外两个问题并没有解决，运维成本依旧还是很高的。</p><p>配置动态变更，可以是通过类似“硬编码”暴露管理接口的方式，这时，代码中会多一步持久化新配置到文件的逻辑。或者，简单粗暴点，直接登录机器上去修改配置文件，再重启应用，让配置生效。当然，你也可以在代码中增加一个定时任务，如每隔 10s 读取配置文件内容，让最新的配置能够及时在应用中生效，这样也就免去了重启应用这个“较重”的运维操作。</p><p>通过增加“持久化逻辑”、“定时任务”让“配置文件”的形式比“硬编码”前进了一小步。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="db-配置表">DB 配置表<a href="#db-配置表" class="hash-link" aria-label="DB 配置表的直接链接" title="DB 配置表的直接链接">​</a></h2><p>这里的 DB 可以是 MySQL 等的关系型数据库，也可以是 Redis 等的非关系型数据库。数据表如：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">config</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">id</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bigint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AUTO_INCREMENT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">key</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">COMMENT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;配置项&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">value</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">COMMENT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;配置内容&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">updated_time</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">timestamp</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CURRENT_TIMESTAMP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CURRENT_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">created_time</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">timestamp</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CURRENT_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">id</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">UNIQUE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">idx_key</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">key</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ENGINE</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">InnoDB</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CHARSET</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">utf8 </span><span class="token keyword" style="color:#00009f">COMMENT</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;配置信息&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">config</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">key</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">value</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">updated_time</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">created_time</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;connectTimeoutInMills&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;5000&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CURRENT_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CURRENT_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>它相对于前两者，更进一步，将配置从应用中抽离出来，集中管理，能较大的降低运维成本。</p><p>那么，它能怎么解决动态更新配置的问题呢？据我所知，有两种方式。</p><p>其一，如同之前一样，通过暴露管理接口去解决，当然，也一样得增加持久化的逻辑，只不过，之前是写文件，现在是将最新配置写入数据库。不过，程序中还需要有定时从数据库读取最新配置的任务，这样，才能做到只需调用其中一台机器的管理配置接口，就能把最新的配置下发到整个应用集群所有的机器上，真正达到降低运维成本的目的。</p><p>其二，直接修改数据库，程序中通过定时任务从数据库读取最新的配置内容。</p><p>“DB 配置表”的形式解决了主要的问题，但是它不够优雅，带来了一些“累赘”。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-配置管理">Nacos 配置管理<a href="#nacos-配置管理" class="hash-link" aria-label="Nacos 配置管理的直接链接" title="Nacos 配置管理的直接链接">​</a></h2><p>Nacos 真正将配置从应用中剥离出来，统一管理，优雅的解决了配置的动态变更、持久化、运维成本等问题。</p><p>应用自身既不需要去添加管理配置接口，也不需要自己去实现配置的持久化，更不需要引入“定时任务”以便降低运维成本。Nacos 提供的配置管理功能，将配置相关的所有逻辑都收拢，并且提供简单易用的 SDK，让应用的配置可以非常方便被 Nacos 管理起来。</p><p>如果是在 Spring 中使用 Nacos，只需三个步骤即可：</p><ol><li>添加依赖</li></ol><div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;com.alibaba.nacos&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;nacos-spring-context&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;${latest.version}&lt;/version&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/dependency&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>添加 <code>@EnableNacosConfig</code> 注解启用 Nacos Spring 的配置管理服务。以下示例中，我们使用 <code>@NacosPropertySource</code> 加载了 <code>dataId</code> 为 <code>example</code> 的配置源，并开启自动更新：</li></ol><div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@EnableNacosConfig(globalProperties = @NacosProperties(serverAddr = &quot;127.0.0.1:8848&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@NacosPropertySource(dataId = &quot;example&quot;, autoRefreshed = true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class NacosConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>通过 Spring 的 <code>@Value</code> 注解设置属性值。</li></ol><p>注意：需要同时有 <code>Setter</code>方法才能在配置变更的时候自动更新。</p><div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class AppConfig {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Value(&quot;${connectTimeoutInMills:5000}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int connectTimeoutInMills;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int getConnectTimeoutInMills() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return connectTimeoutInMills;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void setConnectTimeoutInMills(int connectTimeoutInMills) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.connectTimeoutInMills = connectTimeoutInMills;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>以上的三个步骤，对应用本身几乎没有任何的侵入，1 个依赖 2 注解，寥寥数行，就把配置通过 Nacos 管理起来了。</p><p>关于配置的动态更新，对 Nacos Spring 的用户来说，在自身应用中就只是设置 “autoRefreshed” 的一个布尔值。然后在需要修改配置的时候，调用 Nacos 修改配置的接口，或使用 Nacos 的控制台去修改，配置发生变更后， Nacos 就会把最新的配置推送到该应用的所有机器上，简单而高效。</p><p>想想之前，为了实现此功能，写了多少冤枉代码，做了多少冤枉的运维工作。要是早一点认识 Nacos，该有多好呀！</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h2><p>本文作为 Nacos 5W1H 系列文章的开篇，从“What” 讲述了 Nacos 配置管理能帮我们解决的问题：以简单、优雅、高效的方式管理配置，实现配置的动态变更，大大降低运维成本，让开发同学早点下班。</p><p>当然，Nacos 的配置管理，不单单只有上述的那些功能，还有诸如“灰度发布”、“版本管理”、“快速回滚”、“监听查询”、“推送轨迹”、“权限控制”、“敏感配置（如，数据库连接配置）的加密存储”等等，这些有的已经在 Nacos 中开源实现了，有的在 Nacos 配置管理的阿里云免费产品 <a href="https://cn.aliyun.com/product/acm" target="_blank" rel="noopener noreferrer">ACM</a> 中提供了，当然，后续也会慢慢开源到 Nacos 中，敬请期待。</p><p>本系列文章，会持续为大家讲述 Nacos 的点点滴滴，不单单讲述 “Nacos 能帮我们解决什么问题？”，还会深入源码分析“Nacos 是如何做到简单而强大的？”。同时，如果小伙们有兴趣的话，我们还会给大家八卦一下 Nacos 的 稗官野史，关于 Nacos 在阿里内部的历史，关于 Nacos 服务端口的寓意等等。总之，一句话：我有故事，也有美酒，君还何求？</p></div></article><nav class="pagination-nav" aria-label="博文列表分页导航"><a class="pagination-nav__link pagination-nav__link--next" href="/zh-cn/blog/page/2"><div class="pagination-nav__label">较旧的博文</div></a></nav></main></div></div></div></div>
<script src="/zh-cn/assets/js/runtime~main.2794f8b4.js"></script>
<script src="/zh-cn/assets/js/main.c8f69a37.js"></script>
</body>
</html>