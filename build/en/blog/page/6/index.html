<!doctype html>
<html lang="en-US" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Blog | Nacos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://nacos.io/en/img/nacos_colorful.png"><meta data-rh="true" name="twitter:image" content="https://nacos.io/en/img/nacos_colorful.png"><meta data-rh="true" property="og:url" content="https://nacos.io/en/blog/page/6"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="Nacos"><meta data-rh="true" property="og:title" content="Blog | Nacos"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"><link data-rh="true" rel="canonical" href="https://nacos.io/en/blog/page/6"><link data-rh="true" rel="alternate" href="https://nacos.io/en/blog/page/6" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://nacos.io/zh-cn/blog/page/6" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://nacos.io/blog/page/6" hreflang="default"><link data-rh="true" rel="alternate" href="https://nacos.io/blog/page/6" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://1QV814950M-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="Nacos RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="Nacos Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Nacos" href="/en/opensearch.xml">


<meta name="aes-config" content="pid=xux-opensource&amp;user_type=101&amp;uid=&amp;username=&amp;dim10=nacos">
<meta name="referrer" content="no-referrer">
<link rel="stylesheet" href="//dev.g.alicdn.com/mamba/mse-arc-ui/0.0.20/umd/mse-arc-ui.min.css">
<script src="//dev.g.alicdn.com/mamba/mse-arc-ui/0.0.20/umd/mse-arc-ui.min.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-0YDFJ7LX7F" async></script><link rel="stylesheet" href="/en/assets/css/styles.ada177ca.css">
<link rel="preload" href="/en/assets/js/runtime~main.2f81187a.js" as="script">
<link rel="preload" href="/en/assets/js/main.1ba25a89.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>



<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script>
<script src="//hm.baidu.com/hm.js?e3a5cec56ef8619cf9d7c2abebd509e3"></script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/nacos_colorful.png" alt="Nacos Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/nacos_colorful.png" alt="Nacos Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a href="https://nacos.io/zh-cn/docs/v2/quickstart/quick-start.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"> </a><a class="navbar__item navbar__link" href="/en/">Home</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" docid="/what-is-nacos" href="/en/docs/v2/what-is-nacos">2.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/next/v2/what-is-nacos">User Docs</a></li><li><a class="dropdown__link" href="/en/docs/v2/what-is-nacos">2.X</a></li><li><a class="dropdown__link" href="/en/docs/1.X/v2/what-is-nacos">1.X</a></li></ul></div><a class="navbar__item navbar__link" href="/en/cloud">NACOS CLOUD</a><a href="https://developer.aliyun.com/ebook/36?spm=a2c6h.20345107.ebook-index.18.152c2984fsi5ST" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">E-BOOK-NACOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/blog">BLOG</a><a class="navbar__item navbar__link" href="/en/community">COMMUNITY</a><a href="http://console.nacos.io/nacos/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DEMO-CONSOLE<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>En</a><ul class="dropdown__menu"><li><a href="/en/blog/page/6" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">En</a></li><li><a href="/zh-cn/blog/page/6" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">ä¸­</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All Posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.1.1-release">2.1.1-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.2.0-release">2.2.0-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.2.1-release">2.2.1-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.2.2-release">2.2.2-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/212-and-220beta-release">212-and-220beta-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/announcement-token-secret-key">announcement-token-secret-key</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/higress">higress</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/iscas2023">iscas2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-distro-mechanism">nacos-distro-mechanism</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-reigster-mechanism">nacos-reigster-mechanism</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/springboot-0.2.10">springboot-0.2.10</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/up-to-2w-star">up-to-2w-star</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/xiaomi-scale">xiaomi-scale</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos3.0-is-coming">æä»¬æ»ç»äº3å¤§ä½¿ç¨å»ºè®®ï¼å¹¶é¦æ¬¡å¬å¼ Nacos3.0 è§åå¾ | Nacos å¼æº4å¨å¹´</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/iscas2022">Nacoså¼æºä¹å¤ï¼è´¡ç®ç¤¾åºèµ¢å12000å¥é</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.1.0-release">Nacos 2.1.0çæ¬åå¸ï¼æ¯æé´æåå è§£å¯æä»¶</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/use-nacos-with-rainbond">Install the HA Nacos cluster in Rainbond with one-click</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/apisix">Apache APISIX Realizes Service Discovery Based on Nacos</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.0.3-release">Nacos 2.0.3 Release, continue to improve stability.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/performance-compare">Performance comparison between Nacos 2.0 upgrading or not.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/iscas2021">Nacos ISCAS 2021 start to apply</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.0.1-release">Nacos 2.0.1 + 1.4.2 Release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/1.4.0-release">Nacos 1.4.0 + Go SDK 1.0.1 Release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/csharp-0.5.0">v0.5.0 of Nacos-sdk-csharp was released! Capabilities aligned with Java SDKï¼</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-2nd-anniversary">Nacos ä¸¤å¨å¹´ç®ç¤¼ï¼Nacos 1.3.2 + Go SDK 1.0.0åå¸</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/feeling-of-ASoC-2019">åä¸å¼æºï¼Offeræ¿å°æè½¯ -- æ¥èªä¸å2019é¿éå·´å·´ç¼ç¨ä¹å¤åå­¦çäº²è¿°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos 1.2.0 guide">Nacos 1.2.0æéæ§å¶ä»ç»åä½¿ç¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-1.3.0-design">Nacos 1.3.0 new kernel construction process</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/namespace-endpoint-best-practices">Namespace,endpoint æä½³å®è·µ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/pilot mcp">Pilot MCPåè®®ä»ç»</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos 1.1.4">Nacos 1.1.4åå¸ï¼ä¸ççåæ¯æIstio MCPåè®®</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-confd">Nacosæ´åConfdï¼æ¯ænginxéç½®ç®¡ç</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/eureka2">Eureka 2.0 å¼æºå·¥ä½å®£ååæ­¢ï¼å«æå¿ï¼ANS å³å° Cä½å¼ºå¿åºéï¼</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos 1.1.0">Nacos 1.1.0åå¸ï¼æ¯æç°åº¦éç½®åå°åæå¡å¨æ¨¡å</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-roadmap">Nacos GAåçæ´ä½è§å</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/cmdb">NacosæéCMDBå®ç°å°±è¿è®¿é®</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/address-server">é¿éå·´å·´åºäº Nacos å®ç°ç¯å¢éç¦»çå®è·µ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos1.0.0">Nacos 1.0.0 åå¸ï¼æ­£å¼å¤§è§æ¨¡çäº§å¯ç¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.9.0">Nacos 0.9.0çæ¬è¿è¡åå¸</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.9-intro">Nacos 0.9.0çæ¬è¿è¡åå¸</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/huya-practice">èçç´æ­å¨å¾®æå¡æ¹é æ¹é¢çå®è·µåæ»ç»</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.8">Nacos 0.8.0çæ¬è¿è¡åå¸</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/huya-nacos">èçç´æ­å±å»ºNacosçæ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/5w1h-where">Nacos æåªäºå¸åçåºç¨åºæ¯ï¼ââ éç½®ç®¡çç¯</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/dynamic-route-zuul-nacos">ä½¿ç¨Nacoså®ç°Spring Cloud Zuulçå¨æè·¯ç±</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.6">Nacos 0.6çæ¬åå¸ï¼æ¯æDubboçæå¹¶ä¸æ¯æDockeré¨ç½²</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.5">Nacos0.5åå¸ï¼æ¯æDNS-based Service Discoveryï¼JAVA 11</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos">Nacos 0.1.0 çæ¬Review æ´»å¨è®¾è®¡</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/cncf">Nacos è¿å¥CNCF landscape</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/5w1h-what">What problems does Nacos help us solve? ââ Configuration Management</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/discovery-console">Nacosæå¡åç°æ§å¶å°é¢è§</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/chengdu-dubbo">Nacos è®¡ååå¸v0.2çæ¬ï¼è¿ä¸æ­¥èåDubboåSpringCloudçæ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/consul-k8s">Consulä¸kubernetesæ´åå¬å[ç¿»è¯]</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/dns-sd">å¾®æå¡æ¶æä¸­åºäºDNSçæå¡æ³¨åä¸åç°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-is-coming">æ¯æDubboçæåå±ï¼é¿éå·´å·´å¯å¨æ°çå¼æºé¡¹ç® Nacos</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/alibaba-configserver">é¿éå·´å·´æå¡æ³¨åä¸­å¿äº§åConfigServer 10å¹´ææ¯åå±åé¡¾</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacosæå¡åç°æ§å¶å°é¢è§"><meta itemprop="keywords" content="nacos"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/discovery-console">Nacosæå¡åç°æ§å¶å°é¢è§</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-10-02T00:00:00.000Z" itemprop="datePublished">October 2, 2018</time> Â· <!-- -->7 min read</div></header><div class="markdown" itemprop="articleBody"><p>Nacosæ¯é¿éå·´å·´ä¸­é´ä»¶é¨é¨æè¿å¼æºçä¸æ¬¾ç¨äºæå¡åç°åéç½®ç®¡ççäº§åãå¨æ¢0.1çæ¬åå¸åºæ¬åè½å0.2çæ¬åå¸ä¸Springçæç»åçåè½åï¼0.3çæ¬å°éæ¾å¨æ°çæ§å¶å°çé¢ãéç½®ç®¡çåè½ç¸å³çæ§å¶å°ï¼å°ä¼ç±é¿éäºåä¸äº§åACMæ§å¶å°æ¹é èæ¥ï¼èæå¡åç°çæ§å¶å°çé¢ï¼åå°ä»¥é¦æ¬¡é²é¢çå§¿æï¼å¼æ¾ç»å¼æºç¤¾åºãæ¬æå°±å°æå¡åç°æ§å¶å°ç¸å³ççé¢UIåçè®¾è®¡å¬å¸ï¼æ¬¢è¿å¤§å®¶åä¸è®¨è®ºï¼å¸æéè¿å¤§å®¶çæ¹è¯åå»ºè®®ï¼å°æå¡åç°æ§å¶å°è¿åçåè½åçé¢ï¼è®¾è®¡çæ´å ç¾è§åæç¨ã</p><p>æå¡åç°æ§å¶å°çä¸»è¦åè½æ¯æå¡åè¡¨çå±ç¤ºåæç´¢ï¼ä»¥åæå¡éç½®ãéç¾¤éç½®ãå®ä¾éç½®çæ¥è¯¢åæ´æ°ãå¨0.3çæ¬ä¸­ï¼ä¸»è¦ä¼æä¸¤ä¸ªé¡µé¢ï¼æå¡åè¡¨åæå¡è¯¦æã</p><h1>æå¡åè¡¨</h1><p>æå¡åè¡¨é¡µé¢ä¸»è¦å±ç¤ºå·²ç»å¨Nacosæ³¨åçæå¡åè¡¨ï¼ä»¥åæå¡çåºæ¬ä¿¡æ¯ï¼æå¡çåºæ¬ä¿¡æ¯æï¼æå¡çåç§°ãæå¡ä¸éç¾¤çæ°ç®ãæå¡ä¸å®ä¾çæ°ç®ãæå¡çå¥åº·ç¨åº¦ä»¥åè¿å¥æå¡è¯¦æçæé®ãåæ¶å³ä¸è§è¿æä¸ä¸ªæ¯ææ ¹æ®æå¡åæç´¢æå¡çæç´¢æ¡åæç´¢æé®ã</p><p><img loading="lazy" src="https://cdn.nlark.com/lark/0/2018/png/15356/1538701093629-9880a456-8a37-4663-bd88-853441dab3f4.png" alt="å¾1 æå¡åè¡¨é¡µé¢" class="img_ev3q"></p><h1>æå¡è¯¦æ</h1><p>å¨æå¡åè¡¨é¡µé¢ç¹å»âdetailâæé®ï¼å°±ä¼è¿å¥æå¡è¯¦æé¡µé¢ãæå¡è¯¦æé¡µé¢å±ç¤ºçæ¯ä¸ä¸ªæå¡çææå³é®ä¿¡æ¯ï¼åæ¬æå¡çéç½®ååæ°æ®ãéç¾¤åè¡¨åç¤ºä¾åè¡¨ï¼ä»¥åä¸äºæä½çæé®ã</p><p><img loading="lazy" src="https://cdn.nlark.com/lark/0/2018/png/15356/1538701093629-9880a456-8a37-4663-bd88-853441dab3f4.png" alt="å¾2 æå¡è¯¦æé¡µé¢" class="img_ev3q"></p><p>å¨è¯¥é¡µé¢çä¸æ¹ï¼æ¯æå¡çéç½®ååä¿¡æ¯ï¼ç®ååå«æå¡åãä¿æ¤éå¼ãå¥åº·æ£æ¥æ¨¡å¼ä»¥ååæ°æ®metadataãå³ä¸æ¹æ¯ç¼è¾æå¡æé®ï¼ç¹å»åä¼æå¯¹è¯æ¡å¼¹åºï¼å¯ä»¥å¯¹æå¡çéç½®è¿è¡ç¼è¾ã</p><p><img loading="lazy" src="https://cdn.nlark.com/lark/0/2018/png/15356/1538701150783-fa6d58cf-01f4-430c-a5d0-6278c9590404.png" alt="å¾2 æå¡è¯¦æé¡µé¢" class="img_ev3q"></p><p>æå¡è¯¦æçä¸æ¹ï¼æ¯éç¾¤åè¡¨åéç¾¤ä¸çå®ä¾åè¡¨ãæ¯ä¸ªéç¾¤ä¼æ¾ç¤ºä¸ä¸ªéç¾¤åï¼åç¸åºçæ¥ç&amp;æ´æ°éç¾¤è¯¦ææé®ãç¹å»è¯¥æé®åï¼ä¼æ¯ä¸ä¸ªæ´æ°éç¾¤çå¯¹è¯æ¡ã</p><p><img loading="lazy" src="https://cdn.nlark.com/lark/0/2018/png/15356/1538701200952-f9dcb51e-100e-4501-a3db-d665dfaf7188.png" alt="å¾4 æ´æ°éç¾¤ï¼TCPå¥åº·æ£æ¥ï¼" class="img_ev3q"></p><p><img loading="lazy" src="https://cdn.nlark.com/lark/0/2018/png/15356/1538701223427-284aaf1c-1cd3-412e-9f22-d5baae2cee25.png" alt="å¾5 æ´æ°éç¾¤ï¼HTTPå¥åº·æ£æ¥ï¼" class="img_ev3q"></p><p>å¾4åå¾5åå«å±ç¤ºäºå¯¹éç¾¤æ´æ°çä¸¤ç§å¯¹è¯æ¡å±ç¤ºï¼ä¸¤èçåºå«æ¯éæ©äºä¸åçå¥åº·æ£æ¥æ¹å¼ãTCPå¥åº·æ£æ¥æ¹å¼å¯ä»¥éç½®æ£æ¥çç«¯å£ï¼HTTPå¥åº·æ£æ¥æ¹å¼å¯ä»¥éç½®æ£æ¥çç«¯å£ãæ£æ¥çè·¯å¾åHTTPå¤´é¨ä¿¡æ¯ãåæ¶è¿å¯ä»¥éç½®æ¯å¦éç¨å®ä¾çç«¯å£è¿è¡å¥åº·æ£æ¥ï¼å¦æéç½®ä¸ºtrueï¼åå¥åº·æ£æ¥å°ä½¿ç¨å®ä¾æ³¨åçç«¯å£è¿è¡éä¿¡ãè¯¥å¯¹è¯æ¡è¿å¯ä»¥ç¼è¾éç¾¤çåä¿¡æ¯ã</p><p>æ¯ä¸ªéç¾¤ä¸é¢é½ä¼æå®ä¾åè¡¨ï¼å®ä¾åè¡¨å°ä¼åé¡µå±ç¤ºè¯¥éç¾¤ä¸æ³¨åçææå®ä¾ï¼å±ç¤ºçä¿¡æ¯æIPãç«¯å£ãæéãæ¯å¦å¥åº·ãåä¿¡æ¯åå¯¹åºçç¼è¾åä¸çº¿æé®ãä¸çº¿æé®ç¹å»åï¼è¯¥å®ä¾å°ä¸ä¼è¿åç»è®¢éç«¯ï¼æ è®ºè¯¥å®ä¾æ¯å¦å¥åº·ãâä¸çº¿âææ¬ä¼æ¹æâä¸çº¿âï¼ç¨äºå¯¹åºçå®ä¾ä¸çº¿æä½ãç¹å»ç¼è¾æé®ï¼åä¼è¿å¥ç¼è¾å®ä¾å¯¹è¯æ¡ã</p><p><img loading="lazy" src="https://cdn.nlark.com/lark/0/2018/png/15356/1538701250740-ffb38cd0-a15d-4425-a2ca-48c5d0d2698e.png" alt="å¾6 ç¼è¾å®ä¾å¯¹è¯æ¡" class="img_ev3q"></p><p>ç¼è¾å®ä¾å¯¹è¯æ¡ï¼å¯ä»¥ç¼è¾çä¿¡æ¯æå®ä¾çæéãæ¯å¦ä¸ä¸çº¿ååä¿¡æ¯ã</p><p>0.3çæ¬çæå¡åç°é¡µé¢ï¼åºæ¬å°±æ¯è¿æ ·ï¼æ¬¢è¿å¤§å®¶çåé¦ãæå¡æ³¨åå®¢æ·ç«¯ä¹å¯ä»¥ç¼è¾æå¡ãéç¾¤ãå®ä¾åä¿¡æ¯ï¼è¿äºå¯è½ä¼åæ§å¶å°çç¼è¾ç¸å²çªï¼ç®åçæºå¶æ¯ï¼ä¸ç®¡æ¯æ§å¶å°æ´æ°åå®¢æ·ç«¯æ´æ°ï¼é½å°è¢«Nacosæå¡ç«¯ææ¥åï¼è¿ç¹ä¹æ¬¢è¿å¤§å®¶ç»åºèªå·±ççæ³ãæåä¹é¢ç¥å¤§å®¶å½åºæ¾åæå¿«ï¼</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos è®¡ååå¸v0.2çæ¬ï¼è¿ä¸æ­¥èåDubboåSpringCloudçæ"><meta itemprop="keywords" content="nacos,nacos0.2,alibaba,é¢å­¦è¶,Aliware Open Source,spring cloud"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/chengdu-dubbo">Nacos è®¡ååå¸v0.2çæ¬ï¼è¿ä¸æ­¥èåDubboåSpringCloudçæ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-09-21T00:00:00.000Z" itemprop="datePublished">September 21, 2018</time> Â· <!-- -->7 min read</div></header><div class="markdown" itemprop="articleBody"><p>å¨è¿æçAliware Open Source æé½ç«çæ´»å¨ä¸ï¼é¿éå·´å·´é«çº§å·¥ç¨å¸é¢å­¦è¶ï¼äºæï¼åäº«äºNacos v0.2çè§ååè¿åº¦ï¼å¹¶å¯¹Nacos v0.3çæ§å¶å°è¿è¡äºé¢è§ãNacos v0.2å°è¿ä¸æ­¥èå¥DubooåSpring Cloudçæï¼å¸®å©å¼åèæ´å¥½çå¨å¾®æå¡åºæ¯ä¸ä½¿ç¨æå¡åç°åå¨æéç½®ç®¡çã</p><p><img loading="lazy" src="https://cdn.nlark.com/lark/0/2018/png/11189/1537795153259-cc2c60c2-d7cb-431a-8858-cbd71b1c89e9.png" alt="undefined" class="img_ev3q"> </p><p>åå®¾ä»ç»ï¼é¢å­¦è¶ï¼äºæï¼ï¼Nacoså¼æºé¡¹ç®ä¸»è¦æ¨å¨èï¼è´è´£é¿éå·´å·´åé¨ configserverãskywalkeråtaokeeperäº§åçæ¶æåç åï¼ç±å¥½ä»£ç ãç¯®çãåä»åææ»ï¼è¿è®°å¾è¶å¥ç»ç²äººå°æååçé£é¦è¶æ¸©æçæ­ä¹ï¼</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1nacoså¼æºä»ç»">1.Â Nacoså¼æºä»ç»<a href="#1nacoså¼æºä»ç»" class="hash-link" aria-label="Direct link to 1.Â Nacoså¼æºä»ç»" title="Direct link to 1.Â Nacoså¼æºä»ç»">â</a></h2><p>Nacosæ¯ä¸ä¸ªæ´æäºå¸®å©æå»ºäºåçåºç¨çå¨ææå¡åç°ãéç½®åæå¡ç®¡çå¹³å°ï¼è±èäºæ¿è½½æ´ä¸ªé¿éå·´å·´éå¢çè½¯è´è½½äº§åï¼å¹¶äºä»å¹´7æå¯¹å¤å¼æºãå¼æºä»¥æ¥ï¼è·å¾äºæ¥èªç¤¾åºçç§¯æåé¦ï¼staræ°çªç ´Â 1k ã</p><p>Nacosæ¨å¨å°é¿éå·´å·´å¨å»ºè®¾å±äº«æå¡ä½ç³»ä¸­ä½¿ç¨çæå¡åç°ãéç½®åæå¡ç®¡çå¹³å°è´¡ç®ç»å¼æºç¤¾åºï¼éè¿æé Dubbo + Nacosçç»å¸ç»åè¿ä¸æ­¥éæ¾Dubboå¨äºåçåService Meshæ¶ä»£ä¸­ï¼å¨å¤§è§æ¨¡å¾®æå¡æ²»çãæµéæ²»çãæå¡éæä¸æå¡å±äº«ç­æå¡å¹³å°è½åå»ºè®¾ä¸çå¨åï¼åæ¶Nacoså³æ³¨å¯¹ä¸»æµå¼æºç¤¾åºï¼å¦Spring CloudåKubernetesäºåçä½ç³»çæ ç¼å¯¹æ¥ä¸æ¯æãè¯¥é¡¹ç®é¢è®¡å¨7æä¸­æ¬å¼æ¾é¦ä¸ªæµè¯é¢è§çæ¬ï¼å¹¶è®¡åå¨0.8çæ¬ä¸ï¼è¾¾å°çäº§å¯ç¨çç¶æãæ­¤å¤ï¼Nacosæ¯ææ³¨åä¸­å¿åéç½®ä¸­å¿çåç¦»é¨ç½²ï¼ä¹å³æ³¨ä¸äºçsaasåé¨ç½²ï¼å®ç°äºä¸å°äºä¸çå¹³æ»è¿ç§»ã</p><p>Githubé¡¹ç®ä¸»é¡µï¼
<a href="https://github.com/alibaba/nacos" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/nacos</a>
Nacoså®ç½ï¼
<a href="http://nacos.io/" target="_blank" rel="noopener noreferrer">http://nacos.io/</a>Â </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-nacos-v02è¿åº¦åè§å">2. Nacos v0.2è¿åº¦åè§å<a href="#2-nacos-v02è¿åº¦åè§å" class="hash-link" aria-label="Direct link to 2. Nacos v0.2è¿åº¦åè§å" title="Direct link to 2. Nacos v0.2è¿åº¦åè§å">â</a></h2><p>Nacos +Â Dubboï¼ åä¸­å¿éæï¼éæ¾å¨å
Dubbo2.7å°å¯¹æ³¨åä¸­å¿åéç½®ä¸­å¿è¿è¡éæãæ³¨åä¸­å¿å°åªç¨äºEndpointçåæ­¥ï¼è¿ä¸æ­¥åè½»æ³¨åä¸­å¿çå­å¨ååï¼æé«å°ååæ­¥æçï¼åæ¶ç¼è§£å½åç±äºURLåä½å¨å¤§è§æ¨¡æ¨éæ¶é æçConsumerç«¯åå­è®¡ç®ååãéç½®ä¸­å¿å°è§£å³å½åéç½®åå°åä¿¡æ¯è¦åçé®é¢ï¼éè¿æ½è±¡å¨æéç½®å±ï¼è®©å¼åèå¯ä»¥å¯¹æ¥å¾®æå¡åºæ¯ä¸æ´å¸¸ç¨çãæ´ä¸ä¸çéç½®ä¸­å¿ãè¿ä½¿å¾NacosåDubboçå®ç¾èåæä¸ºå¯è½ï¼è¿ä¸æ­¥éæ¾Dubboå¨æå¡æ²»çãæµéæ²»çãæå¡è¿è¥åç®¡çç­æ¹é¢çå¨åã</p><p>Nacos + Spring Cloudï¼å¤å±èå¥ï¼æ ç¼è´´å
Nacoså¨ææ¯ç¤¾åºå·²ç»å¯å¨Nacos + Spring Cloudçå·¥ç¨ï¼å¯æ ç¼æ¯æSpring Cloudï¼ä¸ºSpring Cloudç¨æ·æä¾æ´ç®ä¾¿çéç½®ä¸­å¿åæ³¨åä¸­å¿çè§£å³æ¹æ¡ï¼ä½¿ç¨Nacosä¸ç¨åä»ä»ä¸ºæå¡åéç½®å°±éè¦å¨çäº§ä¸holdä½ Eurekaï¼Spring Cloud Config Serverï¼Gitï¼Consul èµ·ç åä¸ªå¼æºäº§åã</p><p>Nacos v0.2ï¼å¨æ¹ä½æ³¨è§£ï¼å®ç°å¹³æ»è¿ç§»
å¨ Java çæç³»ç»ä¸­ï¼ä»¥ Spring Boot å Spring Cloud ä¸ºä»£è¡¨çå¾®æå¡æ¡æ¶ï¼å¼å¥äºå¨æ°çç¼ç¨æ¨¡åï¼åæ¬ï¼
o	æ³¨è§£é©±å¨ï¼Annotation-Drivenï¼
o	å¤é¨åéç½®ï¼External Configurationï¼
o	èªå¨è£éï¼Auto-Configureï¼</p><p>Nacoså°å¨v0.2æ¯æåçSpringãSpring BootãSpring Cloudä¸­å³äºæå¡åç°ãéç½®ç®¡ççåçéç½®ï¼ééSpring BootãSpring Cloudæ åï¼æ­¤å¤Nacosè¿æ¯æ¯æä»¥ä¸æ³¨è§£ã
<img loading="lazy" src="https://cdn.nlark.com/lark/0/2018/png/11189/1537795187129-bf48b9b1-3560-4081-99fc-b9c99497525b.png" alt="undefined" class="img_ev3q"> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-nacos-ä»£ç æ¼ç¤º--v03æ§å¶å°é¢è§">3. Nacos ä»£ç æ¼ç¤º &amp; v0.3æ§å¶å°é¢è§<a href="#3-nacos-ä»£ç æ¼ç¤º--v03æ§å¶å°é¢è§" class="hash-link" aria-label="Direct link to 3. Nacos ä»£ç æ¼ç¤º &amp; v0.3æ§å¶å°é¢è§" title="Direct link to 3. Nacos ä»£ç æ¼ç¤º &amp; v0.3æ§å¶å°é¢è§">â</a></h2><p>å¨åäº«ä¸­ï¼äºæç°åºæ¼ç¤ºäºå¦ä½å¿«éè¿è¡ä¸ä¸ªNacosåºç¨ãè°ç¨Nacos APIãå¦ä½ä½¿ç¨æ³¨è§£æ¥è¿è¡Nacosã</p><p>åæ¶ï¼Nacos v0.3å å¥äºæ§å¶å°çåè½ï¼æ§å¶å°åä¸ºä¸¤ä¸ªåå®¹ï¼å¹¶ä¼èåå¨ä¸èµ·ï¼</p><ol><li>æå¡åç°æ¨¡åï¼åæ¬æå¡ä¸ä¸çº¿ç®¡çãæå¡æéãæå¡ææ ãæå¡å¥åº·ä¿¡æ¯åæå¡åä¿¡æ¯çå±ç°;</li><li>éç½®æ¨¡åï¼æä¾éç½®åè¡¨ãçå¬æ¥è¯¢ãæ¨éè½¨è¿¹ç­åè½ã</li></ol><p><img loading="lazy" src="https://cdn.nlark.com/lark/0/2018/png/11189/1537795211701-dc18d18c-99a6-40e0-824f-6519d8f8b434.png" alt="undefined" class="img_ev3q"> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-nacos-ç¤¾åºä»ç»åæåè®¡å">4. Nacos ç¤¾åºä»ç»åæåè®¡å<a href="#4-nacos-ç¤¾åºä»ç»åæåè®¡å" class="hash-link" aria-label="Direct link to 4. Nacos ç¤¾åºä»ç»åæåè®¡å" title="Direct link to 4. Nacos ç¤¾åºä»ç»åæåè®¡å">â</a></h2><p>Nacoså¼ºè°ç¤¾åºåçåå±ä¸ç¤¾åºçå¤æ ·æ§ï¼éåPMCåCommitteræºå¶æ¥ç®¡çç¤¾åºï¼é¼å±ç­æãæ³¨éç»èãç§¯æåä¸ç¤¾åºæ´»å¨ãå¯¹é¡¹ç®æå´è¶£çå¼åèåä¸å°å¼æºé¡¹ç®ä¸­æ¥ï¼å¸æå¨ç¬¬ä¸å¹´å°±å¸æ¶è³å°è¶è¿5åæ¥èªå¶å®å¬å¸çPMCï¼è³å°10åçå¤é¨Committerï¼ä¾æäºç¤¾åºå°äº§ååå¾æ´å¥½ï¼å¹¶è®¡åå¨19å¹´å¹´ååCNCFåºéä¼æapacheåºéä¼æ²éæèµ éå®ï¼ç¤¾åºè´¡ç®èä¼éä¹è¿å¥åºéä¼ä½ç³»ã</p><p>ç»å¤é³ï¼æä»¬åå¤äº40ä¸ªNacosééççºªå¿µåï¼ç¨äºå¥å±åä¸âNacosæå¥æ´»å¨âçå¼åèã
æ´»å¨é¾æ¥ï¼
<a href="https://nacos.io/zh-cn/docs/activity.html" target="_blank" rel="noopener noreferrer">https://nacos.io/zh-cn/docs/activity.html</a></p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Consulä¸kubernetesæ´åå¬å[ç¿»è¯]"><meta itemprop="keywords" content="Consul,kubernetes"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/consul-k8s">Consulä¸kubernetesæ´åå¬å[ç¿»è¯]</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-09-02T00:00:00.000Z" itemprop="datePublished">September 2, 2018</time> Â· <!-- -->8 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¯¼è¯»">å¯¼è¯»<a href="#å¯¼è¯»" class="hash-link" aria-label="Direct link to å¯¼è¯»" title="Direct link to å¯¼è¯»">â</a></h2><blockquote><p>Consulæ¯ç®åä¸çæ¯è¾ç«çæå¡åç°ä¸éç½®äº§åï¼å®çåå°æå¡åç°åéç½®ç®¡çç­åå¸å¼æå¡å½ä¸­ä½¿ç¨å°çåºç¡æå¡è¿è¡æ´åï¼å¯¹å¤æä¾åå¸å¼åé«å¯ç¨çæå¡ãConsulç®åæå¼æºçæ¬ååä¸åçæ¬åæ¶æ¼è¿ï¼è¿ä¹æ¯å½åå¯ä»¥åé´çä¸ç§å¼æºç­ç¥ãåæ¶ï¼Consulå¯¹äºæ°ææ¯è¶å¿çè·è¿åæ´åï¼ä¹æ¯å¼å¾æä»¬å­¦ä¹ ååèçã</p><p>æ¬æç¿»è¯äºConsulå¯¹äºKubernetesçæ´åæåå¸çå¬åæç« ï¼<a href="https://www.hashicorp.com/blog/consul-plus-kubernetes" target="_blank" rel="noopener noreferrer">åæå°å</a>ï¼ãConsuléè¿æ¯æService Meshï¼å¹¶æä¾å¯¹Kubernetesçæ ç¼æ¯æï¼ä¸ç®åæåç¤¾åºç­æ§çäº§åè¿è¡ç»å®ï¼å¹¶éè¿åè½é¢åçå½¢å¼ï¼æ¥è¾¾å°å¯¹äº§åå®£ä¼ ææçæå¤§åã</p><p>ä¸Consuläº§åå¯¹åºçï¼é¿éå·´å·´å¨è¿æå¼æºäºå¶æå¡åç°ä¸éç½®ç®¡çäº§å<a href="https://nacos.io" target="_blank" rel="noopener noreferrer">Nacos</a>ãNacosæ¯é¿éå·´å·´éå¢åé¨VIPServerãConfigServeråDiamondä¸ä¸ªæ¯æååä¸çéè¦ä¸­é´ä»¶äº§åæ´åèæ¥ãNacosä¸»è¦å³æ³¨äº§åçæè´æç¨ä»¥åä¸äºåççæ·±åº¦æ´åï¼ä¸»è¦æ¯ææå¡åç°ãéç½®ç®¡çç­åè½ãå¾å¿«ï¼Nacosä¹ä¼ä¸Service Meshè¿è¡æ´åï¼åæ¶å¨éå¢åé¨åå¼æºè¿è¡åå¸ï¼å©ç¨é¿éå·´å·´ä¸°å¯çåºæ¯åå¼æºç¤¾åºçåéï¼å°Nacosæé æäºåççæä¸­ä¸å¯æç¼ºçåºç¡äº§åã</p></blockquote><p>æä»¬å¾é«å´å°å®£å¸HashiCorp Consulä¸Kubernetesæ·±åº¦æ´åçå¤é¡¹åè½ã è¿ç¯æç« å°åäº«å°å¨æªæ¥å å¨ååå¸çä¸ç³»ååæ­¥åè½ã</p><p>è¿äºåè½åæ¬ç¨äºå¨Kubernetesä¸å®è£Consulçå®æ¹Helm Chartï¼ä¸Consulèªå¨åæ­¥Kubernetesæå¡ï¼åä¹äº¦ç¶ï¼ï¼å¤é¨Consul Agentèªå¨å å¥Kubernetesä¸­çéç¾¤ï¼ç¨äºConnectèªå¨ä¿æ¤podçæ³¨å¥å¨ï¼ä»¥åå¯¹Envoyçæ¯æã</p><p>é¤äºä¸Kubernetesæ¬å°éæä¹å¤ï¼è¿äºåè½è¿æå©äºè§£å³å¤ä¸ªKuberneteséç¾¤ä¹é´ä»¥åKubernetesæå¡ä¸éKubernetesæå¡äº¤äºå¤é¡¹éè¦è·¨éç¾¤ææã æä»¬å¾é«å´ä¸æ¨åäº«è¿é¡¹å·¥ä½ã</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="åè½ç¹">åè½ç¹<a href="#åè½ç¹" class="hash-link" aria-label="Direct link to åè½ç¹" title="Direct link to åè½ç¹">â</a></h2><p>ä»¥ä¸æ¯å°å¨æªæ¥å å¨åå¬å¸ååå¸çåè½åè¡¨ãåç»­å¬ååå®¢å°è¯¦ç»ä»ç»æ¯ä¸ªé¡¹ç®ï¼æ¯ä¸ªé¡¹ç®é½å°é¾æ¥å°è¯¥å¬åå¸å­ã</p><ul><li><strong>Helm Chart</strong>ãç¨äºå¨Kubernetesä¸å®è£ï¼éç½®ååçº§Consulçå®æ¹Helm Chartãæ­¤Helm Chartè¿å°æ¯æKubernetesçå¶ä»åè½çèªå¨å®è£åéç½®ï¼ä¾å¦ç®å½åæ­¥ã</li><li><strong>Kubernetesèªå¨å å¥</strong>ãConsulçäºèªå¨å å¥åè½å°æ´æ°ï¼ä»¥æ¯æåç°åå å¥åºäºKubernetesçAgentä»£çãè¿å°ä½¿å¤é¨Consul Agentå å¥å¨Kubernetesä¸­è¿è¡çConsuléç¾¤ã</li><li><strong>æå¡ç®å½åæ­¥ï¼ä»K8Så°Consul</strong>ãéå½çKubernetesæå¡å°èªå¨åæ­¥å°Consulç®å½ï¼ä½¿éKubernetesæå¡è½å¤åç°å¹¶è¿æ¥å°Kubernetesä¸­è¿è¡çæå¡ã</li><li><strong>æå¡ç®å½åæ­¥ï¼ä»Consulå°K8S</strong>ãConsulæå¡å°åæ­¥å°Kubernetesæå¡ï¼ä»¥ä¾¿åºç¨ç¨åºå¯ä»¥ä½¿ç¨Kubernetesæ¬å°æå¡åç°æ¥åç°åè¿æ¥å¨Kubernetesä¹å¤è¿è¡çæå¡ã</li><li><strong>Connectèªå¨æ³¨å¥</strong>ãé¨ç½²å¨Kubernetesä¸­çPodå¯ä»¥éç½®ä¸ºèªå¨ä½¿ç¨Connectéè¿TLSè¿è¡å®å¨éä¿¡ã</li><li>æ¯æ<strong>Envoy Proxy</strong>ãéç½®ä¸ºä½¿ç¨Connectèªå¨æ³¨å¥çPodå¯ä»¥ä½¿ç¨Envoy Proxyè¿è¡ç¬¬4å±éä¿¡ï¼éè¿Connectè¿è¡ä¿æ¤ã Envoyä¹å°ç¨äºéKubernetesçConnecté¨ç½²ã</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸kubernetesæ´å">ä¸Kubernetesæ´å<a href="#ä¸kubernetesæ´å" class="hash-link" aria-label="Direct link to ä¸Kubernetesæ´å" title="Direct link to ä¸Kubernetesæ´å">â</a></h2><p>æä»¬ç®åæ­£å¨ä¸Kuberneteså¨å¤ä¸ªäº§åä¸è¿è¡å¯åæ´åãéè¿ä½¿æä»¬çäº§åæ´æäºè¿è¡ä»¥åéæåå¢å¼ºKubernetesåè½ï¼æä»¬çå°äºè§£å³çº¯Kubernetesç¨æ·ææçæºä¼ã</p><p>è¿ç§éæçæ ¸å¿ååæ¯å¢å¼ºç°æåè½èä¸æ¯æ¿æ¢ãæå¡ãConfigMapsåSecretsç­åè½æ¯Kubernetesæ ¸å¿å·¥ä½æµç¨çä¸é¨åãæ´é«çº§å«çå·¥å·åæ©å±å©ç¨è¿äºæ ¸å¿åè¯­ãå æ­¤ï¼æä»¬ä¹å¨æ´ååå¢å¼ºè¿äºæ ¸å¿åè¯­ãä¾å¦ï¼Consulç®å½åæ­¥å°Consulç®å½ä¸­çå¤é¨æå¡è½¬æ¢ä¸ºä¸çº§çKubernetesæå¡èµæºãç¶åï¼å¨Kubernetesä¸­è¿è¡çåºç¨ç¨åºå¯ä»¥åç°å¹¶è¿æ¥å°éKubernetesæå¡ã</p><p>é¤äºä½¿æä»¬çäº§åå¨Kubernetesä¸­æ´æç¨åæ´èªç¶ä¹å¤ï¼è¿äºéæè¿åè®¸ç¨æ·å¨ä¸éKuberneteså·¥ä½è´è½½å±äº«çç¯å¢ä¸­æ´å¥½å°å·¥ä½ã è½ç¶æ°ç¨æ·å¾å®¹æå¨çº¯Kubernetesç¯å¢ä¸­å¯å¨ï¼ä½å¤§å¤æ°é¨ç½²å¿é¡»ä¸å¨äºè®¡ç®ç¯å¢ä¸­è¿è¡çå¤é¨æå¡ï¼æ¬å°æ°æ®ä¸­å¿ç­è¿è¡äº¤äºã åConsulè¿æ ·çHashiCorpäº§åä¸ä¸ºè¿äºå¼æç¯å¢èè®¾è®¡ã éè¿å®ç°æ´èªç¶çKubernetesä½éªï¼éKubernetesåºç¨ç¨åºä¸Kubernetesåºç¨ç¨åºäº¤äºåå¾åæ ·èªç¶ã</p><h1>ä¸ä¸æ­¥</h1><p>æä»¬å¾é«å´å°å®£å¸ç¬¬ä¸æ¹HashiCorp ConsulåKubernetesçåè½ã è¿äºåè½ä½¿å¾å¨Kubernetesä¸è¿è¡Consulï¼ä¸éKubernetesæå¡è¿è¡äº¤äºï¼å¨Kubernetesåå¤è¿è¡å®å¨éä¿¡ç­ç­æ´å å®¹æã è¿äºåè½ä¸­çæ¯ä¸é¡¹é½å°å¨æªæ¥å å¨åå¨é¢å¬å¸ååå¸ï¼ä»ä¸å¨çHelm Chartå¼å§ã</p><p>TerraformåVaultä¹ä¸Kubernetesç´§å¯éæã Terraform Kubernetesæä¾åç°å¨æ¥æä¸åä¸èå·¥ç¨å¸ï¼å¹¶ä¸å¨æªæ¥å ä¸ªæååºè¯¥ä¼è¿éæ¹è¿ã Vaultæ­£å¨å¼åæ°çéæï¼ä¹å°å¾å¿«å¬å¸ã</p><p>å¦ææ¨å¯¹Kubernetesï¼æä»¬çå·¥å·ä»¥åæ¹è¿è¿äºéææå´è¶£ï¼è¯·å å¥æä»¬ï¼ æä»¬æä¸äºéå¯¹Kuberneteséæççæç³»ç»å·¥ç¨å¸å²ä½éæ±ã</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="å¾®æå¡æ¶æä¸­åºäºDNSçæå¡æ³¨åä¸åç°"><meta itemprop="keywords" content="å¾®æå¡,DNS"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/dns-sd">å¾®æå¡æ¶æä¸­åºäºDNSçæå¡æ³¨åä¸åç°</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-06-02T00:00:00.000Z" itemprop="datePublished">June 2, 2018</time> Â· <!-- -->11 min read</div></header><div class="markdown" itemprop="articleBody"><p>å½åï¼å¾®æå¡æ¶æå·²ç»æä¸ºä¼ä¸å°¤å¶æ¯äºèç½ä¼ä¸ææ¯éåçä¸ä¸ªéè¦åèãå¾®æå¡æ¶æä¸­æ¶åå°å¾å¤æ¨¡åï¼æ¬æå°éç¹ä»ç»å¾®æå¡æ¶æçæå¡æ³¨åä¸åç°ä»¥åå¦ä½åºäºDNSåæå¡åç°ãæåï¼ç®åä»ç»ä¸é¿éå·´å·´åé¨æ¯å¦ä½åºäºDNSåæå¡åç°çã</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æå¡æ³¨åä¸åç°">æå¡æ³¨åä¸åç°<a href="#æå¡æ³¨åä¸åç°" class="hash-link" aria-label="Direct link to æå¡æ³¨åä¸åç°" title="Direct link to æå¡æ³¨åä¸åç°">â</a></h2><p>å¾®æå¡ä½ç³»ä¸­ï¼æå¡æ³¨åä¸æå¡åç°æ¯ä¸¤ä¸ªææ ¸å¿çæ¨¡åãæå¡Aè°ç¨æå¡Bæ¶ï¼éè¦éè¿æå¡åç°æ¨¡åæ¾å°æå¡BçIPåç«¯å£åè¡¨ï¼èæå¡Bçå®ä¾å¨å¯å¨æ¶éè¦ææä¾æå¡çIPåç«¯å£æ³¨åå°æå¡æ³¨åä¸­å¿ãä¸ä¸ªå¸åçç»æå¦ä¸å¾ï¼</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/7601/1525185623334-8fbf69bb-00df-4202-a951-c1ee9caace88.png" alt="image.png | left | 733x470" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æå¡æ³¨å">æå¡æ³¨å<a href="#æå¡æ³¨å" class="hash-link" aria-label="Direct link to æå¡æ³¨å" title="Direct link to æå¡æ³¨å">â</a></h3><p>ç®åï¼æµè¡çæ³¨åä¸­å¿æ¯è¾å¤ï¼å¸¸è§çæzookeeperãectdãconsulãeurekaç­ãæå¡æ³¨åéå¸¸æä¸ç§ï¼èªæ³¨åãç¬¬ä¸æ¹æ³¨åãæ³¨åä¸­å¿ä¸»å¨åæ­¥ã</p><ul><li>èªæ³¨å
èªæ³¨åï¼é¡¾åæä¹ï¼å°±æ¯æå¡æä¾æ¹å¨å¯å¨æå¡æ¶èªå·±ææä¾æå¡çIPåç«¯å£åéå°æ³¨åä¸­å¿ï¼å¹¶éè¿å¿è·³æ¹å¼ç»´æå¥åº·ç¶æï¼æå¡ä¸çº¿æ¶ï¼èªå·±æç¸åºçæ°æ®å é¤ãå¸åçåä½¿ç¨eurekaå®¢æ·ç«¯åå¸å¾®æå¡ã</li><li>ç¬¬ä¸æ¹æ³¨å
ç¬¬ä¸æ¹æ³¨åæ¯æï¼å­å¨ä¸ä¸ªç¬¬ä¸æ¹çç³»ç»è´è´£å¨æå¡å¯å¨æåæ­¢æ¶åæ³¨åä¸­å¿å¢å æå é¤æå¡æ°æ®ãå¸åçç¨æ³æ¯devopsç³»ç»æå®¹å¨è°åº¦ç³»ç»ä¸»å¨è°æ³¨åä¸­å¿æ¥å£æ³¨åæå¡ï¼</li><li>æ³¨åä¸­å¿ä¸»å¨åæ­¥
ä¸ç¬¬ä¸æ¹æ³¨åæ¹å¼ç±»ä¼¼ï¼ä¸»å¨æ³¨åæ¹å¼æ¯ææ³¨åä¸­å¿åè°åº¦æåå¸ç³»ç»æéï¼ä¸»å¨åæ­¥ææ°çæå¡IPåè¡¨ï¼ä¸ä¸ªä¾å­æ¯kubernetesä½ç³»ä¸­ï¼corednsè®¢éapi serveræ°æ®ã</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æå¡åç°">æå¡åç°<a href="#æå¡åç°" class="hash-link" aria-label="Direct link to æå¡åç°" title="Direct link to æå¡åç°">â</a></h3><p>å¨çæ­£åèµ·æå¡è°ç¨åï¼è°ç¨æ¹éè¦ä»æ³¨åä¸­å¿æ¿å°ç¸åºæå¡å¯ç¨çIPåç«¯å£åè¡¨ï¼å³æå¡åç°ãæå¡åç°ä»å¯¹åºç¨çä¾µå¥æ§ä¸å¯ä»¥åä¸ºä¸¤å¤§ç±»ï¼</p><ul><li>SDK-Based
è¿ç±»çæå¡åç°æ¹å¼ï¼éè¦è°ç¨æ¹ä¾èµç¸åºçSDKï¼æ¾å¼è°ç¨SDKä»£ç æå¯ä»¥å®ç°æå¡è°ç¨ï¼å³å¯¹ä¸å¡æä¾µå¥æ§ï¼å¸åä¾å­å¦eurekaãzookeeperç­ã</li><li>DNS-Based
DNSæ¬èº«æ¯ä¸ç§ååè§£æç³»ç»ï¼å¯ä»¥æ»¡è¶³ç®åçæå¡åç°åºæ¯ï¼å¦åæ¹çº¦å®å¥½ç«¯å£ãåºåååè®®ç­ç­ãä½æ¯ï¼è¿è¿è¿ä¸è½æ»¡è¶³çæ­£çå¾®æå¡åºæ¯éæ±ãè¿å å¹´ï¼åºäºdnsçæå¡åç°æ¸æ¸è¢«ä¸çæäºåºæ¥ãåé¢å°éç¹ä»ç»åºäºDNSçæå¡åç°åé¿éå·´å·´çå®è·µã</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="åºäºdnsçæå¡åç°">åºäºDNSçæå¡åç°<a href="#åºäºdnsçæå¡åç°" class="hash-link" aria-label="Direct link to åºäºDNSçæå¡åç°" title="Direct link to åºäºDNSçæå¡åç°">â</a></h2><p>DNSåè®®æ¯ç®åæä¸ºéç¨çåè®®ä¹ä¸ï¼å ä¹æææä½ç³»ç»é½ä¼æDNSå®¢æ·ç«¯å®ç°ãæä»¥ï¼å¶å¤©ç¶å·æè·¨è¯­è¨ç¹æ§ãè¿ä¹æ¯å¿«éæ¥å¥å¾®æå¡ä½ç³»æå¿«çä¸ä¸ªæ¹å¼ãè¦åºäºDNSåæå¡åç°ï¼é¦åæ³¨åä¸­å¿çæ°æ®åºè¯¥å¯ä»¥ä»¥DNSçæ°æ®æ ¼å¼æ´é²åºæ¥ãè®©ä»»ä½ç³»ç»çDNS å®¢æ·ç«¯é½å¯ä»¥éè¿DNSåè®®è·åæå¡åè¡¨ã</p><p>åºäºDNSçæå¡åç°æ¹å¼ï¼å¤§è´å¯ä»¥å½ç»ä¸¤ç±»ï¼</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç¬ç«dnsæå¡å¨">ç¬ç«DNSæå¡å¨<a href="#ç¬ç«dnsæå¡å¨" class="hash-link" aria-label="Direct link to ç¬ç«DNSæå¡å¨" title="Direct link to ç¬ç«DNSæå¡å¨">â</a></h3><p>ç¬ç«DNS Serveræ¨¡å¼çåºæ¬æ¶æå¦ä¸å¾ï¼</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/7601/1525185653048-094f815d-47af-409e-ac21-6662e20e76f4.png" alt="image.png | left | 747x469" class="img_ev3q"></p><p>å¦ä¸å¾æç¤ºï¼è¿ç§æ¶æä¸­ï¼éè¦ç¬ç«çDNSæå¡å¨ãDNSæå¡å¨ä»æ³¨åä¸­å¿è·åææå·²æ³¨åçæå¡åå¯¹åºçIPç«¯å£åè¡¨ãè°ç¨æ¹Service A éè¿DNSæ¥è¯¢æä¸ªæå¡ä¸çIPåè¡¨ï¼ç¶ååèµ·è°ç¨ã</p><p>è¿ç§ç±»åçæå¡åç°æ¹å¼ä¼ç¼ºç¹åå«å¦ä¸ï¼</p><ul><li>ä¼ç¹<ul><li>éä¸­çDNSæå¡å¨ï¼ä¾¿äºåçº§ç»´æ¤</li></ul></li><li>ç¼ºç¹<ul><li>å¯¹DNSæå¡å¨æ§è½è¦æ±é«</li><li>è¿ç§æåµä¸ä¸è¬éè¦LVSè®¾å¤ä¸ºDNSæå¡å¨éç¾¤åè¯·æ±è½¬åï¼å­å¨åç¹é®é¢</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dns-filter">DNS Filter<a href="#dns-filter" class="hash-link" aria-label="Direct link to DNS Filter" title="Direct link to DNS Filter">â</a></h3><p>DNS Filteræ¨¡å¼æä»¬å®ä¹ä¸ºæDNSæå¡å¨éæå°æå¡è°ç¨æ¹æºå¨æå®¹å¨éï¼å¦ä¸å¾æç¤ºï¼</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/7601/1525185676597-acaebac3-2b65-48a3-bdbf-7d27af7f1038.png" alt="image.png | left | 747x469" class="img_ev3q"></p><p>è¿ç§æ¨¡å¼ä¸­ï¼é¦åè¦ä¿è¯ServiceAçDNSæ¥è¯¢é½è¢«æ¦æªå°æ¬æºçDNSæå¡å¨ä¸ï¼127.0.0.1:53ï¼ï¼å¨è·åå°æå¡çIPåè¡¨ååèµ·è°ç¨ãç±äºè¿ç§æ¹å¼æDNSæå¡å¨åç½®å°å®éè°ç¨çæºå¨ä¸ï¼æä»¥å®è§£å³äºç¬ç«DNSæå¡å¨æ¨¡å¼çåç¹é®é¢ï¼å®å¨P2Pçæ¨¡å¼ãä½ç±äºéè¦å¨åºç¨æºå¨ä¸å®è£DNSæå¡å¨ï¼å¶ç»´æ¤ååçº§ææ¬è¾åèé«ä¸äºã</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é¿éåºäºdnsçæå¡åç°å®è·µ">é¿éåºäºDNSçæå¡åç°å®è·µ<a href="#é¿éåºäºdnsçæå¡åç°å®è·µ" class="hash-link" aria-label="Direct link to é¿éåºäºDNSçæå¡åç°å®è·µ" title="Direct link to é¿éåºäºDNSçæå¡åç°å®è·µ">â</a></h3><p>é¿éå·´å·´æ©å¨2014å¹´å°±å¼å§äºåºäºDNSåæå¡åç°çå°è¯äºï¼ç°å¨å·²ç»å½¢æäºè¾ä¸ºæççæ¨¡å¼ãé¿éåé¨ä»¥VIPServerä½ä¸ºæ³¨åä¸­å¿ï¼å¹¶å¼åäºDNS Filterï¼é¨ç½²å¨åºç¨å®¹å¨åãç®åå·²ç»æè¶è¿20wä¸ªæºå¨æå®¹å¨ä¸å®è£äºDNS Filterï¼æ¯æäºå ä¹ææRESTæå¡åç°ã</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ³¨åä¸­å¿-vipserver">æ³¨åä¸­å¿ VIPServer<a href="#æ³¨åä¸­å¿-vipserver" class="hash-link" aria-label="Direct link to æ³¨åä¸­å¿ VIPServer" title="Direct link to æ³¨åä¸­å¿ VIPServer">â</a></h4><p>VIPServeræ¯é¿éä¸­é´ä»¶è½¯è´è½½å¢éèªç çæå¡æ³¨åä¸­å¿ï¼æç§ç¬¬ä¸ç« çåç±»ï¼VIPServeråæ¶æ¯æä¸ç§æ¨¡å¼çæå¡æ³¨åï¼å¹¶ä¸åæç¸å½è§æ¨¡çåºç¨ãé¤æ­¤ä¹å¤ï¼VIPServerå·å¤å¦ä¸ç¹æ§ï¼</p><ul><li>ä¸»å¨ä¸è¢«å¨å¥åº·æ£æ¥
VIPServeråæ¶æ¯æä¸»å¨ä¸è¢«å¨å¥åº·æ£æ¥ãä¸»å¨å¥åº·æ£æ¥æ¯æVIPserveræå¡ç«¯ä¸»å¨å®æåéå¥åº·æ£æ¥æ¢æµåï¼æ¢æµæå¡æä¾æ¹æ¯å¦å¯ä»¥æ­£å¸¸æä¾æå¡ãç¨æ·å¯ä»¥éç½®å¤ç§å¥åº·æ£æ¥æ¹å¼ï¼èªå®ä¹æ¢æµç«¯å£åæ¢æµURLï¼HTTPï¼ãä¸»å¨æ¢æµçå¥½å¤å¨äºæå¡æä¾æ¹ä¸ç¨åä»»ä½æ¹å¨å³å¯å¿«èå¥å¾®æå¡æ¶æãè¢«å¨å¥åº·æ£æ¥åæ¯ææå¡æä¾æ¹ä¸»å¨æ³¨åèªå·±çIPãç«¯å£åæå¡åç­ä¿¡æ¯ï¼å¹¶éè¿å¿è·³æ¹å¼ä¿ææ´»æ§ã</li><li>å¤ç§è´è½½åè¡¡ç­ç¥
åæ¶ï¼VIPServeræ¯æå¤ç§è´è½½åè¡¡ç­ç¥ï¼åæ¬æéãåæºæ¿ãåå°åãåç¯å¢ç­ç­ï¼æ¯é¿éå¼å°å¤æ´»é¡¹ç®çæ ¸å¿ç³»ç»ä¹ä¸ãåé¢ä¼æä¸é¨çæç« ä»ç»å¦ä½åºäºVIPServerå®ç°å¼å°å¤æ´»ï¼è¿éä¸åèµè¿°ã</li><li>å¤éå®¹ç¾ä¿æ¤ç­ç¥
VIPServeræä¾äºå¤ç§å®¹ç¾ä¿æ¤ç­ç¥ï¼å¯ä»¥ææåå°äººä¸ºæèåºå±ç³»ç»ï¼ç½ç»ç­ï¼å¼å¸¸å¸¦æ¥çå½±åãè¿äºå®¹ç¾ä¿æ¤åæ¬ï¼<ul><li>å®¢æ·ç«¯ç¼å­ï¼å³ä½¿VIPServeræå¡ç«¯ææä¹ä¸å½±ååºç¨çæ­£å¸¸è°ç¨ï¼</li><li>æå¡ç«¯ä¿æ¤éå¼ï¼ææé²æ­¢åºç¨å ååè¿å¤§èåçéªå´©ï¼</li><li>å®¢æ·ç«¯å®¹ç¾ç®å½ï¼æä¾äººå·¥å¹²é¢æå¡IPåè¡¨çè½åï¼</li><li>å®¢æ·ç«¯ç©ºåè¡¨ä¿æ¤ï¼ææé²æ­¢äººä¸ºè¯¯å IPåè¡¨æä½æVIPServeræå¡ç«¯å¼å¸¸</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dns-få®¢æ·ç«¯">DNS-Få®¢æ·ç«¯<a href="#dns-få®¢æ·ç«¯" class="hash-link" aria-label="Direct link to DNS-Få®¢æ·ç«¯" title="Direct link to DNS-Få®¢æ·ç«¯">â</a></h4><p>åºäºæ§è½çèèï¼æä»¬éç¨äºç¬¬äºç§DNS Filterçæå¡åç°æ¨¡å¼ãä¸ºæ­¤ï¼æä»¬åç¬å¼åäºDNS-Få®¢æ·ç«¯ï¼DNS-Få®¢æ·ç«¯è·åºç¨é¨ç½²å¨åä¸ä¸ªä¸»æºæå®¹å¨åãå¶å·¥ä½åçå¦ä¸å¾æç¤ºï¼</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/7601/1525185700084-16f2c073-0c2b-49c0-b85b-ce2ca1163326.png" alt="image.png | left | 716x392" class="img_ev3q"></p><ul><li>é¦åï¼åºç¨ServiceAéè¿DNSæ¥è¯¢è·åå°ServiceBçå¯ç¨IPåè¡¨</li><li>DNS-Fä¼æ¦æªå°ServiceAçæ¥è¯¢è¯·æ±ï¼å¤æ­èªå·±æ¯å¦è¯¥æ¥è¯¢çç­æ¡ï¼å¦ææï¼æå¡å·²å¨VIPServerä¸­æ³¨åï¼åç´æ¥è¿åIPåè¡¨ï¼</li><li>å¦ææ¥è¯¢çæå¡å¨VIPServerä¸­æ²¡ææ³¨åï¼DNS-FæDNSæ¥è¯¢è½¬åç»ç³»ç»çnameserverï¼ç±çæ­£çDNSç³»ç»è§£æï¼</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ»ç»">æ»ç»<a href="#æ»ç»" class="hash-link" aria-label="Direct link to æ»ç»" title="Direct link to æ»ç»">â</a></h2><p>æ¬æä»ç»äºå¾®æå¡æ¶æä¸­å¦ä½åºäºDNSåæå¡åç°ãé¦åï¼ä»ç»äºæå¡æ³æ³¨åä¸åç°çæ¦å¿µãæå¡æ³¨åä¸åç°çå ç§æ¹å¼åå¶ä¼ç¼ºç¹ï¼ç¶åï¼ä»ç»åºäºDNSçæå¡åç°çä¸¤ç§æ¹å¼åå¶ä¼ç¼ºç¹ï¼æåï¼ä»ç»äºé¿éå·´å·´åºäºDNSåæå¡åç°çå®è·µï¼ä¸»è¦æ¯åºäºèªç çè½¯è´è½½ç³»ç»VIPServerãåºäºDNSçæå¡åç°è¦è§£å³çé®é¢è¿ä¸æ­¢æ¬ææè¿°çè¿äºï¼æ¬è¯·æå¾åç»­ç³»åæç« ï¼ï¼ã</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="æ¯æDubboçæåå±ï¼é¿éå·´å·´å¯å¨æ°çå¼æºé¡¹ç® Nacos"><meta itemprop="keywords" content="nacos,alibaba,dubbo"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/nacos-is-coming">æ¯æDubboçæåå±ï¼é¿éå·´å·´å¯å¨æ°çå¼æºé¡¹ç® Nacos</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-06-01T00:00:00.000Z" itemprop="datePublished">June 1, 2018</time> Â· <!-- -->18 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è´¡ç®dubboçæé¿énacoså¼æºè®¡å">è´¡ç®Dubboçæï¼é¿éNacoså¼æºè®¡å<a href="#è´¡ç®dubboçæé¿énacoså¼æºè®¡å" class="hash-link" aria-label="Direct link to è´¡ç®Dubboçæï¼é¿éNacoså¼æºè®¡å" title="Direct link to è´¡ç®Dubboçæï¼é¿éNacoså¼æºè®¡å">â</a></h2><p>å¨ä¸å¨å­çAliwareææ¯è¡ä¸æµ·ç«Dubboå¼åèæ²é¾ä¸ï¼é¿éå·´å·´é«çº§ææ¯ä¸å®¶é­å¹³(å¤å®)å®£å¸äºé¿éå·´å·´çä¸ä¸ªæ°å¼æºè®¡åï¼é¿éå·´å·´è®¡åå¨7æä»½å¼å¯ä¸ä¸ªåå«Nacosçæ°å¼æºé¡¹ç®, å¨æ´»å¨æ¼è®²ä¸­ï¼å¤å®ä»ç»äºè¿ä¸ªå¼æºé¡¹ç®çåè¡·ï¼ä»è¡¨ç¤º âå°éè¿Nacosé¡¹ç®å°é¿éå·´å·´å¨å»ºè®¾å±äº«æå¡ä½ç³»ä¸­ä½¿ç¨çæå¡åç°ãéç½®åæå¡ç®¡çå¹³å°è´¡ç®ç»å¼æºç¤¾åºï¼éè¿æé Dubbo + Nacosçç»å¸ç»åè¿ä¸æ­¥éæ¾Dubboå¨äºåçåService Meshæ¶ä»£ä¸­ï¼å¨å¤§è§æ¨¡å¾®æå¡æ²»çãæµéæ²»çãæå¡éæä¸æå¡å±äº«ç­æå¡å¹³å°è½åå»ºè®¾ä¸çå¨åï¼åæ¶Nacosä¼éå¸¸å³æ³¨å¯¹ä¸»æµå¼æºç¤¾åºï¼å¦Spring CloudåKubernetesäºåçä½ç³»çæ ç¼å¯¹æ¥ä¸æ¯æâãè¯¥é¡¹ç®é¢è®¡å¨7æä¸­æ¬ä¹åå¼æ¾é¦ä¸ªæµè¯é¢è§çæ¬ï¼å¹¶è®¡åå¨æªæ¥6~8ä¸ªæreleaseç0.8çæ¬å¼å§è¾¾å°çäº§å¯ç¨çç¶æã</p><p>æ´»å¨ç <a href="http://www.itdks.com/dakashuo/playback/2307" target="_blank" rel="noopener noreferrer">è§é¢åæ¾</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»ä¹æ¯-nacos-nÉkÉÊs">ä»ä¹æ¯ Nacos /nÉ:kÉÊs/?<a href="#ä»ä¹æ¯-nacos-nÉkÉÊs" class="hash-link" aria-label="Direct link to ä»ä¹æ¯ Nacos /nÉ:kÉÊs/?" title="Direct link to ä»ä¹æ¯ Nacos /nÉ:kÉÊs/?">â</a></h2><p>Nacos æ¯é¿éå·´å·´çæ°å¼æºé¡¹ç®ï¼å¶æ ¸å¿å®ä½æ¯ âä¸ä¸ªæ´æäºå¸®å©æå»ºäºåçåºç¨çå¨ææå¡åç°ãéç½®åæå¡ç®¡çå¹³å°âã</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530083408486-b4698533-8e69-4e0a-9f3a-fdb1cdfbd290.png" alt="Screen Shot 2018-06-27 at 15.09.35.png" class="img_ev3q"> </p><p>Nacos æä¸å¤§ä¸»è¦åè½:</p><ul><li>æå¡åç°ä¸æå¡ç®¡ç</li></ul><p>å¨éç¨ä»¥âæå¡(Service)âä¸ºä¸­å¿çè¯¸å¦å¾®æå¡åäºåçæ¹å¼çç°ä»£åºç¨æ¶ææ¶ï¼å¨ææå¡åç°è³å³éè¦ã Nacosåæ¶æ¯æåºäºDNSååºäºRPCï¼å¦Dubbo/gRPCï¼çæå¡åç°ï¼å¹¶ä¸ºæ¨æä¾æå¡çå®æ¶çå¥åº·æ£æ¥ä»¥é²æ­¢å°è¯·æ±åéç»ä¸å¥åº·çä¸»æºï¼åºäºNacosæ¨ä¹å¯ä»¥æ´æ¹ä¾¿çå®ç°æå¡æ­è·¯å¨ãNacosæä¾çå¼ºå¤§çæå¡çåæ°æ®ç®¡çï¼è·¯ç±åæµéç®¡çç­ç¥ä¹è½å¤å¸®å©æ¨æ´å¥½çæå»ºæ´å¼ºå£®çå¾®æå¡å¹³å°ã</p><ul><li>å¨æéç½®ç®¡ç</li></ul><p>å¨æéç½®æå¡åè®¸æ¨å¨ææç¯å¢ä¸­ä»¥éä¸­åå¨æçæ¹å¼ç®¡çææåºç¨ç¨åºææå¡çéç½®ãå¨æéç½®æ¶é¤äºéç½®æ´æ°æ¶éæ°é¨ç½²åºç¨ç¨åºåæå¡çéè¦ãå¯ä»¥æ´æ¹ä¾¿çå¸®å©æ¨å®ç°æ ç¶ææå¡ï¼æ´è½»æ¾å°å®ç°æéå¼¹æ§æ©å±æå¡å®ä¾ã</p><ul><li>å¨æDNSæå¡</li></ul><p>æ¯ææéè·¯ç±çå¨æDNSæå¡ä½¿æ¨å¯ä»¥æ´è½»æ¾å°å¨æ°æ®ä¸­å¿åççäº§ç¯å¢ä¸­å®æ½ä¸­é´å±è´è½½å¹³è¡¡ï¼çµæ´»çè·¯ç±ç­ç¥ï¼æµéæ§å¶åç®åçDNSè§£ææå¡ï¼å¸®å©æ¨æ´å®¹æçå®ç°DNS-basedæå¡åç°ã</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸ºä»ä¹å¼æº-nacos">ä¸ºä»ä¹å¼æº Nacos<a href="#ä¸ºä»ä¹å¼æº-nacos" class="hash-link" aria-label="Direct link to ä¸ºä»ä¹å¼æº Nacos" title="Direct link to ä¸ºä»ä¹å¼æº Nacos">â</a></h2><p>é¿éå·´å·´ä¸ºä»ä¹éæ©è¿ä¹ä¸ä¸ªæ¶é´ç¹å¼æºNacosï¼å¶èåçæèæ¯ä»ä¹ï¼å¤å®ä¹ç»åºäºè¯¦ç»çè§£è¯»ï¼å¨æ¼è®²ä¸­ï¼å¤å®è¡¨ç¤ºä¸»æåºäºä»¥ä¸å ç¹:</p><ul><li><strong>å´ç»çServiceä¸ºä¸­å¿çåå¸å¼åºç¡è®¾æ½æ­£å¨åçè¶æ¥è¶éè¦</strong></li></ul><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077340492-513a25c0-51d0-494f-b39d-6f615d7e3915.png" alt="Screen Shot 2018-06-27 at 13.28.09.png" class="img_ev3q"> </p><p>ä¸çæ­£å¨åçæ´å¿«ï¼åæ°åå¸åºç«äºçèå¥æ­£å¨åå¾æåå§çï¼å¦ä½è¶å¿«éå®ç°ä¸å¡å¢é¿æä¸ºåä¸ç«äºçä¸»æå¾ï¼å ä¹ä¸å¤ä¹é´å±äº«åè½¦å°±ç«éå¨å½ï¼ä¸å°å å¹´æ»´æ»´å°±æ¹åäºæä»¬çæè½¦æ¹å¼ï¼è¾è®¯ä¸ç­åå®ç°å¨æ°âåé¸¡âï¼ç°å¨ä¼ä¸ä¼°å¼å¨ä»0å°100äº¿æéçæ¶é´è¶æ¥è¶ç­ï¼èä¼ä¸çå¹³åå¯¿å½ä»æ æ®çæ°æ®æ¥çå´ä»ä¸ä¸çºª60å¹´ä»£ç60å¹´ä¸éå°äºä»å¤©ç15å¹´ï¼ä¸åé½è¡¨ç¤ºåæ°åç«äºçéåº¦åçåº¦å¨å å¼ºã</p><p>å¦ä¸æ¹é¢ææ¯åºç¡è®¾æ½çææ·åæææ§å¨åä¸æåçè¦ç´ ä¸å æ®çæ¯éè¶æ¥è¶å¤§ï¼äºè®¡ç®å¨èµæºåæå¡äº¤ä»æ¨¡å¼ä¸çåé©ï¼å¸¦æ¥äºæççé©å½æ§æåï¼å¸¦æ¥äºæ´ææ·çåºç¡è®¾æ½ï¼åä¸ä¸ç¨åä¹°æºå¨å¹¶æ¾æºæ¿æç®¡ï¼ä»ä»¥åçåå¹´åå¤å¨æå°ç°å¨å¨äºä¸çå°æ¶çº§åå»ºå¨å¥æå¡ï¼ï¼èå¨åºç¨æ¶æå±é¢ï¼å¾®æå¡æ¶ææ¨¡å¼å¸¦æ¥ççµæ´»æ§ãé§å²ï¼å¿«éç»ååèååå­æå¡ä»èåæ°ï¼ç»ä¸å¡å¿«éåæ°åè¯éæä¾äºæ¡ä»¶ï¼å·²ç»è¢«è¶æ¥è¶å¤çåºç¨å¹³å°è¯æå¶æææ§ï¼ææ¯åºç¡è®¾æ½çæ´ææ·ï¼ç»åä¸çææ·ååä¸çç«äºä¼å¿æä¾äºåºç¡ã</p><p>å¨ä»å¤©ï¼æ è®ºæ¯äºè®¡ç®ï¼å¾®æå¡è¿æ¯å´ç»Kubernetesä¸ºä¸­å¿çäºåçï¼é½å¨å¼ºè°ä»¥âæå¡âä¸ºåæ ¸çåºç¨æ¶ææ¨¡å¼ï¼å¦æè¯´15å¹´åæä»¬å¨è®¨è®ºâä¸åçæ¯å¯¹è±¡âæå»ºåä½ç³»ç»ï¼é£ä¹ä»å¤©æä»¬å°±æ¯å¨è°è®ºâä¸åçæ¯æå¡âï¼10å¹´åæ·å®æå¡åæ¹é é¡ºåºäºè¿ç§è¶å¿ï¼8å¹´åå¾®æå¡æ¶æææ³ä¹é¡ºåºäºè¿ä¸ªè¶å¿ï¼ä»å¤©é¢åâæå¡âçåç§åå¸å¼åºç¡è®¾æ½æ­£å¨åå¾è¶æ¥è¶éè¦ï¼ç«å¨é¿éå·´å·´10å¹´çæå¡ååå±ç»éªä¸çï¼å¨å¤§è§æ¨¡æå¡åç°åæå¡æ²»çåæå¡å±äº«é¢åç°æçå¼æºè§£å³æ¹æ¡æ¯ä¸æ¯é½å·²ç»éå¸¸å®ç¾äºå¢ï¼æ ¹æ®é¿éå·´å·´æå¡åèµ°è¿çè¿äºå¹´ççäº§ç»éªæ¥çï¼æä»¬è§å¾å¹¶æ²¡æã</p><ul><li><strong>é¿éå·´å·´å¨ &quot;å±äº«æå¡ä½ç³»&quot; å»ºè®¾ä¸çç»éªå¯ä»¥å¨åä¸ªè¡ä¸å¤§è§æ¨¡å¤ç¨</strong></li></ul><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077414293-3d22cd01-6e3c-49d1-82ea-ad2f8d443cf9.png" alt="Screen Shot 2018-06-27 at 13.29.52.png" class="img_ev3q"> </p><p>é¿éå·´å·´ä¸­å°çå¿µåä½ç³»ï¼ä¸äºåçå¨ç²¾ç¥çâéâä¸å®å¨å¥åï¼å³âåææ¯å¹³å°ï¼èåºç¨â æ¯æä¸å¡çå¿«éåæ°ä¸è¯éï¼ä»èèµ¢å¾å¸åºï¼ä¸­å°ä½ç³»å¡å¯¼åå¼ææ¶æï¼ç¥è¿âå¤§æ°æ®âä¸è°ï¼ä½çä¸å¡ä¸­å°ï¼å°±æ¯ä¸ä¸ªå¤§çä»¥âæå¡âä¸ºä¸­å¿çå±äº«æå¡å¹³å°ï¼å¨çº¿æå¡æ²æ·ä¸å¡æ°æ®ï¼åæ­¥å°å¤§æ°æ®å¹³å°è®¡ç®åææï¼å¤§æ°æ®å¹³å°åéè¿æ°æ®åé¦ï¼æå¯¼ä¸å¡åæå¡çåæ°ï¼æ¯æå¯æ²æ·åå¯å±äº«âæå¡âä½ç³»çæå¡æ³¨åä¸æå¡æ²»çå¹³å°æ¯è¿ä¸ªä½ç³»çå³é®è¦ç´ ä¹ä¸ã</p><ul><li><strong>âæå¡æ²»çï¼æå¡æ²æ·ãæå¡å±äº«åæå¡çå¯æç»­åå±âæ¯âå±äº«æå¡ä½ç³»âçæ ¸å¿ä»·å¼ä¸»å¼ </strong></li></ul><p>æ¯æåæ°ä»å°èé¿æåå¤©å¤§æ ï¼æå¡å¹³å°ä¸æ­æ¼è¿ï¼è¿ä¸åéè¦ä¸ä¸ªå¼ºå¤§çæå¡å¹³å°åæå¡åºç¡è®¾æ½çæ¯æã</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077444757-d36f344d-d3ae-4df0-808f-8500b4320e8d.png" alt="Screen Shot 2018-06-27 at 13.30.25.png" class="img_ev3q"> </p><ul><li><strong>é¿éå·´å·´å°éè¿Dubbo + Nacosä»¥åä¸ç³»åå¼æºé¡¹ç®æé æå¡åç°ãæå¡åæµéç®¡çãæå¡å±äº«å¹³å°</strong></li></ul><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077476468-4ce30dd9-0da7-414a-875d-acc151739c1d.png" alt="Screen Shot 2018-06-27 at 13.30.58.png" class="img_ev3q"> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-ä¸-ä¸»æµå¼æºçæçå³ç³»">Nacos ä¸ ä¸»æµå¼æºçæçå³ç³»<a href="#nacos-ä¸-ä¸»æµå¼æºçæçå³ç³»" class="hash-link" aria-label="Direct link to Nacos ä¸ ä¸»æµå¼æºçæçå³ç³»" title="Direct link to Nacos ä¸ ä¸»æµå¼æºçæçå³ç³»">â</a></h2><p>Nacos ä¸ä¼æ¯ä¸ªå°é­çä½ç³»ï¼é¤äºå¯¹äºé¿éå¼æºçæä½ç³»å¦Dubboç­èªèº«çæ¯æï¼ä¹éå¸¸å¼ºè°èå¥å¶å®çå¼æºçæï¼è¿éå°±åæ¬Javaçå¾®æå¡çæä½ç³»Spring Cloudï¼Kubernetes/CNCFäºåççæä½ç³»ï¼æ­£å¦Nacosçæªæ¥å¨æ¯å¾å±ç¤ºçé£æ ·</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077509217-d4fec359-8a41-4c51-a986-c44e06d16950.png" alt="Screen Shot 2018-06-27 at 13.31.30.png" class="img_ev3q"> </p><ul><li>Dubbo + Nacosï¼ ä¸ä¸ºDubboèççæ³¨åä¸­å¿ä¸éç½®ä¸­å¿</li></ul><p>å¨é¿éå·´å·´çäº§ç¯å¢ä¸ï¼DubboåNacoså¤©ç¶å°±æ¯é¿å¨ä¸èµ·çï¼å ä¸ºNacosçç¼ºå¤±ï¼ä¼ ç»çæ³¨åä¸­å¿è§£å³æ¹æ¡è®©Dubboå¨æå¡æ²»çãæµéæ²»çãæå¡è¿è¥åç®¡çç­æ¹é¢çå¨åè¢«éå¶ååå¼±äºï¼Nacosçå¼æºåå¼æ¾ä¼å¨éç¨Dubboçç¨æ·ç¯å¢ä¸­éæ¾è¿äºå¨å</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077613925-04d767fd-ec95-4fe2-8249-ce8650fbe372.png" alt="Screen Shot 2018-06-27 at 13.31.57.png" class="img_ev3q"> </p><ul><li>Nacos ä¼å®å¨å¼å®¹Spring Cloud</li></ul><p>Nacosä¼æ ç¼æ¯æSpring Cloudï¼ä¸ºSpring Cloudç¨æ·å¶æä¾æ´ç®ä¾¿çéç½®ä¸­å¿åæ³¨åä¸­å¿çè§£å³æ¹æ¡ï¼ä½¿ç¨Nacosä¸ç¨åä»ä»ä¸ºæå¡åéç½®å°±éè¦å¨çäº§ä¸holdä½ Eurekaï¼Spring Cloud Config Serverï¼Gitï¼RabbitMQ/Kafka èµ·ç åä¸ªå¼æºäº§åã</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077646935-7ca8a74d-59e5-4e01-865e-06fd5631e623.png" alt="Screen Shot 2018-06-27 at 13.33.40.png" class="img_ev3q"> </p><ul><li>Nacos æ¯æKubernetes DNS-based Service Discovery</li></ul><p>å¨æ¼è®²ä¸­å¤å®ä¹è¡¨ç¤ºï¼é¿éå·´å·´è¿ä¹å¤å¹´å¨VIPServer DNS-based Service Discoveryä¸çå®è·µè¯æï¼å¨äºåçæ¶ä»£ï¼åºç¨ä¼æ´å³æ³¨ä¸åºç¡è®¾æ½çè§£è¦åãå¤è¯­è¨ä¹è³å¤äºçè¯æ±ï¼æå¡åç°çæªæ¥ä¸å®æ¯åºäºæ åçDNSåè®®åï¼èä¸æ¯åEurekaæèåZooKeeperè¿æ ·çç§æAPIæèåè®®å, åæ¶å¨äºä¸ï¼å¨æå¡åç°åºæ¯ä¸­ï¼æ³¨åä¸­å¿æ´å³æ³¨çæ¯å¯ç¨æ§èä¸æ¯æ°æ®ä¸è´æ§ï¼æä»¥Nacosä¼é¦æ¨DNS-based Servcie Discoveryï¼å¹¶ä¼åå³æ³¨å¯ç¨æ§ï¼èè¿ä¹æ­£æ¯Nacoså¯ä»¥æ ç¼èåè¿Kubernetesæå¡åç°ä½ç³»çåå æå¨</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077691493-4dae9605-6886-4307-bc9d-16ba1cceb7ac.png" alt="Screen Shot 2018-06-27 at 13.34.18.png" class="img_ev3q"> </p><ul><li>Nacos ä¼å¡«è¡¥Spring Cloud ä½ç³»ä¸ Kubernetes ä½ç³»çé¸¿æ²
</li></ul><p>æªæ¥ä¼æè¶æ¥è¶å¤javaçæçç¨æ·ä¼éæ© Kubernetes+Spring Cloud ç»åï¼ä½ä¸å¹¸çæ¯ï¼å¨æå¡åç°åéç½®ç®¡ççè§£å³æ¹æ¡ä¸ï¼è¿2ä¸ªä½ç³»é½éç¨äºå®å¨ä¸åçæ¹æ¡ï¼è¿ç»åæ¶éç¨2ä¸ªä½ç³»çç¨æ·å¨æ³¨åä¸­å¿åéç½®ä¸­å¿çéæ±ä¸å¸¦æ¥äºéå¸¸å¤§çä¸å¿è¦çå¤ææ§ãNacosä¼å°è¯å¡«è¡¥2èçé¸¿æ²ï¼ä»¥ä¾¿å¨2å¥ä½ç³»ä¸å¯ä»¥éç¨åä¸å¥æå¡åç°åéç½®ç®¡ççè§£å³æ¹æ¡ï¼è¿å°å¤§å¤§çç®åä½¿ç¨åç»´æ¤çææ¬ã</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077731231-85a58c0e-ff5c-45a1-9bc8-b989e2b09d55.png" alt="Screen Shot 2018-06-27 at 13.35.05.png" class="img_ev3q"> </p><ul><li>Nacos ä¸ Service Mesh</li></ul><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077754298-39bbbdd0-c7af-434a-b189-8fd7ac958b43.png" alt="Screen Shot 2018-06-27 at 13.35.38.png" class="img_ev3q"> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-é¨åç¹æ§é¢è§">Nacos é¨åç¹æ§é¢è§<a href="#nacos-é¨åç¹æ§é¢è§" class="hash-link" aria-label="Direct link to Nacos é¨åç¹æ§é¢è§" title="Direct link to Nacos é¨åç¹æ§é¢è§">â</a></h2><p>åæ¶å¨ä¼ä¸ï¼å¤å®å¯¹Nacos 1.0çæ¬çé¨åç¹æ§ç»å¤§å®¶åäºé¢è§</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077784470-27f0e268-8d1f-443a-b1a5-3d59e15ab8f4.png" alt="Screen Shot 2018-06-27 at 13.36.06.png" class="img_ev3q"> </p><p>æ¯ä¸ªäº§åé½æèªå·±çé£æ ¼åæ ç­¾ï¼å¤å®å¨æ¼è®²ä¸­è¡¨ç¤ºï¼å¢éä¼éè¿æç»­çè´¡ç®ååªåï¼å¸ææªæ¥ç»Nacosè´´ä¸åä¸ªæ¹é¢çæ ç­¾</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077851626-25444089-c027-4b89-a606-2e693b4e052d.png" alt="Screen Shot 2018-06-27 at 13.37.10.png" class="img_ev3q"> </p><p>å¨é¨ç½²å½¢æä¸ï¼Nacosä¼æ¯æå¤ç§é¨ç½²å½¢æï¼åæ¬æ³¨åä¸­å¿ä¸éç½®ä¸­å¿çåç¦»é¨ç½²ï¼åæ¶å¨é¿éäºä¸æä¾NacosçSaaSåé¨ç½²æå¡ï¼æå´è¶£çå¯ä»¥ç´æ¥å¨é¿éäºä¸å¼éè´¦æ·åè´¹ä½éªNacosæå¡ï¼å¨å¼æºä¸åä¸åçæ¬å·®å«ä¸ï¼åä¸åçACMä»¥åEDAS ANSæ´å¼ºè°ä¸é¿éäºå¶å®äºæå¡ä»¥åå¶å®Aliware PaaSçåä¸äº§åçéæä½éªä»¥åæä¾åä¸æå¡ã</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077875162-26cfa0e2-3da0-473e-98b9-190aa6d6d97a.png" alt="Screen Shot 2018-06-27 at 13.36.37.png" class="img_ev3q"> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-çä¸»è¦äº§åéç¨ç¢åè®¡å">Nacos çä¸»è¦äº§åéç¨ç¢åè®¡å<a href="#nacos-çä¸»è¦äº§åéç¨ç¢åè®¡å" class="hash-link" aria-label="Direct link to Nacos çä¸»è¦äº§åéç¨ç¢åè®¡å" title="Direct link to Nacos çä¸»è¦äº§åéç¨ç¢åè®¡å">â</a></h2><blockquote><p>ç½é©¬ä¸æ¯ä¸å¤©å»ºæçï¼å¾å°ä¸ä¸èæ±ç´¢ </p></blockquote><p>å ä¸ºNacosæ¯è±èäºé¿éå·´å·´ççäº§ä»£ç ï¼æ´ä½ä½ç³»éå¸¸åºæï¼å¨ä»£ç æ¢³çãéæåå¥ç¦»ä¸åé¨çè¦åä¸æ¯ä¸ä¸ªæ¸è¿çè¿ç¨ï¼æä»¥@å¤å®ç¹å«æéç¤¾åºå¨Nacos 0.8è¾¾å°çäº§å¯ç¨ç¶æåï¼ä¸å»ºè®®ç¨äºçäº§ï¼ä¸è¿å¯ä»¥å¨å¼ååæµè¯ç¯å¢å°è¯ä½¿ç¨ï¼å¨0.8çæ¬å¼å§ï¼å¤§å®¶å¯ä»¥æ¾å¿çç¨äºçäº§ç¯å¢ï¼Nacosæ´ä½ç åè®¡åæ¯å¨æªæ¥6-8ä¸ªæå°è¾¾å°çäº§å¯ç¨çç¶æï¼æªæ¥ä¼å¾å¿«å¯å¨å°Nacosè´¡ç®ç»å¼æºåºéä¼è¿ä¸æ­¥ç¤¾åºååå±ã</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077912860-52c7fea4-5285-45a0-a3b8-73ba010c53da.png" alt="Screen Shot 2018-06-27 at 13.38.13.png" class="img_ev3q"> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-ä¸ç¸å³å¼æºäº§åçå¯¹æ¯">Nacos ä¸ç¸å³å¼æºäº§åçå¯¹æ¯<a href="#nacos-ä¸ç¸å³å¼æºäº§åçå¯¹æ¯" class="hash-link" aria-label="Direct link to Nacos ä¸ç¸å³å¼æºäº§åçå¯¹æ¯" title="Direct link to Nacos ä¸ç¸å³å¼æºäº§åçå¯¹æ¯">â</a></h2><blockquote><p>åå­åèä¸å</p></blockquote><p>å¦ä¸é¢å¯¹æ´ä½ä¸å¡åææ¯å½¢å¼çå¤æ­ï¼æä»¬å¯ä»¥çå° Nacos ä¸åç±»ç«åçä¸»è¦ä¸åä¸»è¦å¨äºçå¿µï¼@å¤å®ä»ç»è¯´ï¼ä¸¥æ ¼æ¥è¯´è¿äºå¸é¢ä¸çäº§åå¹¶ä¸ä¸Nacoså®å¨å¯¹æ ï¼åªæ¯ä¸Nacoséé¢çæå¡åç°é¨åå¯¹æ ï¼Nacosçæªæ¥æ´çéå¨è¿äºäº§åçåºç¡ä¸æå»ºæå¡å¹³å°çè½åï¼èä¸ä»ä»æ¯å¨åºç¡çæå¡åç°è½åä¸ã</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077938157-00e6b34f-9a16-498c-9b89-cc48f6d6bb73.png" alt="Screen Shot 2018-06-27 at 13.38.41.png" class="img_ev3q"> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åºååå±æ¬¢è¿å å¥å¹¶è´¡ç®ç¤¾åº">ç¤¾åºååå±ï¼æ¬¢è¿å å¥å¹¶è´¡ç®ç¤¾åº<a href="#ç¤¾åºååå±æ¬¢è¿å å¥å¹¶è´¡ç®ç¤¾åº" class="hash-link" aria-label="Direct link to ç¤¾åºååå±ï¼æ¬¢è¿å å¥å¹¶è´¡ç®ç¤¾åº" title="Direct link to ç¤¾åºååå±ï¼æ¬¢è¿å å¥å¹¶è´¡ç®ç¤¾åº">â</a></h2><blockquote><p>DISS is cheap, show me your hand
æ¯åæ§½æ´éè¦çæ¯æ­ææï¼åä¸ç¤¾åºä¸èµ·åå±Nacos</p></blockquote><p>ä¸é¿éå·´å·´æ©æçå¼æºä¸åï¼é¿éå·´å·´æ°ä¸è½®çå¼æºåæ¬RocketMQï¼Pouch Containerï¼Dubbo, Nacosç­å¼æºäº§åæ´å¼ºè°ç¤¾åºåçåå±ä¸ç¤¾åºçå¤æ ·æ§ï¼é¼å±æ´å¤çå¬å¸åæ´å¤çå¼åèåä¸å°å¼æºé¡¹ç®ä¸­æ¥ï¼ä¾æäºç¤¾åºå°äº§ååå¾æ´å¥½ï¼åæ¶ä¸å¼å§å°±ä¼å³æ³¨å½éåï¼ä¸å½å¤åç±»äº§åçç´é¢ç«äºã</p><p>Nacosåæ­¥è®¡åï¼å¨ç¬¬ä¸å¹´å°±å¸æ¶è³å°è¶è¿5åæ¥èªå¶å®å¬å¸çPMC,è³å°10åçå¤é¨Committer, èä¸Nacoså¤å¨é¡¹ç®å¼æºçåæï¼æå¤§æçç©ºé´è®©ææ³æ³ãæç­æãæè½åçå¼åèåä¸è¿æ¥ï¼Nacosæ¬èº«å¨å¾å¤æ¹é¢é½æ¥éè¦ç¤¾åºçå¸®å©ï¼è¿éé¢å°±æ¥éåæ¬åç«¯åUIå»ºè®¾ï¼Spring CloudãKubernetesãService Meshä½ç³»èåä¸éæï¼å¤è¯­è¨å®¢æ·ç«¯ç­åæ¹é¢çææ¯é¢å¯¼èçåä¸ï¼å¦ææ¨å¯¹Nacosè¿ä¸ªå¼æºé¡¹ç®æå´è¶£ï¼æ¬¢è¿å å¥Nacosç¤¾åºãä½ å¯ä»¥éè¿æ«âè¶å¥âçå¾®ä¿¡äºç»´ç ï¼è®©âè¶å¥â å¸®ä½ å å¥ âNacosç¤¾åºäº¤æµç¾¤â </p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530077965587-8f4e3100-bdd4-469a-9ea0-7af7061bc9ef.png" alt="Screen Shot 2018-06-27 at 13.39.09.png" class="img_ev3q"> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æè°¢æææªæ¥ç»æä»¬å¸®å©çæå">æè°¢æææªæ¥ç»æä»¬å¸®å©çæå<a href="#æè°¢æææªæ¥ç»æä»¬å¸®å©çæå" class="hash-link" aria-label="Direct link to æè°¢æææªæ¥ç»æä»¬å¸®å©çæå" title="Direct link to æè°¢æææªæ¥ç»æä»¬å¸®å©çæå">â</a></h2><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/15914/1530078016801-65ce72c1-c135-42b6-8076-a046f7829ba7.png" alt="Screen Shot 2018-06-27 at 13.39.40.png" class="img_ev3q"> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">â</a></h2><ul><li><a href="https://yq.aliyun.com/articles/601745" target="_blank" rel="noopener noreferrer">é¿éå·´å·´ä¸ºä»ä¹ä¸ç¨ ZooKeeper åæå¡åç°ï¼</a></li><li><a href="https://yq.aliyun.com/articles/226238?spm=5176.163362.847322.3.5a8925397in790" target="_blank" rel="noopener noreferrer">ç°ä»£åºç¨æ¶æä¸­çéç½®ç®¡çé¢ä¸´çææååºå¯¹ä¹é</a></li><li><a href="http://jm.taobao.org/2016/06/02/zhangwensong-and-load-balance/" target="_blank" rel="noopener noreferrer">ç« æåµ©åå£«åä»èåçè´è½½åè¡¡å¸å½</a></li><li><a href="https://blog.csdn.net/heyc861221/article/details/80126013" target="_blank" rel="noopener noreferrer">VIPServerï¼é¿éæºè½å°åæ å°åç¯å¢ç®¡çç³»ç»è¯¦è§£</a></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="é¿éå·´å·´æå¡æ³¨åä¸­å¿äº§åConfigServer 10å¹´ææ¯åå±åé¡¾"><meta itemprop="keywords" content="nacos,configserver,alibaba"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/alibaba-configserver">é¿éå·´å·´æå¡æ³¨åä¸­å¿äº§åConfigServer 10å¹´ææ¯åå±åé¡¾</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-05-20T00:00:00.000Z" itemprop="datePublished">May 20, 2018</time> Â· <!-- -->22 min read</div></header><div class="markdown" itemprop="articleBody"><p>ä½èï¼é¿éå·´å·´é«çº§ææ¯ä¸å®¶ï¼è®¸çæ©(æä¹)</p><p>æç« æ¦è¦ï¼æ¬æç®åæè¿°äºEureka1.0å­å¨çæ¶æé®é¢ï¼Eureka2.0è®¾æ³çæ¶æãè¯¦ç»åé¡¾äºé¿éå·´å·´çæå¡æ³¨åä¸­å¿ConfigServeräº§åä»2008å¹´å»ºè®¾åå¹´è³ä»ç»åçå³é®æ¶ææ¼è¿ãéè¿è¿ä¸ªæç« ä½ ä¼å¯¹åºäºAPæ¨¡å¼çæ³¨åä¸­å¿å¨ææ¯åå±è¿ç¨ä¸­å°ä¼ç¢°å°çé®é¢æææç¥ã</p><h1>Eureka1.0æ¶æå­å¨çé®é¢</h1><p>Eurekaä½ä¸ºNetflixå¬å¸åæ¨åSpringCloudå¾®æå¡æ éçæ³¨åä¸­å¿å¼æºè§£å³æ¹æ¡ï¼å¶Eureka 2.0 (Discontinued)çæ¶æ¯å¨ç¤¾åºå¼èµ·äºä¸å°çéªå¨ï¼å¶å®æ©å¨2015å¹´ç¤¾åºå°±å·²ç»æ¾åºäº2.0æ¶æçåçº§è®¾æ³ï¼ä½æ¯3å¹´çæ¶é´è¿å»ï¼ç­å°çç¡®æ¯Discontinuedçæ¶æ¯ï¼è½ç¶2.0çä»£ç å¨githubçä¸»é¡µä¸ä¹å·²ç»æ¾åºï¼ä½æ¯åè¯«ç¨æ·è¦èªè¡æ¿æå½ä¸­çä½¿ç¨é£é©ãææ³ä¸ä¼æäººççæ2.0ç´æ¥æå¥å°çäº§ä¸­ä½¿ç¨ã</p><p>å¯¹äºä¸ºä»ä¹è¦åEureka2.0ï¼å¶å®æ¹çwikiä¸­çWhy Eureka 2.0åEureka 2.0 Improvementsåäºå¦ä¸çè¯´æ</p><ul><li>Only support homogenous client views: Eureka servers only expects the client to always get the entire registry and does not allow to get specific applications/VIP addresses. This imposes a memory limitation on all clients registering with Eureka, even if they need a very small subset of the Eurekaâs registry.</li><li>Only supports scheduled updates: Eureka client follows a poll model to fetch updates from the server routinely. This imposes an overhead on the client of doing a scheduled call to the server, even if there are no changes and also delays the updates by the poll interval.</li><li>Replication algorithm limits scalability: Eureka follows a broadcast replication model i.e. all the servers replicate data and heartbeats to all the peers. This is simple and effective for the data set that eureka contains however replication is implemented by relaying all the HTTP calls that a server receives as is to all the peers. This limits scalability as every node has to withstand the entire write load on eureka.</li></ul><p>Although Eureka 2.0 provides a more richer feature set, the above limitations are the major driving factors for the changes proposed in this version.
Based on the above motivations, Eureka 2.0 achieves the following improvements:</p><ul><li>Interest based subscription model for registry data: A client of Eureka is able to select a part of the instance registry in which it is interested in and the eureka server only sends information about that part of the registry. Eg: A client can say I am only interested in application âWebFarmâ and then the server will only send information about WebFarm instances. Eureka server provides various selection criterions and a way to update this interest set dynamically.</li><li>Push model from the server for any changes to the interest set: Instead of the current pull model from the client, Eureka servers pushes updates for changes to the interest set, to the client.</li><li>Optimized replication: As Eureka 1.0, Eureka 2.0 also follows a broadcast replication model i.e. every node replicates data to all other nodes. However, the replication algorithm is much more optimized eliminating the need of sending heartbeats for every instance in the registry. This drastically reduce the replication traffic and achieves much higher scalability.</li><li>Auto-scaled Eureka servers: Eureka 2.0 divides the read (discovery of data) and write (registration) concerns into separate clusters. Since, the write load is predictable (proportional to the number of instances in a region), the write cluster is pre-scaled. On the other hand, read load is unpredictable (proportional to subscriptions from clients) and hence the read farm is auto-scaled.</li><li>Audit log: Eureka 2.0 provides an elaborate audit log for any change done to the registry. This helps Eureka owners as well as users to get insight into debugging the state of individual application instances as exists in Eureka. The audit log by default is persisted to a log file, but different persistent storages can be plugged-in.</li><li>Dashboard: Eureka 2.0 provides a rich dashboard (as opposed to very rudimentary dashboard of Eureka 1.0) with insights into Eureka internals with respect to registry views, server health, subscription state, audit log, etc.</li></ul><p>Â ç®åç¿»è¯æ»ç»ï¼ä¹å°±æ¯Eureka1.0çæ¶æä¸»è¦å­å¨å¦ä¸çä¸è¶³ï¼</p><ul><li>è®¢éç«¯æ¿å°çæ¯æå¡çå¨éçå°åï¼è¿ä¸ªå¯¹äºå®¢æ·ç«¯çåå­æ¯ä¸ä¸ªæ¯è¾å¤§çæ¶èï¼ç¹å«å¨å¤æ°æ®ä¸­å¿é¨ç½²çæåµä¸ï¼æä¸ªæ°æ®ä¸­å¿çè®¢éç«¯å¾å¾åªéè¦åæ°æ®ä¸­å¿çæå¡æä¾ç«¯å³å¯ã</li><li>pullæ¨¡å¼ï¼å®¢æ·ç«¯éç¨å¨ææ§åæå¡ç«¯ä¸»å¨pullæå¡æ°æ®çæ¨¡å¼ï¼ä¹å°±æ¯å®¢æ·ç«¯è½®è®­çæ¹å¼ï¼ï¼è¿ä¸ªæ¹å¼å­å¨å®æ¶æ§ä¸è¶³ä»¥åæ è°çæåæ§è½æ¶èçé®é¢ã</li><li>ä¸è´æ§åè®®ï¼Eurekaéç¾¤çå¤å¯æ¬çä¸è´æ§åè®®éç¨ç±»ä¼¼âå¼æ­¥å¤åâçAPåè®®ï¼æ¯ä¸ä¸ªserveré½ä¼ææ¬å°æ¥æ¶å°çåè¯·æ±ï¼register/heartbeat/unregister/updateï¼åéç»ç»æéç¾¤çå¶ä»ææçæºå¨ï¼Eurekaç§°ä¹ä¸ºpeerï¼ï¼ç¹å«æ¯hearbeatæ¥ææ¯å¨ææ§æç»­ä¸æ­çå¨client-&gt;server-&gt;all peersä¹é´ä¼ éï¼è¿æ ·çä¸è´æ§ç®æ³ï¼å¯¼è´äºå¦ä¸é®é¢<ul><li>æ¯ä¸å°Serveré½éè¦å­å¨å¨éçæå¡æ°æ®ï¼Serverçåå­ææ¾ä¼æä¸ºç¶é¢ã</li><li>å½è®¢éèå´æ¥è¶å¤çæ¶åï¼éè¦æ©å®¹Eurekaéç¾¤æ¥æé«è¯»çè½åï¼ä½æ¯æ©å®¹çåæ¶ä¼å¯¼è´æ¯å°serveréè¦æ¿ææ´å¤çåè¯·æ±ï¼æ©å®¹çææä¸ææ¾ã</li><li>ç»æEurekaéç¾¤çææserveré½éè¦éç¨ç¸åçç©çéç½®ï¼å¹¶ä¸åªè½éè¿ä¸æ­çæé«éç½®æ¥å®¹çº³æ´å¤çæå¡æ°æ®</li></ul></li></ul><p>Eureka2.0ä¸»è¦å°±æ¯ä¸ºäºè§£å³ä¸è¿°é®é¢èæåºçï¼ä¸»è¦åå«äºå¦ä¸çæ¹è¿åå¢å¼º</p><ul><li>æ°æ®æ¨éä»pullèµ°åpushæ¨¡å¼ï¼å¹¶ä¸å®ç°æ´å°ç²åº¦çæå¡å°åæéè®¢éçåè½ã</li><li>è¯»ååç¦»ï¼åéç¾¤ç¸å¯¹ç¨³å®ï¼æ éç»å¸¸æ©å®¹ï¼è¯»éç¾¤å¯ä»¥æéæ©å®¹ä»¥æé«æ°æ®æ¨éè½åã</li><li>æ°å¢å®¡è®¡æ¥å¿çåè½ååè½æ´ä¸°å¯çDashboardã</li></ul><p>Eureka1.0çæ¬å­å¨çé®é¢ä»¥åEureka2.0æ¶æè®¾æ³åé¿éå·´å·´åé¨çåç±»äº§åConfigServeræç»åçé¶æ®µéå¸¸ç¸ä¼¼ï¼çè³Eureka2.0å¦æççè½å°åå­å¨çé®é¢ï¼é¿éå·´å·´æ©å·²ç»åç°å¹¶ä¸å·²ç»è§£å³ï¼ï¼ä¸é¢æå¸¦çä½ æ¥åé¡¾ä¸ä¸æä»¬æç»åè¿çã</p><h1>é¿éå·´å·´æå¡æ³¨åä¸­å¿ConfigServerææ¯åç°è·¯çº¿</h1><p>é¿éå·´å·´æ©å¨2008å°±å¼å§äºæå¡åçè¿ç¨ï¼å¨é£ä¸ªæ¶åå°±å°±å·²ç»èªç åºæå¡åç°è§£å³æ¹æ¡ï¼åé¨äº§ååå«ConfigServerï¼ã</p><p>å½2012å¹´9æ1å·Eurekaæ¾åºç¬¬ä¸ä¸ª1.1.2çæ¬çæ¶åï¼æä»¬æConfigServeråEurekaè¿è¡äºæ·±åº¦çå¯¹æ¯ï¼å¸æè½å¤ä»Eurekaæ¾å°ä¸äºåé´æ¥è§£å³å½æ¶çConfigServeråå±è¿ç¨ä¸­ç¢°å°çé®é¢ï¼åé¢ä¼æå°ï¼ï¼ç¶èäºä¸æ¿è¿ï¼æä»¬å·²ç»åç°Eureka1.xæ¶æå­å¨æ¯è¾ä¸¥éçæ©å±æ§åå®æ¶æ§çé®é¢ï¼æ­£å¦ä¸é¢ææè¿°çï¼ï¼è¿äºé®é¢ConfigServerå½æ¶ççæ¬ä¹å¤§åå°å¼çå­å¨ï¼æä»¬å¨2012å¹´åºå¯¹ConfigServerçæ¶æè¿è¡äºåçº§æ¥è§£å³è¿äºé®é¢ã</p><p>å½2015å¹´Eurekaç¤¾åºæ¾åº2.0æ¶æåçº§çå£°é³çæ¶åï¼æä»¬åæ ·ç¬¬ä¸æ¶é´æ¥çäº2.0çç®æ æ¶æè®¾è®¡ï¼æä»¬æå¥çåç°Eurekaçè¿ä¸ªæ°çæ¶æå2012å¹´åºConfigServerçæ¶æéå¸¸ç¸ä¼¼ï¼å½æ¶ä¸æ¹é¢ææ¨âè±éæè§ç¥åâï¼å¦ä¸æ¹ä¹æäºå¤±æï¼å ä¸ºConfigServer2012å¹´çæ¶ææ©å°±æ æ³æ»¡è¶³é¿éå·´å·´åé¨çåå±è¯æ±äºã</p><p>ä¸é¢æä»å¤´åé¡¾ä¸ä¸ï¼é¿éå·´å·´çConfigServerçææ¯åå±è¿ç¨ä¸­çå ä¸ªéç¨ç¢äºä»¶ã</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2008å¹´æ configserverçæ¶ä»£">2008å¹´ï¼æ ConfigServerçæ¶ä»£<a href="#2008å¹´æ configserverçæ¶ä»£" class="hash-link" aria-label="Direct link to 2008å¹´ï¼æ ConfigServerçæ¶ä»£" title="Direct link to 2008å¹´ï¼æ ConfigServerçæ¶ä»£">â</a></h2><p>åå©ç¨ç¡¬ä»¶è´è½½è®¾å¤F5æä¾çvipåè½ï¼æå¡æä¾æ¹åªæä¾vipåååä¿¡æ¯ï¼è°ç¨æ¹éè¿ååæ¹å¼è°ç¨ï¼ææè¯·æ±åæµéé½èµ°F5è®¾å¤ã</p><p>éå°çé®é¢ï¼</p><ul><li>è´è½½ä¸åè¡¡ï¼å¯¹äºé¿è¿æ¥åºæ¯ï¼F5ä¸è½æä¾è¾å¥½çè´è½½åè¡¡è½åãå¦æå¡æä¾æ¹åå¸çåºæ¯ï¼æåä¸æ¹åå¸çæºå¨ï¼åºæ¬ä¸ä¸è½è¢«åéå°æµéãéè¦å¨åå¸å®æåï¼PEæå·¥å»æ­å¼ææè¿æ¥ï¼éæ°è§¦åè¿æ¥çº§å«çè´è½½åè¡¡ã</li><li>æµéç¶é¢ï¼ææçè¯·æ±é½èµ°F5è®¾å¤ï¼å±äº«èµæºï¼æµéå¾å®¹æä¼ææ»¡ç½å¡ï¼ä¼é æåºç¨ä¹é´çç¸äºå½±åã</li><li>åç¹æéï¼F5è®¾å¤æéä¹åï¼ææè¿ç¨è°ç¨ä¼è¢«ç»æ­¢ï¼å¯¼è´å¤§é¢ç§¯ç«çªã</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2008å¹´configserveråæºçv10">2008å¹´ï¼ConfigServeråæºçV1.0<a href="#2008å¹´configserveråæºçv10" class="hash-link" aria-label="Direct link to 2008å¹´ï¼ConfigServeråæºçV1.0" title="Direct link to 2008å¹´ï¼ConfigServeråæºçV1.0">â</a></h2><p>åæºçå®ä¹åå®ç°äºæå¡åç°çå³é®çæ¨¡åè®¾è®¡ï¼åæ¬æå¡åå¸ï¼æå¡è®¢éï¼å¥åº·æ£æ¥ï¼æ°æ®åæ´ä¸»å¨æ¨éï¼è¿ä¸ªæ¨¡åè³ä»ä»ç¶éç¨ï¼ï¼åºç¨éè¿ååµSDKçæ¹å¼æ¥å¥å®ç°æå¡çåå¸åè®¢éï¼è¿ä¸ªçæ¬å¾éè¦çä¸ä¸ªè®¾è®¡å³ç­å°±æ¯æå¡æ°æ®åæ´å°åºæ¯pullè¿æ¯pushçæ¨¡å¼ï¼æä»¬ä»æåå°±ç¡®å®å¿é¡»éç¨pushçæ¨¡å¼æ¥ä¿è¯æ°æ®åæ´æ¶çæ¨éå®æ¶æ§ï¼Eureka1.xçæ¶æéç¨çæ¯pullçæ¨¡å¼ï¼</p><p>å½æ¶ï¼HSFåNotifyå°±æ¯éç¨åæºççConfigServeræ¥å®ææå¡çåç°åtopicçåç°ãåæºççConfigServeråHSFãNotifyéåï¼éç¨æå¡åç°çææ¯ï¼è®©è¯·æ±éè¿ç«¯å°ç«¯çæ¹å¼æµå¨ï¼é¿åäº§çæµéç¶é¢ååç¹æéãConfigServerå¯ä»¥å¨æçå°æå¡å°åæ¨éå°å®¢æ·ç«¯ï¼æå¡è°ç¨èå¯ä»¥ç¥éæææä¾æ­¤æå¡çæºå¨ï¼æ¯ä¸ªè¯·æ±é½å¯ä»¥éè¿éæºæèè½®è¯¢çæ¹å¼éæ©æå¡ç«¯ï¼åå°è¯·æ±çº§å«çè´è½½åè¡¡ãè¿ä¸ªçæ¬å·²ç»è½å¾å¥½çè§£å³F5è®¾å¤ä¸è½è§£å³çä¸ä¸ªé®é¢ã</p><p>ä½æ¯åæºçæ¬çé®é¢ä¹éå¸¸ææ¾ï¼ä¸å·å¤è¯å¥½çå®¹ç¾æ§ï¼</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2009å¹´åconfigserveråæºçv15">2009å¹´åï¼ConfigServeråæºçV1.5<a href="#2009å¹´åconfigserveråæºçv15" class="hash-link" aria-label="Direct link to 2009å¹´åï¼ConfigServeråæºçV1.5" title="Direct link to 2009å¹´åï¼ConfigServeråæºçV1.5">â</a></h2><p>åæºççConfigServeræé¢ä¸´çé®é¢å°±æ¯å½ConfigServerå¨åå¸/åçº§çæ¶åï¼å¦æåºç¨åå¥½ä¹å¨åå¸ï¼è¿ä¸ªæ¶åä¼å¯¼è´è®¢éå®¢æ·ç«¯æ¿ä¸å°æå¡å°åçæ°æ®ï¼å½±åæå¡çè°ç¨ï¼æä»¥å½æ¶æä»¬å¨SDKä¸­å å¥äºæ¬å°çç£çç¼å­çåè½ï¼åºç¨å¨æ¿å°æå¡ç«¯æ¨éçæ°æ®çæ¶åï¼ä¼ååå¥æ¬å°ç£çï¼ç¶ååæ´æ°åå­æ°æ®ï¼å½åºç¨éå¯çæ¶åï¼ä¼åä»æ¬å°ç£çè·åæå¡æ°æ®ï¼éè¿è¿æ ·çæ¹å¼è§£è¦äºConfigServerååºç¨åå¸çäºç¸ä¾èµï¼è¿ä¸ªæ¹å¼æ²¿ç¨è³ä»ãï¼æå¾æè®¶ï¼Eureka1.xççæ¬è³ä»ä»ç¶æ²¡æå®ç°å®¢æ·ç«¯ç£çç¼å­çåè½ï¼é¾éEurekaéç¾¤å¯ä»¥ä¿æ100%çSLAåï¼ï¼</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2009å¹´7æconfigserveréç¾¤çæ¬v20">2009å¹´7æï¼ConfigServeréç¾¤çæ¬V2.0<a href="#2009å¹´7æconfigserveréç¾¤çæ¬v20" class="hash-link" aria-label="Direct link to 2009å¹´7æï¼ConfigServeréç¾¤çæ¬V2.0" title="Direct link to 2009å¹´7æï¼ConfigServeréç¾¤çæ¬V2.0">â</a></h2><p>ConfigServerçéç¾¤çæ¬è·æ®éçåºç¨æä¸äºåºå«ï¼æ®éçåºç¨éè¿æå¡æååï¼å·²ç»å±äºæ ç¶æåï¼æ¬èº«å·²ç»å·å¤è¯å¥½çå¯æ©å±æ§ï¼åæºåéç¾¤åªæ¯ä»£ç å¤é¨ç½²å å°ï¼ConfigServeræ¯æç¶æçï¼åå­ä¸­çæå¡ä¿¡æ¯å°±æ¯æ°æ®ç¶æï¼å¦æè¦æ¯æéç¾¤é¨ç½²ï¼è¿äºæ°æ®è¦ä¸ååçï¼è¦ä¸åå¨éåæ­¥ï¼ç±äºåççæ¹æ¡å¹¶æ²¡æçæ­£è§£å³æ°æ®é«å¯ç¨çé®é¢ï¼åçæ¹æ¡è¿éè¦èèå¯¹åºçfailoveræ¹æ¡ï¼ï¼åæ¶å¤æåº¦è¾é«ï¼æä»¥å½æ¶æä»¬éæ©äºåæºå­å¨å¨éæå¡æ°æ®å¨éçæ¹æ¡ãä¸ºäºç®åæ°æ®åæ­¥çé»è¾ï¼æå¡ç«¯ä½¿ç¨å®¢æ·ç«¯æ¨¡å¼åæ­¥ï¼æå¡ç«¯æ¶å°å®¢æ·ç«¯è¯·æ±åï¼éè¿å®¢æ·ç«¯çæ¹å¼å°æ­¤è¯·æ±è½¬åç»éç¾¤ä¸­çå¶ä»çConfigServerï¼åå°åæ­¥çææï¼æ¯ä¸å°ConfigServeré½æå¨éçæå¡æ°æ®ã</p><p>è¿ä¸ªæ¶æåEureka1.xçæ¶ææäººçç¸ä¼¼ï¼æä»¥å¾ææ¾çEureka1.xå­å¨çé®é¢æä»¬ä¹å­å¨ï¼å½æ¶çç¼è§£çåæ³æ¯æä»¬çConfigServeréç¾¤å¨é¨éç¨é«éç©çæ¥é¨ç½²ã</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2010å¹´åºconfigserveréç¾¤çv25">2010å¹´åºï¼ConfigServeréç¾¤çV2.5<a href="#2010å¹´åºconfigserveréç¾¤çv25" class="hash-link" aria-label="Direct link to 2010å¹´åºï¼ConfigServeréç¾¤çV2.5" title="Direct link to 2010å¹´åºï¼ConfigServeréç¾¤çV2.5">â</a></h2><p>åºäºå®¢æ·ç«¯æ¨¡å¼å¨éç¾¤é´åæ­¥æå¡æ°æ®çæ¹æ¡æ¸æ¸æ ä»¥ä¸ºç»§äºï¼ç¹å«æ¯æ¯æ¬¡åºç¨å¨åå¸çæ¶åäº§çäºå¤§éçæå¡åå¸åæ°æ®æ¨éï¼æå¡å¨çç½å¡ç»å¸¸è¢«ææ»¡ï¼åæ¶cmsgcä¹éå¸¸é¢ç¹ï¼æä»¬å¯¹æ°æ®åæ­¥çæ¹æ¡è¿è¡äºåçº§ï¼å»é¤äºåºäºå®¢æ·ç«¯çåæ­¥æ¨¡å¼ï¼éç¨äºæ¹éçåºäºé¿è¿æ¥çº§å«çæ°æ®åæ­¥+å¨ææ§çrenewçæ¹æ¡æ¥ä¿è¯æ°æ®çä¸è´æ§ï¼è¿ä¸ªåæ­¥æ¹æ¡å½æ¶è¿ç³è¯·äºå½å®¶ä¸å©ï¼ï¼è¿ä¸ªçæ¬è¿å¯¹cpuååå­åäºéç¹ä¼åï¼åæ¬åæ­¥ä»»å¡çåå¹¶ï¼æ¨éä»»å¡çåå¹¶ï¼æ¨éæ°æ®çåç¼©ï¼ä¼åæ°æ®ç»æç­ï¼</p><p>è¿ä¸ªçæ¬æ¯ConfigServeråå²ä¸ä¸ä¸ªæ¯è¾ç¨³å®çéç¨ç¢çæ¬ã</p><p>ä½æ¯éç2009å¹´å¤©ç«ç¬åçååä¸å¤§ä¿æ´»å¨æ¨ªç©ºåºä¸ï¼æå¡æ°éå§å¢ï¼åºç¨åå¸æ¶åConfigServeréç¾¤åå¼å§äºå¤§é¢ç§¯çæå¨ï¼è¿æ¯ä½ç°å¨åå­åç½å¡çåç´§ï¼çè³æ¸æ¸å°äºfullgcçè¾¹ç¼ï¼ä¸ºäºæé«æ°æ®æ¨éè½åï¼éè¦å¯¹éç¾¤è¿è¡æ©å®¹ï¼ä½æ¯æ©å®¹çåæ¶åä¼å¯¼è´æ¯å°æå¡å¨çåè½åä¸éï¼æä»¬çæ¶æå°äºâæä¸è«è¦æµ®èµ·ç¢âçç¶é¢ã</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2012å¹´åºconfigserveréç¾¤çv30">2012å¹´åºï¼ConfigServeréç¾¤çV3.0<a href="#2012å¹´åºconfigserveréç¾¤çv30" class="hash-link" aria-label="Direct link to 2012å¹´åºï¼ConfigServeréç¾¤çV3.0" title="Direct link to 2012å¹´åºï¼ConfigServeréç¾¤çV3.0">â</a></h2><p>å¨2011å¹´ååä¸ä¹åæä»¬å®æäºV3æ¶æçè½å°ï¼ç±»ä¼¼Eureka2.0æè®¾è®¡çè¯»ååç¦»çæ¹æ¡ï¼æä»¬æConfigServeréç¾¤æåæsessionådataä¸¤ä¸ªéç¾¤ï¼å®¢æ·ç«¯åççææå¡æ°æ®æ³¨åå°sessionéç¾¤ä¸­ï¼sessionéç¾¤ä¼ææ°æ®å¼æ­¥çåå°dataéç¾¤ï¼dataéç¾¤å®ææå¡æ°æ®çèååï¼æåç¼©å¥½çæå¡æ°æ®æ¨éå°sessionå±ç¼å­ä¸æ¥ï¼å®¢æ·ç«¯å¯ä»¥ç´æ¥ä»sessionå±è®¢éå°æéè¦çæå¡æ°æ®ï¼è¿ä¸ªåå±æ¶æä¸­ï¼sessionæ¯åçå­å¨é¨åçæå¡æ°æ®çï¼æä»¬è®¾è®¡äºfailoveræ¹æ¡ï¼ï¼dataå­å¨çæ¯å¨éæå¡æ°æ®ï¼å¤©çå·å¤failoverè½åï¼ï¼</p><p>dataéç¾¤ç¸å¯¹æ¯è¾ç¨³å®ï¼ä¸éè¦ç»å¸¸æ©å®¹ï¼sessionéç¾¤å¯ä»¥æ ¹æ®æ°æ®æ¨éçéæ±å¾æ¹ä¾¿çæ©å®¹ï¼è¿ä¸ªæè·¯åEureka2.0ææè¿°çæè·¯æ¯ä¸è´çï¼ï¼sessionçæ©å®¹ä¸ä¼ç»dataéç¾¤å¸¦æ¥ååçå¢å ãsessionéç¾¤æä»¬éç¨ä½éçèææºå³å¯æ»¡è¶³éæ±ï¼dataç±äºå­å¨æ¯å¨éçæ°æ®æä»¬ä»ç¶éç¨äºç¸å¯¹é«éçç©çæºï¼ä½æ¯åV2.5ç¸æ¯ï¼å¯¹ç©çæºçæ§è½è¦æ±å·²ç»ç­å¤ä¸éï¼</p><p>è¿ä¸ªçæ¬ä¹æ¯ConfigServeråå²ä¸ä¸ä¸ªåæ¶ä»£çç¨³å®çå¤§çæ¬ã</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2014å¹´configserveréç¾¤çv35">2014å¹´ï¼ConfigServeréç¾¤çV3.5<a href="#2014å¹´configserveréç¾¤çv35" class="hash-link" aria-label="Direct link to 2014å¹´ï¼ConfigServeréç¾¤çV3.5" title="Direct link to 2014å¹´ï¼ConfigServeréç¾¤çV3.5">â</a></h2><p>2013å¹´ï¼é¿éå·´å·´å¼å§è½å°äºå¼å°å¤æ´»æ¹æ¡ï¼ä»ä¸ä¸ªIDCæ¸æ¸å¾å¤ä¸ªIDCè·¨è¶ï¼éä¹èæ¥çå¯¹æµéçç²¾ç»åç®¡æ§è¦æ±è¶æ¥è¶é«ï¼æ¯å¦æå¡çåæºæ¿è°ç¨ï¼æå¡æµéçè°æ¨ä»¥æ¯æç°åº¦è½åç­ï¼ï¼åºäºè¿ä¸ªèæ¯ConfigServerå¼å¥äºæå¡åæ°æ®çæ¦å¿µï¼æ¯æå¯¹æå¡åIPè¿è¡åæ°æ®çææ æ¥æ»¡è¶³åç§åæ ·çæå¡åç»è¯æ±ã</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2017å¹´configserveréç¾¤çv40">2017å¹´ï¼ConfigServeréç¾¤çV4.0<a href="#2017å¹´configserveréç¾¤çv40" class="hash-link" aria-label="Direct link to 2017å¹´ï¼ConfigServeréç¾¤çV4.0" title="Direct link to 2017å¹´ï¼ConfigServeréç¾¤çV4.0">â</a></h2><p>V3çæ¬å¯è§çä¸ä¸ªæ¶æçé®é¢å°±æ¯dataéç¾¤æ¯å­å¨å¨éçæå¡æ°æ®çï¼è¿ä¸ªéçæå¡æ°çä¸æ¥ä¿±å¢ä¸å®ä¼èµ°å°åçº§ç©çæºéç½®ä¹æ æ³è§£å³é®é¢çæåµï¼æä»¬å½æ¶å·²ç»å¨çäº§ä½¿ç¨äºG1çåå¾åæ¶ç®æ³ï¼ï¼æä»¥æä»¬ç»§ç»­å¯¹æ¶æè¿è¡åçº§ï¼åºäºV3çæ¶æè¿è¡åçº§å¶å®å¹¶ä¸å¤æï¼sessionå±çè®¾è®¡ä¿æä¸åï¼æä»¬ædataè¿è¡åçï¼æ¯ä¸ä¸ªåçåæ ·æç§éç¾¤çæ¹å¼é¨ç½²ä»¥æ¯æfailoverçè½åï¼</p><table><thead><tr><th></th><th>ConfigServer</th><th>Eureka</th></tr></thead><tbody><tr><td>2008å¹´</td><td>V1.0ï¼åæºçï¼å®ä¹äºæå¡åç°çé¢åæ¨¡å</td><td></td></tr><tr><td>2009å¹´å</td><td>V1.5ï¼åºç¨åConfigServeréç¾¤åå¸è§£è¦</td><td></td></tr><tr><td>2009å¹´7æ</td><td>V2.0ï¼åºäºå®¢æ·ç«¯æ¨¡å¼åæ­¥æ°æ®ï¼æ¯æéç¾¤é¨ç½²</td><td></td></tr><tr><td>2010å¹´åº</td><td>V2.5ï¼ä¼åéç¾¤é´æ°æ®åæ­¥æ¨¡å¼ï¼ç³è¯·å½å®¶ä¸å©ã</td><td></td></tr><tr><td>2012å¹´9æ1å·</td><td></td><td>Eureka1.0æ­£å¼å¼æº</td></tr><tr><td>2012å¹´åº</td><td>V3.0ï¼æ¯æsessionådataåå±é¨ç½²</td><td></td></tr><tr><td>2014å¹´</td><td>V3.5ï¼æ¯æå¼å°å¤æ´»ç­ç»ååºæ¯</td><td></td></tr><tr><td>2015å¹´</td><td></td><td>Eureka2.0æ¶æåçº§æ¹æ¡å¬å¸</td></tr><tr><td>2017å¹´</td><td>V4.0ï¼æ¯ædataåçè½å</td><td></td></tr><tr><td>2018å¹´7æ</td><td></td><td>Eureka2.0æ¶æåçº§å®£å¸åæ­¢</td></tr></tbody></table><h1>Nacos</h1><p>ä½ä¸ºåå±äºAPç±»åçæ³¨åä¸­å¿ï¼EurekaåConfigServeråå±è¿ç¨ä¸­æé¢ä¸´çè¯¸å¤é®é¢æå¾å¤§çç¸ä¼¼æ§ï¼ä½æ¯é¿éå·´å·´è¿äºå¹´ä¸å¡çè·¨è¶å¼åå±ï¼æ¯å¹´ç¿»çªçæå¡è§æ¨¡ï¼ä¸æ­çç»ConfigServerçææ¯æ¶ææ¼è¿å¸¦æ¥æ´é«çè¦æ±åææï¼æä»¬ææ´å¤çæºä¼å¨çäº§ç¯å¢åç°åè§£å³ä¸ä¸ªä¸ªé®é¢çè¿ç¨ä¸­ï¼åæ¶æçä¸ä»£ä»£åçº§ãæä»¬æ­£å¨è®¡åéè¿å¼æºçææ®µææä»¬è¿äºå¹´å¨çäº§ç¯å¢ä¸çå®è·µç»éªéè¿Nacos(<a href="http://nacos.io" target="_blank" rel="noopener noreferrer">é¾æ¥</a>)äº§åè´¡ç®ç»ç¤¾åºï¼ä¸æ¹é¢è½å¤å©ååæ»¡è¶³åè¡ä»¬å¨å¾®æå¡è½å°è¿ç¨å½ä¸­å¯¹å·¥ä¸çº§æ³¨åä¸­å¿çè¯æ±ï¼å¦ä¸æ¹é¢ä¹å¸æéè¿å¼æºç¤¾åºåå¼æºçæçåååå±ç»ConfigServerå¸¦æ¥æ´å¤çå¯è½æ§ã</p><p>ççå¤æ¥ï¼å¨Eureka 2.0 (Discontinued) å³å°ç»æçæ¶åï¼å¨åæ ·çäºåçæ¶ä»£ï¼Nacoså´æ­£å¨è¿æ¥æ°çï¼ææ¯æ¼è¿ååè¿çè¶£å³è«è¿äºæ­¤ã</p><p>Nacoså°åªåç»§æ¿Eurekaæªç«çéå¿ï¼æçAPç³»æ³¨åä¸­å¿çæå¸ç»§ç»­åè¡ï¼ä¸åçæ¯Nacosæ´å³æ³¨DNS-based Service Discoveryä»¥åä¸Kubernetesä½ç³»çèä¼è´¯éã</p><p>æä»¬çä¸éæªæ¥ï¼å´ä»å°ä¸åè¡ä»¬ä¸èµ·ä¸ä¸æ±ç´¢ï¼ç ¥ç ºåè¡ã</p><p>æåéä¸Nacosçæ¶æå¾ã</p><p><img loading="lazy" src="https://cdn.yuque.com/lark/0/2018/png/12425/1530856061648-7180b97f-b61d-4127-924e-a0743b9e9d5a.png" alt="å±å¹å¿«ç§ 2018-06-28 ä¸å4.58.59.png | center | 748x544" class="img_ev3q"></p></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/blog/page/5"><div class="pagination-nav__label">Newer Entries</div></a></nav></main></div></div></div></div>
<script src="/en/assets/js/runtime~main.2f81187a.js"></script>
<script src="/en/assets/js/main.1ba25a89.js"></script>
</body>
</html>